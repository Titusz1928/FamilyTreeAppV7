"use strict";(self.webpackChunkfamilytreeapp=self.webpackChunkfamilytreeapp||[]).push([[179],{6386:(mt,Ee,R)=>{R.d(Ee,{hO:()=>_t});var f=R(4650),q=R(5578),W=R(1617),re=R(7212);R(9357);class K{constructor(Dt,j){this._delegate=Dt,this.firebase=j,(0,re._addComponent)(Dt,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=Dt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Dt){this._delegate.automaticDataCollectionEnabled=Dt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Dt=>{this._delegate.checkDestroyed(),Dt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(Dt,j=re._DEFAULT_ENTRY_NAME){var ee;this._delegate.checkDestroyed();const ie=this._delegate.container.getProvider(Dt);return!ie.isInitialized()&&"EXPLICIT"===(null===(ee=ie.getComponent())||void 0===ee?void 0:ee.instantiationMode)&&ie.initialize(),ie.getImmediate({identifier:j})}_removeServiceInstance(Dt,j=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Dt).clearInstance(j)}_addComponent(Dt){(0,re._addComponent)(this._delegate,Dt)}_addOrOverwriteComponent(Dt){(0,re._addOrOverwriteComponent)(this._delegate,Dt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new q.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function U(){const wt=function me(wt){const Dt={},j={__esModule:!0,initializeApp:function Q(Re,qt={}){const Xe=re.initializeApp(Re,qt);if((0,q.r3)(Dt,Xe.name))return Dt[Xe.name];const Nt=new wt(Xe,j);return Dt[Xe.name]=Nt,Nt},app:ie,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function ve(Re){const qt=Re.name,Xe=qt.replace("-compat","");if(re._registerComponent(Re)&&"PUBLIC"===Re.type){const Nt=(dn=ie())=>{if("function"!=typeof dn[Xe])throw _e.create("invalid-app-argument",{appName:qt});return dn[Xe]()};void 0!==Re.serviceProps&&(0,q.ZB)(Nt,Re.serviceProps),j[Xe]=Nt,wt.prototype[Xe]=function(...dn){return this._getService.bind(this,qt).apply(this,Re.multipleInstances?dn:[])}}return"PUBLIC"===Re.type?j[Xe]:null},removeApp:function ee(Re){delete Dt[Re]},useAsService:function Ke(Re,qt){return"serverAuth"===qt?null:qt},modularAPIs:re}};function ie(Re){if(!(0,q.r3)(Dt,Re=Re||re._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Re});return Dt[Re]}return j.default=j,Object.defineProperty(j,"apps",{get:function we(){return Object.keys(Dt).map(Re=>Dt[Re])}}),ie.App=wt,j}(K);return wt.INTERNAL=Object.assign(Object.assign({},wt.INTERNAL),{createFirebaseNamespace:U,extendNamespace:function Dt(j){(0,q.ZB)(wt,j)},createSubscribe:q.ne,ErrorFactory:q.LL,deepExtend:q.ZB}),wt}const L=U();(0,q.jU)()&&void 0!==self.firebase&&self;const yt=L;var je=R(2088);mt=R.hmd(mt);class ke{constructor(Dt){return Dt}}const We=new f.OlP("angularfire2.app.options"),st=new f.OlP("angularfire2.app.name"),sn={provide:ke,useFactory:function Et(wt,Dt,j){const ie="object"==typeof j&&j||{};ie.name=ie.name||"string"==typeof j&&j||"[DEFAULT]";const we=yt.apps.filter(ve=>ve&&ve.name===ie.name)[0]||Dt.runOutsideAngular(()=>yt.initializeApp(wt,ie));try{JSON.stringify(wt)!==JSON.stringify(we.options)&&((wt,...Dt)=>{(0,f.X6Q)()&&typeof console<"u"&&console[wt](...Dt)})("error",`${we.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ke(we)},deps:[We,f.R0b,[new f.FiY,st]]};let _t=(()=>{class wt{constructor(j){yt.registerVersion("angularfire",je.q4.full,"core"),yt.registerVersion("angularfire",je.q4.full,"app-compat"),yt.registerVersion("angular",f.q4F.full,j.toString())}static initializeApp(j,ee){return{ngModule:wt,providers:[{provide:We,useValue:j},{provide:st,useValue:ee}]}}}return wt.\u0275fac=function(j){return new(j||wt)(f.LFG(f.Lbi))},wt.\u0275mod=f.oAB({type:wt}),wt.\u0275inj=f.cJS({providers:[sn]}),wt})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2088:(mt,Ee,R)=>{R.d(Ee,{q4:()=>lr,HU:()=>ll,vb:()=>ep,JM:()=>Oc,u3:()=>hw});var f=R(4650),q=R(8140),W=R(5861),oe=(R(7212),R(5578));function pf(){return rc.apply(this,arguments)}function rc(){return(rc=(0,W.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}function Rm(){return yc.apply(this,arguments)}function yc(){return(yc=(0,W.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Xf(){return Es.apply(this,arguments)}function Es(){return(Es=(0,W.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}R(1617),R(9357);var Cs=R(4408),xi=R(640);const mr=new class Yi extends xi.v{}(class la extends Cs.o{constructor(b,I){super(b,I),this.scheduler=b,this.work=I}schedule(b,I=0){return I>0?super.schedule(b,I):(this.delay=I,this.state=b,this.scheduler.flush(this),this)}execute(b,I){return I>0||this.closed?super.execute(b,I):this._execute(b,I)}requestAsyncId(b,I,x=0){return null!=x&&x>0||null==x&&this.delay>0?super.requestAsyncId(b,I,x):(b.flush(this),0)}});var Um=R(4986),Mi=R(9751),hi=R(8505),Js=R(9468),On=R(5363);const lr=new f.GfV("7.6.1"),ol="__angularfire_symbol__analyticsIsSupportedValue",gd="__angularfire_symbol__analyticsIsSupported",al="__angularfire_symbol__remoteConfigIsSupportedValue",Ds="__angularfire_symbol__remoteConfigIsSupported",Is="__angularfire_symbol__messagingIsSupportedValue",Nn="__angularfire_symbol__messagingIsSupported";function Oc(v,b,I){if(b){if(1===b.length)return b[0];const $=b.filter(ce=>ce.app===I);if(1===$.length)return $[0]}return I.container.getProvider(v).getImmediate({optional:!0})}globalThis[gd]||(globalThis[gd]=Xf().then(v=>globalThis[ol]=v).catch(()=>globalThis[ol]=!1)),globalThis[Nn]||(globalThis[Nn]=Rm().then(v=>globalThis[Is]=v).catch(()=>globalThis[Is]=!1)),globalThis[Ds]||(globalThis[Ds]=pf().then(v=>globalThis[al]=v).catch(()=>globalThis[al]=!1));const ep=(v,b)=>{const I=b?[b]:(0,q.C6)(),x=[];return I.forEach(F=>{F.container.getProvider(v).instances.forEach(ce=>{x.includes(ce)||x.push(ce)})}),x};function To(){}class ca{constructor(b,I=mr){this.zone=b,this.delegate=I}now(){return this.delegate.now()}schedule(b,I,x){const F=this.zone;return this.delegate.schedule(function(ce){F.runGuarded(()=>{b.apply(this,[ce])})},I,x)}}class bt{constructor(b){this.zone=b,this.task=null}call(b,I){const x=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To)),I.pipe((0,hi.b)({next:x,complete:x,error:x})).subscribe(b).add(x)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ll=(()=>{class v{constructor(I){this.ngZone=I,this.outsideAngular=I.runOutsideAngular(()=>new ca(Zone.current)),this.insideAngular=I.run(()=>new ca(Zone.current,Um.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return v.\u0275fac=function(I){return new(I||v)(f.LFG(f.R0b))},v.\u0275prov=f.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function So(){const v=globalThis.\u0275AngularFireScheduler;if(!v)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return v}function eo(v){return So().ngZone.run(()=>v())}function np(v){return So(),function rp(v){return function(I){return(I=I.lift(new bt(v.ngZone))).pipe((0,Js.R)(v.outsideAngular),(0,On.Q)(v.insideAngular))}}(So())(v)}const _d=(v,b)=>function(){const x=arguments;return b&&setTimeout(()=>{"scheduled"===b.state&&b.invoke()},10),eo(()=>v.apply(void 0,x))},hw=(v,b)=>function(){let I;const x=arguments;for(let $=0;$<arguments.length;$++)"function"==typeof x[$]&&(b&&(I||(I=eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To)))),x[$]=_d(x[$],I));const F=function ua(v){return So().ngZone.runOutsideAngular(()=>v())}(()=>v.apply(this,x));if(!b){if(F instanceof Mi.y){const $=So();return F.pipe((0,Js.R)($.outsideAngular),(0,On.Q)($.insideAngular))}return eo(()=>F)}return F instanceof Mi.y?F.pipe(np):F instanceof Promise?eo(()=>new Promise(($,ce)=>F.then(Ve=>eo(()=>$(Ve)),Ve=>eo(()=>ce(Ve))))):"function"==typeof F&&I?function(){return setTimeout(()=>{I&&"scheduled"===I.state&&I.invoke()},10),F.apply(this,arguments)}:eo(()=>F)}},5578:(mt,Ee,R)=>{R.d(Ee,{$s:()=>rs,BH:()=>ke,L:()=>me,LL:()=>ve,P0:()=>at,Pz:()=>Oe,Sg:()=>We,US:()=>K,ZB:()=>G,ZR:()=>we,aH:()=>Be,b$:()=>an,eu:()=>ee,hl:()=>j,jU:()=>sn,m9:()=>vs,ne:()=>ln,q4:()=>je,r3:()=>An,ru:()=>_t,tV:()=>U,uI:()=>Et,vZ:()=>ht,w1:()=>_s,xO:()=>Ir,xb:()=>si,z$:()=>st,zI:()=>ie});const re=function(N){const k=[];let H=0;for(let pe=0;pe<N.length;pe++){let X=N.charCodeAt(pe);X<128?k[H++]=X:X<2048?(k[H++]=X>>6|192,k[H++]=63&X|128):55296==(64512&X)&&pe+1<N.length&&56320==(64512&N.charCodeAt(pe+1))?(X=65536+((1023&X)<<10)+(1023&N.charCodeAt(++pe)),k[H++]=X>>18|240,k[H++]=X>>12&63|128,k[H++]=X>>6&63|128,k[H++]=63&X|128):(k[H++]=X>>12|224,k[H++]=X>>6&63|128,k[H++]=63&X|128)}return k},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(N,k){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=k?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let X=0;X<N.length;X+=3){const xe=N[X],Mt=X+1<N.length,fn=Mt?N[X+1]:0,Kn=X+2<N.length,xn=Kn?N[X+2]:0;let Lr=(15&fn)<<2|xn>>6,zi=63&xn;Kn||(zi=64,Mt||(Lr=64)),pe.push(H[xe>>2],H[(3&xe)<<4|fn>>4],H[Lr],H[zi])}return pe.join("")},encodeString(N,k){return this.HAS_NATIVE_SUPPORT&&!k?btoa(N):this.encodeByteArray(re(N),k)},decodeString(N,k){return this.HAS_NATIVE_SUPPORT&&!k?atob(N):function(N){const k=[];let H=0,pe=0;for(;H<N.length;){const X=N[H++];if(X<128)k[pe++]=String.fromCharCode(X);else if(X>191&&X<224){const xe=N[H++];k[pe++]=String.fromCharCode((31&X)<<6|63&xe)}else if(X>239&&X<365){const Kn=((7&X)<<18|(63&N[H++])<<12|(63&N[H++])<<6|63&N[H++])-65536;k[pe++]=String.fromCharCode(55296+(Kn>>10)),k[pe++]=String.fromCharCode(56320+(1023&Kn))}else{const xe=N[H++],Mt=N[H++];k[pe++]=String.fromCharCode((15&X)<<12|(63&xe)<<6|63&Mt)}}return k.join("")}(this.decodeStringToByteArray(N,k))},decodeStringToByteArray(N,k){this.init_();const H=k?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let X=0;X<N.length;){const xe=H[N.charAt(X++)],fn=X<N.length?H[N.charAt(X)]:0;++X;const xn=X<N.length?H[N.charAt(X)]:64;++X;const Qt=X<N.length?H[N.charAt(X)]:64;if(++X,null==xe||null==fn||null==xn||null==Qt)throw new ye;pe.push(xe<<2|fn>>4),64!==xn&&(pe.push(fn<<4&240|xn>>2),64!==Qt&&pe.push(xn<<6&192|Qt))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const me=function(N){return function(N){const k=re(N);return K.encodeByteArray(k,!0)}(N).replace(/\./g,"")},U=function(N){try{return K.decodeString(N,!0)}catch(k){console.error("base64Decode failed: ",k)}return null};function G(N,k){if(!(k instanceof Object))return k;switch(k.constructor){case Date:return new Date(k.getTime());case Object:void 0===N&&(N={});break;case Array:N=[];break;default:return k}for(const H in k)!k.hasOwnProperty(H)||!Le(H)||(N[H]=G(N[H],k[H]));return N}function Le(N){return"__proto__"!==N}const dt=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const N=process.env.__FIREBASE_DEFAULTS__;return N?JSON.parse(N):void 0})()||(()=>{if(typeof document>"u")return;let N;try{N=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const k=N&&U(N[1]);return k&&JSON.parse(k)})()}catch(N){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${N}`)}},je=N=>{var k,H;return null===(H=null===(k=dt())||void 0===k?void 0:k.emulatorHosts)||void 0===H?void 0:H[N]},at=N=>{const k=je(N);if(!k)return;const H=k.lastIndexOf(":");if(H<=0||H+1===k.length)throw new Error(`Invalid host ${k} with no separate hostname and port!`);const pe=parseInt(k.substring(H+1),10);return"["===k[0]?[k.substring(1,H-1),pe]:[k.substring(0,H),pe]},Be=()=>{var N;return null===(N=dt())||void 0===N?void 0:N.config},Oe=N=>{var k;return null===(k=dt())||void 0===k?void 0:k[`_${N}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((k,H)=>{this.resolve=k,this.reject=H})}wrapCallback(k){return(H,pe)=>{H?this.reject(H):this.resolve(pe),"function"==typeof k&&(this.promise.catch(()=>{}),1===k.length?k(H):k(H,pe))}}}function We(N,k){if(N.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=k||"demo-project",X=N.iat||0,xe=N.sub||N.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:X,exp:X+3600,auth_time:X,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},N);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Mt)),""].join(".")}function st(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function sn(){return"object"==typeof self&&self.self===self}function _t(){const N="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof N&&void 0!==N.id}function an(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _s(){const N=st();return N.indexOf("MSIE ")>=0||N.indexOf("Trident/")>=0}function j(){try{return"object"==typeof indexedDB}catch{return!1}}function ee(){return new Promise((N,k)=>{try{let H=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(pe);X.onsuccess=()=>{X.result.close(),H||self.indexedDB.deleteDatabase(pe),N(!0)},X.onupgradeneeded=()=>{H=!1},X.onerror=()=>{var xe;k((null===(xe=X.error)||void 0===xe?void 0:xe.message)||"")}}catch(H){k(H)}})}function ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class we extends Error{constructor(k,H,pe){super(H),this.code=k,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ve.prototype.create)}}class ve{constructor(k,H,pe){this.service=k,this.serviceName=H,this.errors=pe}create(k,...H){const pe=H[0]||{},X=`${this.service}/${k}`,xe=this.errors[k],Mt=xe?function Ke(N,k){return N.replace(Re,(H,pe)=>{const X=k[pe];return null!=X?String(X):`<${pe}?>`})}(xe,pe):"Error";return new we(X,`${this.serviceName}: ${Mt} (${X}).`,pe)}}const Re=/\{\$([^}]+)}/g;function An(N,k){return Object.prototype.hasOwnProperty.call(N,k)}function si(N){for(const k in N)if(Object.prototype.hasOwnProperty.call(N,k))return!1;return!0}function ht(N,k){if(N===k)return!0;const H=Object.keys(N),pe=Object.keys(k);for(const X of H){if(!pe.includes(X))return!1;const xe=N[X],Mt=k[X];if(ys(xe)&&ys(Mt)){if(!ht(xe,Mt))return!1}else if(xe!==Mt)return!1}for(const X of pe)if(!H.includes(X))return!1;return!0}function ys(N){return null!==N&&"object"==typeof N}function Ir(N){const k=[];for(const[H,pe]of Object.entries(N))Array.isArray(pe)?pe.forEach(X=>{k.push(encodeURIComponent(H)+"="+encodeURIComponent(X))}):k.push(encodeURIComponent(H)+"="+encodeURIComponent(pe));return k.length?"&"+k.join("&"):""}function ln(N,k){const H=new lt(N,k);return H.subscribe.bind(H)}class lt{constructor(k,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{k(this)}).catch(pe=>{this.error(pe)})}next(k){this.forEachObserver(H=>{H.next(k)})}error(k){this.forEachObserver(H=>{H.error(k)}),this.close(k)}complete(){this.forEachObserver(k=>{k.complete()}),this.close()}subscribe(k,H,pe){let X;if(void 0===k&&void 0===H&&void 0===pe)throw new Error("Missing Observer.");X=function wi(N,k){if("object"!=typeof N||null===N)return!1;for(const H of k)if(H in N&&"function"==typeof N[H])return!0;return!1}(k,["next","error","complete"])?k:{next:k,error:H,complete:pe},void 0===X.next&&(X.next=oi),void 0===X.error&&(X.error=oi),void 0===X.complete&&(X.complete=oi);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),xe}unsubscribeOne(k){void 0===this.observers||void 0===this.observers[k]||(delete this.observers[k],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(k){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,k)}sendOne(k,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[k])try{H(this.observers[k])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(k){this.finalized||(this.finalized=!0,void 0!==k&&(this.finalError=k),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oi(){}const _n=1e3,Gs=2,qr=144e5,li=.5;function rs(N,k=_n,H=Gs){const pe=k*Math.pow(H,N),X=Math.round(li*pe*(Math.random()-.5)*2);return Math.min(qr,pe+X)}function vs(N){return N&&N._delegate?N._delegate:N}},1664:(mt,Ee,R)=>{var f=R(4650);let q=null;function W(){return q}class oe{}const K=new f.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function _e(){return(0,f.LFG)(U)}()},providedIn:"platform"}),n})();const me=new f.OlP("Location Initialized");let U=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(t){const r=W().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=W().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){L()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){L()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function G(){return new U((0,f.LFG)(K))}()},providedIn:"platform"}),n})();function L(){return!!window.history.pushState}function Le(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let yt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(dt)},providedIn:"root"}),n})();const Ie=new f.OlP("appBaseHref");let dt=(()=>{class n extends yt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(K).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Le(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$e(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const l=this.prepareExternalUrl(i+$e(s));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,s){const l=this.prepareExternalUrl(i+$e(s));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ye),f.LFG(Ie,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),je=(()=>{class n extends yt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Le(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let l=this.prepareExternalUrl(i+$e(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,s){let l=this.prepareExternalUrl(i+$e(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ye),f.LFG(Ie,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),at=(()=>{class n{constructor(t){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function We(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(be(ke(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$e(r))}normalize(t){return n.stripTrailingSlash(function Oe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Le,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(f.LFG(yt))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Be(){return new at((0,f.LFG)(yt))}()},providedIn:"root"}),n})();function ke(n){return n.replace(/\/index.html$/,"")}class rr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new rr(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===s?void 0:s);else if(null!==s){const d=r.get(s);r.move(d,l),Pn(d,i)}});for(let i=0,s=r.length;i<s;i++){const d=r.get(i).context;d.index=i,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Pn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Pn(n,e){n.context.$implicit=e.item}let Ws=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new $t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class $t{constructor(){this.$implicit=null,this.ngIf=null}}function Xl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let qs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const _m="browser";function ym(n){return n===_m}let rc=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new vm((0,f.LFG)(K),window)}),n})();class vm{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function qu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Wu(this.window.history)||Wu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Wu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class rd extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pc extends rd{static makeCurrent(){!function re(n){q||(q=n)}(new pc)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Jo(){return Xo=Xo||document.querySelector("base"),Xo?Xo.getAttribute("href"):null}();return null==t?null:function xm(n){ls=ls||document.createElement("a"),ls.setAttribute("href",n);const e=ls.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Wo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ls,Xo=null;const kf=new f.OlP("TRANSITION_ID"),lw=[{provide:f.ip1,useFactory:function Ya(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=W(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[kf,K,f.zs3],multi:!0}];let Mm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Za=new f.OlP("EventManagerPlugins");let gc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const l=i[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Za),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class ea{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=W().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let sd=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ys=(()=>{class n extends sd{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const bo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mc=/%COMP%/g,Xa=new f.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ad(n,e){return e.flat(100).map(t=>t.replace(mc,n))}function vc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let di=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Nf(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Vf?i.applyToHost(t):i instanceof Zs&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const l=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestory;switch(r.encapsulation){case f.ifc.Emulated:s=new Vf(l,d,r,this.appId,p);break;case f.ifc.ShadowDom:return new Lf(l,d,t,r);default:s=new Zs(l,d,r,p)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(gc),f.LFG(Ys),f.LFG(f.AFp),f.LFG(Xa))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Nf{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ff(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ff(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=bo[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=bo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,i&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,vc(r)):this.eventManager.addEventListener(e,t,vc(r))}}function Ff(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Lf extends Nf{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ad(i.id,i.styles);for(const l of s){const d=document.createElement("style");d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Zs extends Nf{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=ad(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Vf extends Zs{constructor(e,t,r,i,s){const l=i+"-"+r.id;super(e,t,r,s,l),this.contentAttr=function Rm(n){return"_ngcontent-%COMP%".replace(mc,n)}(l),this.hostAttr=function yc(n){return"_nghost-%COMP%".replace(mc,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Bf=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const cd=["alt","control","meta","shift"],Uf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sr=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),l=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),cd.forEach(m=>{const y=r.indexOf(m);y>-1&&(r.splice(y,1),l+=m+".")}),l+=s,0!=r.length||0===s.length)return null;const p={};return p.domEventName=i,p.fullKey=l,p}static matchEventFullKeyCode(t,r){let i=Uf[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),cd.forEach(l=>{l!==i&&(0,wc[l])(t)&&(s+=l+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Pm=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:_m},{provide:f.g9A,useValue:function ia(){pc.makeCurrent()},multi:!0},{provide:K,useFactory:function Hf(){return(0,f.RDi)(document),document},deps:[]}]),Ja=new f.OlP(""),Ec=[{provide:f.rWj,useClass:class id{addToWindow(e){f.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const i=f.dqk.getAllAngularTestabilities();let s=i.length,l=!1;const d=function(p){l=l||p,s--,0==s&&r(l)};i.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?W().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Eo=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function km(){return new f.qLn},deps:[]},{provide:Za,useClass:Bf,multi:!0,deps:[K,f.R0b,f.Lbi]},{provide:Za,useClass:sr,multi:!0,deps:[K]},{provide:di,useClass:di,deps:[gc,Ys,f.AFp,Xa]},{provide:f.FYo,useExisting:di},{provide:sd,useExisting:Ys},{provide:Ys,useClass:Ys,deps:[K]},{provide:gc,useClass:gc,deps:[Za,f.R0b]},{provide:class bm{},useClass:Mm,deps:[]},[]];let Co=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:kf,useExisting:f.AFp},lw]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ja,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...Eo,...Ec],imports:[qs,f.hGG]}),n})(),Nm=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Do(){return new Nm((0,f.LFG)(K))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Tc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):f.LFG(Kf),r},providedIn:"root"}),n})(),Kf=(()=>{class n extends Tc{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case f.q3G.NONE:return r;case f.q3G.HTML:return(0,f.qzn)(r,"HTML")?(0,f.z3N)(r):(0,f.EiD)(this._doc,String(r)).toString();case f.q3G.STYLE:return(0,f.qzn)(r,"Style")?(0,f.z3N)(r):r;case f.q3G.SCRIPT:if((0,f.qzn)(r,"Script"))return(0,f.z3N)(r);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.qzn)(r,"URL")?(0,f.z3N)(r):(0,f.mCW)(String(r));case f.q3G.RESOURCE_URL:if((0,f.qzn)(r,"ResourceURL"))return(0,f.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${f.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${f.JZr})`)}}bypassSecurityTrustHtml(t){return(0,f.JVY)(t)}bypassSecurityTrustStyle(t){return(0,f.L6k)(t)}bypassSecurityTrustScript(t){return(0,f.eBb)(t)}bypassSecurityTrustUrl(t){return(0,f.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,f.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function qf(n){return new Kf(n.get(K))}(f.LFG(f.zs3)),r},providedIn:"root"}),n})();var In=R(8996),Ki=R(3269);function it(...n){const e=(0,Ki.yG)(n);return(0,In.D)(n,e)}var tn=R(7579);class Rn extends tn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const nl=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ar=R(9751);const{isArray:Zf}=Array,{getPrototypeOf:Qf,prototype:Ai,keys:oa}=Object;function Sc(n){if(1===n.length){const e=n[0];if(Zf(e))return{args:e,keys:null};if(function rl(n){return n&&"object"==typeof n&&Qf(n)===Ai}(e)){const t=oa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var aa=R(4671),It=R(4004);const{isArray:Vm}=Array;function Es(n){return(0,It.U)(e=>function Xf(n,e){return Vm(e)?n(...e):n(e)}(n,e))}function Ac(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Zn=R(5403),fd=R(9672);function Jf(...n){const e=(0,Ki.yG)(n),t=(0,Ki.jO)(n),{args:r,keys:i}=Sc(n);if(0===r.length)return(0,In.D)([],e);const s=new ar.y(function il(n,e,t=aa.y){return r=>{sl(e,()=>{const{length:i}=n,s=new Array(i);let l=i,d=i;for(let p=0;p<i;p++)sl(e,()=>{const m=(0,In.D)(n[p],e);let y=!1;m.subscribe((0,Zn.x)(r,C=>{s[p]=C,y||(y=!0,d--),d||r.next(t(s.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>Ac(i,l):aa.y));return t?s.pipe(Es(t)):s}function sl(n,e,t){n?(0,fd.f)(t,n,e):e()}var xc=R(8189);function Mc(...n){return function dw(){return(0,xc.J)(1)}()((0,In.D)(n,(0,Ki.yG)(n)))}var Xs=R(8421);function Rc(n){return new ar.y(e=>{(0,Xs.Xf)(n()).subscribe(e)})}var Bm=R(9635),Cs=R(576);function la(n,e){const t=(0,Cs.m)(n)?n:()=>n,r=i=>i.error(t());return new ar.y(e?i=>e.schedule(r,0,i):r)}var xi=R(515),Yi=R(727),mr=R(4482);function pd(){return(0,mr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Zn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Um extends ar.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,mr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Zn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yi.w0.EMPTY)}return e}refCount(){return pd()(this)}}function Mi(n,e){return(0,mr.e)((t,r)=>{let i=null,s=0,l=!1;const d=()=>l&&!i&&r.complete();t.subscribe((0,Zn.x)(r,p=>{i?.unsubscribe();let m=0;const y=s++;(0,Xs.Xf)(n(p,y)).subscribe(i=(0,Zn.x)(r,C=>r.next(e?e(p,C,y,m++):C),()=>{i=null,d()}))},()=>{l=!0,d()}))})}function hi(n){return n<=0?()=>xi.E:(0,mr.e)((e,t)=>{let r=0;e.subscribe((0,Zn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Js(...n){const e=(0,Ki.yG)(n);return(0,mr.e)((t,r)=>{(e?Mc(n,t,e):Mc(n,t)).subscribe(r)})}function On(n,e){return(0,mr.e)((t,r)=>{let i=0;t.subscribe((0,Zn.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var lr=R(5577);function ol(n){return(0,mr.e)((e,t)=>{let r=!1;e.subscribe((0,Zn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function gd(n=al){return(0,mr.e)((e,t)=>{let r=!1;e.subscribe((0,Zn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function al(){return new nl}function Ds(n,e){const t=arguments.length>=2;return r=>r.pipe(n?On((i,s)=>n(i,s,r)):aa.y,hi(1),t?ol(e):gd(()=>new nl))}function Is(n,e){return(0,Cs.m)(e)?(0,lr.z)(n,e,1):(0,lr.z)(n,1)}var Nn=R(8505);function Zi(n){return(0,mr.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,Zn.x)(t,void 0,void 0,l=>{s=(0,Xs.Xf)(n(l,Zi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Hm(n,e){return(0,mr.e)(function JI(n,e,t,r,i){return(s,l)=>{let d=t,p=e,m=0;s.subscribe((0,Zn.x)(l,y=>{const C=m++;p=d?n(p,y,C):(d=!0,y),r&&l.next(p)},i&&(()=>{d&&l.next(p),l.complete()})))}}(n,e,arguments.length>=2,!0))}function md(n){return n<=0?()=>xi.E:(0,mr.e)((e,t)=>{let r=[];e.subscribe((0,Zn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Oc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?On((i,s)=>n(i,s,r)):aa.y,md(1),t?ol(e):gd(()=>new nl))}function ca(n){return(0,mr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const bt="primary",ll=Symbol("RouteTitle");class So{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ua(n){return new So(n)}function eo(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const l=r[s],d=n[s];if(l.startsWith(":"))i[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ts(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!np(n[i],e[i]))return!1;return!0}function np(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function rp(n){return Array.prototype.concat.apply([],n)}function _d(n){return n.length>0?n[n.length-1]:null}function v(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function b(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,In.D)(Promise.resolve(n)):it(n)}const I=!1,x={exact:function Ve(n,e,t){if(!Qi(n.segments,e.segments)||!Ot(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ve(n.children[r],e.children[r],t))return!1;return!0},subset:nt},F={exact:function ce(n,e){return Ts(n,e)},subset:function Ne(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>np(n[t],e[t]))},ignored:()=>!0};function $(n,e,t){return x[t.paths](n.root,e.root,t.matrixParams)&&F[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function nt(n,e,t){return Rt(n,e,e.segments,t)}function Rt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Qi(i,t)||e.hasChildren()||!Ot(i,t,r))}if(n.segments.length===t.length){if(!Qi(n.segments,t)||!Ot(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!nt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Qi(n.segments,i)&&Ot(n.segments,i,r)&&n.children[bt])&&Rt(n.children[bt],e,s,r)}}function Ot(n,e,t){return e.every((r,i)=>F[t](n[i].parameters,r.parameters))}class Gn{constructor(e=new pt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ua(this.queryParams)),this._queryParamMap}toString(){return vd.serialize(this)}}class pt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,v(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ip(this)}}class Ss{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ua(this.parameters)),this._parameterMap}toString(){return pw(this)}}function Qi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Yr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new kc},providedIn:"root"}),n})();class kc{parse(e){const t=new zm(e);return new Gn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${wd(e.root,!0)}`,r=function eT(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Pc(t)}=${Pc(i)}`).join("&"):`${Pc(t)}=${Pc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function fw(n){return encodeURI(n)}(e.fragment)}`:""}`}}const vd=new kc;function ip(n){return n.segments.map(e=>pw(e)).join("/")}function wd(n,e){if(!n.hasChildren())return ip(n);if(e){const t=n.children[bt]?wd(n.children[bt],!1):"",r=[];return v(n.children,(i,s)=>{s!==bt&&r.push(`${s}:${wd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function fi(n,e){let t=[];return v(n.children,(r,i)=>{i===bt&&(t=t.concat(e(r,i)))}),v(n.children,(r,i)=>{i!==bt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===bt?[wd(n.children[bt],!1)]:[`${i}:${wd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bt]?`${ip(n)}/${t[0]}`:`${ip(n)}/(${t.join("//")})`}}function sp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pc(n){return sp(n).replace(/%3B/gi,";")}function da(n){return sp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nc(n){return decodeURIComponent(n)}function $m(n){return Nc(n.replace(/\+/g,"%20"))}function pw(n){return`${da(n.path)}${function jm(n){return Object.keys(n).map(e=>`;${da(e)}=${da(n[e])}`).join("")}(n.parameters)}`}const tT=/^[^\/()?;=#]+/;function op(n){const e=n.match(tT);return e?e[0]:""}const nT=/^[^=?&#]+/,iT=/^[^&#]+/;class zm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pt([],{}):new pt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[bt]=new pt(e,t)),r}parseSegment(){const e=op(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new f.vHH(4009,I);return this.capture(e),new Ss(Nc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=op(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=op(this.remaining);i&&(r=i,this.capture(r))}e[Nc(t)]=Nc(r)}parseQueryParam(e){const t=function rT(n){const e=n.match(nT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function gw(n){const e=n.match(iT);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=$m(t),s=$m(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=op(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new f.vHH(4010,I);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=bt);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[bt]:new pt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new f.vHH(4011,I)}}function ap(n){return n.segments.length>0?new pt([],{[bt]:n}):n}function Fc(n){const e={};for(const r of Object.keys(n.children)){const s=Fc(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function sT(n){if(1===n.numberOfChildren&&n.children[bt]){const e=n.children[bt];return new pt(n.segments.concat(e.segments),e.children)}return n}(new pt(n.segments,e))}function cl(n){return n instanceof Gn}const lp=!1;function mw(n,e,t,r,i){if(0===t.length)return Ao(e.root,e.root,e.root,r,i);const s=function qm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Wm(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return v(s.outlets,(p,m)=>{d[m]="string"==typeof p?p.split("/"):p}),[...i,{outlets:d}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===l?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?t=!0:".."===d?e++:""!=d&&i.push(d))}),i):[...i,s]},[]);return new Wm(t,e,r)}(t);return s.toRoot()?Ao(e.root,e.root,new pt([],{}),r,i):function l(p){const m=function yw(n,e,t,r){if(n.isAbsolute)return new ul(e.root,!0,0);if(-1===r)return new ul(t,t===e.root,0);return function Ed(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new f.vHH(4005,lp&&"Invalid number of '../'");i=r.segments.length}return new ul(r,!1,i-s)}(t,r+(bd(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,p),y=m.processChildren?fa(m.segmentGroup,m.index,s.commands):dp(m.segmentGroup,m.index,s.commands);return Ao(e.root,m.segmentGroup,y,r,i)}(n.snapshot?._lastPathIndex)}function bd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function cp(n){return"object"==typeof n&&null!=n&&n.outlets}function Ao(n,e,t,r,i){let l,s={};r&&v(r,(p,m)=>{s[m]=Array.isArray(p)?p.map(y=>`${y}`):`${p}`}),l=n===e?t:_w(n,e,t);const d=ap(Fc(l));return new Gn(d,s,i)}function _w(n,e,t){const r={};return v(n.children,(i,s)=>{r[s]=i===e?t:_w(i,e,t)}),new pt(n.segments,r)}class Wm{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bd(r[0]))throw new f.vHH(4003,lp&&"Root segment cannot have matrix parameters");const i=r.find(cp);if(i&&i!==_d(r))throw new f.vHH(4004,lp&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ul{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function dp(n,e,t){if(n||(n=new pt([],{})),0===n.segments.length&&n.hasChildren())return fa(n,e,t);const r=function Ym(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const l=n.segments[i],d=t[r];if(cp(d))break;const p=`${d}`,m=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&m&&"object"==typeof m&&void 0===m.outlets){if(!Zm(p,m,l))return s;r+=2}else{if(!Zm(p,{},l))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new pt(n.segments.slice(0,r.pathIndex),{});return s.children[bt]=new pt(n.segments.slice(r.pathIndex),n.children),fa(s,0,i)}return r.match&&0===i.length?new pt(n.segments,{}):r.match&&!n.hasChildren()?Cd(n,e,t):r.match?fa(n,0,i):Cd(n,e,t)}function fa(n,e,t){if(0===t.length)return new pt(n.segments,{});{const r=function up(n){return cp(n[0])?n[0].outlets:{[bt]:n}}(t),i={};if(!r[bt]&&n.children[bt]&&1===n.numberOfChildren&&0===n.children[bt].segments.length){const s=fa(n.children[bt],e,t);return new pt(n.segments,s.children)}return v(r,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[l]=dp(n.children[l],e,s))}),v(n.children,(s,l)=>{void 0===r[l]&&(i[l]=s)}),new pt(n.segments,i)}}function Cd(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(cp(s)){const p=Dd(s.outlets);return new pt(r,p)}if(0===i&&bd(t[0])){r.push(new Ss(n.segments[e].path,vw(t[0]))),i++;continue}const l=cp(s)?s.outlets[bt]:`${s}`,d=i<t.length-1?t[i+1]:null;l&&d&&bd(d)?(r.push(new Ss(l,vw(d))),i+=2):(r.push(new Ss(l,{})),i++)}return new pt(r,{})}function Dd(n){const e={};return v(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Cd(new pt([],{}),0,t))}),e}function vw(n){const e={};return v(n,(t,r)=>e[r]=`${t}`),e}function Zm(n,e,t){return n==t.path&&Ts(e,t.parameters)}const Id="imperative";class to{constructor(e,t){this.id=e,this.url=t}}class Qm extends to{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pa extends to{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Td extends to{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dl extends to{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Sd extends to{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lc extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aT extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lT extends to{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KN extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cT extends to{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uT{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ww{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e_{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let dT=(()=>{class n{createUrlTree(t,r,i,s,l,d){return mw(t||r.root,i,s,l,d)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),fT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(e){return dT.\u0275fac(e)},providedIn:"root"}),n})();class Cw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=t_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=t_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=As(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return As(e,this._root).map(t=>t.value)}}function t_(n,e){if(n===e.value)return e;for(const t of e.children){const r=t_(n,t);if(r)return r}return null}function As(n,e){if(n===e.value)return[e];for(const t of e.children){const r=As(n,t);if(r.length)return r.unshift(e),r}return[]}class Ri{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Dw extends Cw{constructor(e,t){super(e),this.snapshot=t,n_(this,e)}toString(){return this.snapshot.toString()}}function Iw(n,e){const t=function pT(n,e){const l=new fp([],{},{},"",{},bt,e,null,n.root,-1,{});return new Aw("",new Ri(l,[]))}(n,e),r=new Rn([new Ss("",{})]),i=new Rn({}),s=new Rn({}),l=new Rn({}),d=new Rn(""),p=new Bc(r,i,l,d,s,bt,e,t.root);return p.snapshot=t.root,new Dw(new Ri(p,[]),t)}class Bc{constructor(e,t,r,i,s,l,d,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=d,this.title=this.data?.pipe((0,It.U)(m=>m[ll]))??it(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>ua(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>ua(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tw(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Sw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class fp{get title(){return this.data?.[ll]}constructor(e,t,r,i,s,l,d,p,m,y,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=d,this.routeConfig=p,this._urlSegment=m,this._lastPathIndex=y,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ua(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ua(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Aw extends Cw{constructor(e,t){super(t),this.url=e,n_(this,t)}toString(){return xw(this._root)}}function n_(n,e){e.value._routerState=n,e.children.forEach(t=>n_(n,t))}function xw(n){const e=n.children.length>0?` { ${n.children.map(xw).join(", ")} } `:"";return`${n.value}${e}`}function Uc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ts(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ts(e.params,t.params)||n.params.next(t.params),function tp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ts(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ts(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xs(n,e){const t=Ts(n.params,e.params)&&function yd(n,e){return Qi(n,e)&&n.every((t,r)=>Ts(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||xs(n.parent,e.parent))}function Hc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Mw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hc(n,r,i);return Hc(n,r)})}(n,e,t);return new Ri(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(d=>Hc(n,d)),l}}const r=function Rw(n){return new Bc(new Rn(n.url),new Rn(n.params),new Rn(n.queryParams),new Rn(n.fragment),new Rn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Hc(n,s));return new Ri(r,i)}}const Ow="ngNavigationCancelingError";function gT(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=cl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mT(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function mT(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ow]=!0,r.cancellationCode=e,t&&(r.url=t),r}function pp(n){return gp(n)&&cl(n.url)}function gp(n){return n&&n[Ow]}class YN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new mp,this.attachRef=null}}let mp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new YN,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xd=!1;let r_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(mp),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,xd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,xd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,xd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new f.vHH(4013,xd);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new _T(t,d,i.injector);if(r&&function yT(n){return!!n.resolveComponentFactory}(r)){const m=r.resolveComponentFactory(l);this.activated=i.createComponent(m,i.length,p)}else this.activated=i.createComponent(l,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),n})();class _T{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Bc?this.route:e===mp?this.childContexts:this.parent.get(e,t)}}let i_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[r_],encapsulation:2}),n})();function s_(n,e){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _p(n){const e=n.children&&n.children.map(_p),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bt&&(t.component=i_),t}function cs(n){return n.outlet||bt}function Nw(n,e){const t=n.filter(r=>cs(r)===e);return t.push(...n.filter(r=>cs(r)!==e)),t}function Md(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Fw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Uc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Vc(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,i[l],r),delete i[l]}),v(i,(s,l)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Vc(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);if(r&&r.outlet){const l=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Vc(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Vc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bw(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Uc(i),i===s)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const d=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),Uc(d.route.value),this.activateChildRoutes(e,null,l.children)}else{const d=Md(i.snapshot),p=d?.get(f._Vd)??null;l.attachRef=null,l.route=i,l.resolver=p,l.injector=d,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class CT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class a_{constructor(e,t){this.component=e,this.route=t}}function Rd(n,e,t){const r=n._root;return $c(r,e?e._root:null,t,[r.value])}function fl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,f.Z0I)(n)?e.get(n):n:r}function $c(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Vc(e);return n.children.forEach(l=>{(function Lw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function QN(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Qi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qi(n.url,e.url)||!Ts(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xs(n,e)||!Ts(n.queryParams,e.queryParams);default:return!xs(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new CT(r)):(s.data=l.data,s._resolvedData=l._resolvedData),$c(n,e,s.component?d?d.children:null:t,r,i),p&&d&&d.outlet&&d.outlet.isActivated&&i.canDeactivateChecks.push(new a_(d.outlet.component,l))}else l&&Od(e,d,i),i.canActivateChecks.push(new CT(r)),$c(n,null,s.component?d?d.children:null:t,r,i)})(l,s[l.value.outlet],t,r.concat([l.value]),i),delete s[l.value.outlet]}),v(s,(l,d)=>Od(l,t.getContext(d),i)),i}function Od(n,e,t){const r=Vc(n),i=n.value;v(r,(s,l)=>{Od(s,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new a_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function jc(n){return"function"==typeof n}function xo(n){return n instanceof nl||"EmptyError"===n?.name}const yp=Symbol("INITIAL_VALUE");function ga(){return Mi(n=>Jf(n.map(e=>e.pipe(hi(1),Js(yp)))).pipe((0,It.U)(e=>{for(const t of e)if(!0!==t){if(t===yp)return yp;if(!1===t||t instanceof Gn)return t}return!0}),On(e=>e!==yp),hi(1)))}function p_(n){return(0,Bm.z)((0,Nn.b)(e=>{if(cl(e))throw gT(0,e)}),(0,It.U)(e=>!0===e))}const g_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hw(n,e,t,r,i){const s=m_(n,e,t);return s.matched?function zc(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?it(i.map(l=>{const d=fl(l,n);return b(function d_(n){return n&&jc(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(ga(),p_()):it(!0)}(r=s_(e,r),e,t).pipe((0,It.U)(l=>!0===l?s:{...g_})):it(s)}function m_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...g_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||eo)(t,n,e);if(!i)return{...g_};const s={};v(i.posParams,(d,p)=>{s[p]=d.path});const l=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Gc(n,e,t,r){if(t.length>0&&function MT(n,e,t){return t.some(r=>__(n,e,r)&&cs(r)!==bt)}(n,t,r)){const s=new pt(e,function $w(n,e,t,r){const i={};i[bt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&cs(s)!==bt){const l=new pt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[cs(s)]=l}return i}(n,e,r,new pt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function jw(n,e,t){return t.some(r=>__(n,e,r))}(n,t,r)){const s=new pt(n.segments,function xT(n,e,t,r,i){const s={};for(const l of r)if(__(n,t,l)&&!i[cs(l)]){const d=new pt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[cs(l)]=d}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new pt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function __(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function zw(n,e,t,r){return!!(cs(n)===r||r!==bt&&__(e,t,n))&&("**"===n.path||m_(e,n,t).matched)}function Wc(n,e,t){return 0===e.length&&!n.children[t]}const bp=!1;class Mo{constructor(e){this.segmentGroup=e||null}}class qc{constructor(e){this.urlTree=e}}function kd(n){return la(new Mo(n))}function y_(n){return la(new qc(n))}class Gw{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Gc(this.urlTree.root,[],[],this.config).segmentGroup,t=new pt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,bt).pipe((0,It.U)(s=>this.createUrlTree(Fc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zi(s=>{if(s instanceof qc)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Mo?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,bt).pipe((0,It.U)(i=>this.createUrlTree(Fc(i),e.queryParams,e.fragment))).pipe(Zi(i=>{throw i instanceof Mo?this.noMatchError(i):i}))}noMatchError(e){return new f.vHH(4002,bp)}createUrlTree(e,t,r){const i=ap(e);return new Gn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,It.U)(s=>new pt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,In.D)(i).pipe(Is(s=>{const l=r.children[s],d=Nw(t,s);return this.expandSegmentGroup(e,d,l,s).pipe((0,It.U)(p=>({segment:p,outlet:s})))}),Hm((s,l)=>(s[l.outlet]=l.segment,s),{}),Oc())}expandSegment(e,t,r,i,s,l){return(0,In.D)(r).pipe(Is(d=>this.expandSegmentAgainstRoute(e,t,r,d,i,s,l).pipe(Zi(m=>{if(m instanceof Mo)return it(null);throw m}))),Ds(d=>!!d),Zi((d,p)=>{if(xo(d))return Wc(t,i,s)?it(new pt([],{})):kd(t);throw d}))}expandSegmentAgainstRoute(e,t,r,i,s,l,d){return zw(i,t,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l):kd(t):kd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?y_(s):this.lineralizeSegments(r,s).pipe((0,lr.z)(l=>{const d=new pt(l,{});return this.expandSegment(e,d,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l){const{matched:d,consumedSegments:p,remainingSegments:m,positionalParamSegments:y}=m_(t,i,s);if(!d)return kd(t);const C=this.applyRedirectCommands(p,i.redirectTo,y);return i.redirectTo.startsWith("/")?y_(C):this.lineralizeSegments(i,C).pipe((0,lr.z)(T=>this.expandSegment(e,t,r,T.concat(m),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=s_(r,e),r.loadChildren?(r._loadedRoutes?it({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,It.U)(d=>(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,new pt(i,{})))):it(new pt(i,{}))):Hw(t,r,i,e).pipe(Mi(({matched:l,consumedSegments:d,remainingSegments:p})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,lr.z)(y=>{const C=y.injector??e,T=y.routes,{segmentGroup:A,slicedSegments:O}=Gc(t,d,p,T),V=new pt(A.segments,A.children);if(0===O.length&&V.hasChildren())return this.expandChildren(C,T,V).pipe((0,It.U)(ue=>new pt(d,ue)));if(0===T.length&&0===O.length)return it(new pt(d,{}));const P=cs(r)===s;return this.expandSegment(C,V,T,O,P?bt:s,!0).pipe((0,It.U)(se=>new pt(d.concat(se.segments),se.children)))})):kd(t)))}getChildConfig(e,t,r){return t.children?it({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?it({routes:t._loadedRoutes,injector:t._loadedInjector}):function AT(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?it(!0):it(i.map(l=>{const d=fl(l,n);return b(function c_(n){return n&&jc(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(ga(),p_())}(e,t,r).pipe((0,lr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Nn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function OT(n){return la(mT(bp,3))}())):it({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return it(r);if(i.numberOfChildren>1||!i.children[bt])return e.redirectTo,la(new f.vHH(4e3,bp));i=i.children[bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Gn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return v(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const d=i.substring(1);r[s]=t[d]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let l={};return v(t.children,(d,p)=>{l[p]=this.createSegmentGroup(e,d,r,i)}),new pt(s,l)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new f.vHH(4001,bp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class v_{}class Pd{constructor(e,t,r,i,s,l,d){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=l,this.urlSerializer=d}recognize(){const e=Gc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,bt).pipe((0,It.U)(t=>{if(null===t)return null;const r=new fp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ri(r,t),s=new Aw(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=Tw(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,In.D)(Object.keys(r.children)).pipe(Is(i=>{const s=r.children[i],l=Nw(t,i);return this.processSegmentGroup(e,l,s,i)}),Hm((i,s)=>i&&s?(i.push(...s),i):null),function ep(n,e=!1){return(0,mr.e)((t,r)=>{let i=0;t.subscribe((0,Zn.x)(r,s=>{const l=n(s,i++);(l||e)&&r.next(s),!l&&r.complete()}))})}(i=>null!==i),ol(null),Oc(),(0,It.U)(i=>{if(null===i)return null;const s=qw(i);return function NT(n){n.sort((e,t)=>e.value.outlet===bt?-1:t.value.outlet===bt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,In.D)(t).pipe(Is(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,s)),Ds(l=>!!l),Zi(l=>{if(xo(l))return Wc(r,i,s)?it([]):it(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!zw(t,r,i,s))return it(null);let l;if("**"===t.path){const d=i.length>0?_d(i).parameters:{},p=Yw(r)+i.length;l=it({snapshot:new fp(i,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,no(t),cs(t),t.component??t._loadedComponent??null,t,Kw(r),p,Zw(t)),consumedSegments:[],remainingSegments:[]})}else l=Hw(r,t,i,e).pipe((0,It.U)(({matched:d,consumedSegments:p,remainingSegments:m,parameters:y})=>{if(!d)return null;const C=Yw(r)+p.length;return{snapshot:new fp(p,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,no(t),cs(t),t.component??t._loadedComponent??null,t,Kw(r),C,Zw(t)),consumedSegments:p,remainingSegments:m}}));return l.pipe(Mi(d=>{if(null===d)return it(null);const{snapshot:p,consumedSegments:m,remainingSegments:y}=d;e=t._injector??e;const C=t._loadedInjector??e,T=function FT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:A,slicedSegments:O}=Gc(r,m,y,T.filter(P=>void 0===P.redirectTo));if(0===O.length&&A.hasChildren())return this.processChildren(C,T,A).pipe((0,It.U)(P=>null===P?null:[new Ri(p,P)]));if(0===T.length&&0===O.length)return it([new Ri(p,[])]);const V=cs(t)===s;return this.processSegment(C,T,A,O,V?bt:s).pipe((0,It.U)(P=>null===P?null:[new Ri(p,P)]))}))}}function LT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qw(n){const e=[],t=new Set;for(const r of n){if(!LT(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=qw(r.children);e.push(new Ri(r.value,i))}return e.filter(r=>!t.has(r))}function Kw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Yw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function no(n){return n.data||{}}function Zw(n){return n.resolve||{}}function b_(n){return"string"==typeof n.title||null===n.title}function E_(n){return Mi(e=>{const t=n(e);return t?(0,In.D)(t).pipe((0,It.U)(()=>e)):it(e)})}const Kc=new f.OlP("ROUTES");let D_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return it(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=b(t.loadComponent()).pipe((0,It.U)(Jw),(0,Nn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ca(()=>{this.componentLoaders.delete(t)})),i=new Um(r,()=>new tn.x).pipe(pd());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return it({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,It.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,m,y=!1;Array.isArray(d)?m=d:(p=d.create(t).injector,m=rp(p.get(Kc,[],f.XFs.Self|f.XFs.Optional)));return{routes:m.map(_p),injector:p}}),ca(()=>{this.childrenLoaders.delete(r)})),l=new Um(s,()=>new tn.x).pipe(pd());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return b(t()).pipe((0,It.U)(Jw),(0,lr.z)(r=>r instanceof f.YKP||Array.isArray(r)?it(r):(0,In.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jw(n){return function Ms(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Cp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tn.x,this.configLoader=(0,f.f3M)(D_),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(Yr),this.rootContexts=(0,f.f3M)(mp),this.navigationId=0,this.afterPreactivation=()=>it(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new uT(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Xm(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Id,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(On(r=>0!==r.id),(0,It.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Mi(r=>{let i=!1,s=!1;return it(r).pipe((0,Nn.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mi(l=>{const d=t.browserUrlTree.toString(),p=!t.navigated||l.extractedUrl.toString()!==d||d!==t.currentUrlTree.toString();if(!p&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const y="";return this.events.next(new dl(l.id,t.serializeUrl(r.rawUrl),y,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),xi.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return eb(l.source)&&(t.browserUrlTree=l.extractedUrl),it(l).pipe(Mi(y=>{const C=this.transitions?.getValue();return this.events.next(new Qm(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),C!==this.transitions?.getValue()?xi.E:Promise.resolve(y)}),function Ww(n,e,t,r){return Mi(i=>function kT(n,e,t,r,i){return new Gw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,It.U)(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Nn.b)(y=>{this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects},r.urlAfterRedirects=y.urlAfterRedirects}),function BT(n,e,t,r,i){return(0,lr.z)(s=>function w_(n,e,t,r,i,s,l="emptyOnly"){return new Pd(n,e,t,r,i,l,s).recognize().pipe(Mi(d=>null===d?function PT(n){return new ar.y(e=>e.error(n))}(new v_):it(d)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe((0,It.U)(l=>({...s,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Nn.b)(y=>{if(r.targetSnapshot=y.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!y.extras.skipLocationChange){const T=t.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);t.setBrowserUrl(T,y)}t.browserUrlTree=y.urlAfterRedirects}const C=new Lc(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(C)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:y,extractedUrl:C,source:T,restoredState:A,extras:O}=l,V=new Qm(y,this.urlSerializer.serialize(C),T,A);this.events.next(V);const P=Iw(C,this.rootComponentType).snapshot;return it(r={...l,targetSnapshot:P,urlAfterRedirects:C,extras:{...O,skipLocationChange:!1,replaceUrl:!1}})}{const y="";return this.events.next(new dl(l.id,t.serializeUrl(r.extractedUrl),y,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),xi.E}}),(0,Nn.b)(l=>{const d=new aT(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),(0,It.U)(l=>r={...l,guards:Rd(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function vp(n,e){return(0,lr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?it({...t,guardsResult:!0}):function TT(n,e,t,r){return(0,In.D)(n).pipe((0,lr.z)(i=>function ST(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?it(s.map(d=>{const p=Md(e)??i,m=fl(d,p);return b(function DT(n){return n&&jc(n.canDeactivate)}(m)?m.canDeactivate(n,e,t,r):p.runInContext(()=>m(n,e,t,r))).pipe(Ds())})).pipe(ga()):it(!0)}(i.component,i.route,t,e,r)),Ds(i=>!0!==i,!0))}(l,r,i,n).pipe((0,lr.z)(d=>d&&function Vw(n){return"boolean"==typeof n}(d)?function h_(n,e,t,r){return(0,In.D)(e).pipe(Is(i=>Mc(function pl(n,e){return null!==n&&e&&e(new ww(n)),it(!0)}(i.route.parent,r),function wp(n,e){return null!==n&&e&&e(new Jm(n)),it(!0)}(i.route,r),function f_(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function l_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Rc(()=>it(l.guards.map(p=>{const m=Md(l.node)??t,y=fl(p,m);return b(function u_(n){return n&&jc(n.canActivateChild)}(y)?y.canActivateChild(r,n):m.runInContext(()=>y(r,n))).pipe(Ds())})).pipe(ga())));return it(s).pipe(ga())}(n,i.path,t),function Uw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return it(!0);const i=r.map(s=>Rc(()=>{const l=Md(e)??t,d=fl(s,l);return b(function XN(n){return n&&jc(n.canActivate)}(d)?d.canActivate(e,n):l.runInContext(()=>d(e,n))).pipe(Ds())}));return it(i).pipe(ga())}(n,i.route,t))),Ds(i=>!0!==i,!0))}(r,s,n,e):it(d)),(0,It.U)(d=>({...t,guardsResult:d})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Nn.b)(l=>{if(r.guardsResult=l.guardsResult,cl(l.guardsResult))throw gT(0,l.guardsResult);const d=new lT(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),On(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),E_(l=>{if(l.guards.canActivateChecks.length)return it(l).pipe((0,Nn.b)(d=>{const p=new KN(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Mi(d=>{let p=!1;return it(d).pipe(function JN(n,e){return(0,lr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return it(t);let s=0;return(0,In.D)(i).pipe(Is(l=>function eF(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!b_(i)&&(s[ll]=i.title),function Qw(n,e,t,r){const i=function tF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return it({});const s={};return(0,In.D)(i).pipe((0,lr.z)(l=>function Xw(n,e,t,r){const i=Md(e)??r,s=fl(n,i);return b(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[l],e,t,r).pipe(Ds(),(0,Nn.b)(d=>{s[l]=d}))),md(1),function To(n){return(0,It.U)(()=>n)}(s),Zi(l=>xo(l)?xi.E:la(l)))}(s,n,e,r).pipe((0,It.U)(l=>(n._resolvedData=l,n.data=Tw(n,t).resolve,i&&b_(i)&&(n.data[ll]=i.title),null)))}(l.route,r,n,e)),(0,Nn.b)(()=>s++),md(1),(0,lr.z)(l=>s===i.length?it(t):xi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Nn.b)({next:()=>p=!0,complete:()=>{p||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),(0,Nn.b)(d=>{const p=new cT(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),E_(l=>{const d=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,Nn.b)(y=>{p.component=y}),(0,It.U)(()=>{})));for(const y of p.children)m.push(...d(y));return m};return Jf(d(l.targetSnapshot.root)).pipe(ol(),hi(1))}),E_(()=>this.afterPreactivation()),(0,It.U)(l=>{const d=function Ad(n,e,t){const r=Hc(n,e._root,t?t._root:void 0);return new Dw(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:d}}),(0,Nn.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(r=>(new Fw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),hi(1),(0,Nn.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new pa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),ca(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Zi(l=>{if(s=!0,gp(l)){pp(l)||(t.navigated=!0,t.restoreHistory(r,!0));const d=new Td(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(d),pp(l)){const p=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),m={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||eb(r.source)};t.scheduleNavigation(p,Id,null,m,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const d=new Sd(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(d);try{r.resolve(t.errorHandler(l))}catch(p){r.reject(p)}}return xi.E}))}))}cancelNavigationTransition(t,r,i){const s=new Td(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eb(n){return n!==Id}let tb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===bt);return r}getResolvedTitleForRoute(t){return t.data[ll]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(UT)},providedIn:"root"}),n})(),UT=(()=>{class n extends tb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Nm))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)($T)},providedIn:"root"}),n})();class HT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let $T=(()=>{class n extends HT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pt=new f.OlP("",{providedIn:"root",factory:()=>({})});let rb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(ib)},providedIn:"root"}),n})(),ib=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zT(n){throw n}function GT(n,e,t){return e.parse("/")}const sb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(Pt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||zT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||GT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(rb),this.routeReuseStrategy=(0,f.f3M)(nb),this.urlCreationStrategy=(0,f.f3M)(fT),this.titleStrategy=(0,f.f3M)(tb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=rp((0,f.f3M)(Kc,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(Cp),this.urlSerializer=(0,f.f3M)(Yr),this.location=(0,f.f3M)(at),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Iw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Id,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const d=this.parseUrl(t);this.scheduleNavigation(d,r,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(_p),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:l,queryParamsHandling:d,preserveFragment:p}=r,m=p?this.currentUrlTree.fragment:l;let y=null;switch(d){case"merge":y={...this.currentUrlTree.queryParams,...s};break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}return null!==y&&(y=this.removeEmptyProps(y)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,y,m??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=cl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Id,null,r)}navigate(t,r={skipLocationChange:!1}){return function qT(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new f.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...sb}:!1===r?{...WT}:r,cl(t))return $(this.currentUrlTree,t,i);const s=this.parseUrl(t);return $(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,l){if(this.disposed)return Promise.resolve(!1);let d,p,m,y;return l?(d=l.resolve,p=l.reject,m=l.promise):m=new Promise((C,T)=>{d=C,p=T}),y="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:d,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(C=>Promise.reject(C))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class T_{}let S_=(()=>{class n{constructor(t,r,i,s,l){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(On(t=>t instanceof pa),Is(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,f.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,d=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,In.D)(i).pipe((0,xc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):it(null);const s=i.pipe((0,lr.z)(l=>null===l?it(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,In.D)([s,l]).pipe((0,xc.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Oi),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(T_),f.LFG(D_))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ld=new f.OlP("");let ab=(()=>{class n{constructor(t,r,i,s,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof e_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new e_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();var us=(()=>((us=us||{})[us.COMPLETE=0]="COMPLETE",us[us.FAILED=1]="FAILED",us[us.REDIRECTING=2]="REDIRECTING",us))();const Vd=!1;function gl(n,e){return{\u0275kind:n,\u0275providers:e}}const x_=new f.OlP("",{providedIn:"root",factory:()=>!1});function Bd(){const n=(0,f.f3M)(f.zs3);return e=>{const t=n.get(f.z2F);if(e!==t.components[0])return;const r=n.get(Oi),i=n.get(lb);1===n.get(Ip)&&r.initialNavigation(),n.get(cb,null,f.XFs.Optional)?.setUpPreloading(),n.get(Ld,null,f.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const lb=new f.OlP(Vd?"bootstrap done indicator":"",{factory:()=>new tn.x}),Ip=new f.OlP(Vd?"initial navigation":"",{providedIn:"root",factory:()=>1});function QT(){let n=[];return n=Vd?[{provide:f.Xts,multi:!0,useFactory:()=>{const e=(0,f.f3M)(Oi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Ew(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],gl(1,n)}const cb=new f.OlP(Vd?"router preloader":"");function XT(n){return gl(0,[{provide:cb,useExisting:S_},{provide:T_,useExisting:n}])}const Qc=!1,tS=new f.OlP(Qc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),M_=[at,{provide:Yr,useClass:kc},Oi,mp,{provide:Bc,useFactory:function A_(n){return n.routerState.root},deps:[Oi]},D_,Qc?{provide:x_,useValue:!0}:[]];function nS(){return new f.PXZ("Router",Oi)}let rS=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[M_,Qc&&r?.enableTracing?QT().\u0275providers:[],{provide:Kc,multi:!0,useValue:t},{provide:tS,useFactory:hb,deps:[[Oi,new f.FiY,new f.tp0]]},{provide:Pt,useValue:r||{}},r?.useHash?{provide:yt,useClass:je}:{provide:yt,useClass:dt},{provide:Ld,useFactory:()=>{const n=(0,f.f3M)(rc),e=(0,f.f3M)(f.R0b),t=(0,f.f3M)(Pt),r=(0,f.f3M)(Cp),i=(0,f.f3M)(Yr);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ab(i,r,n,e,t)}},r?.preloadingStrategy?XT(r.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:nS},r?.initialNavigation?sS(r):[],[{provide:fb,useFactory:Bd},{provide:f.tb,multi:!0,useExisting:fb}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Kc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(tS,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[i_]}),n})();function hb(n){if(Qc&&n)throw new f.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function sS(n){return["disabled"===n.initialNavigation?gl(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const e=(0,f.f3M)(Oi);return()=>{e.setUpLocationChangeListener()}}},{provide:Ip,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?gl(2,[{provide:Ip,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:e=>{const t=e.get(me,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Oi),s=e.get(lb);(function iF(n,e){n.events.pipe(On(t=>t instanceof pa||t instanceof Td||t instanceof Sd||t instanceof dl),(0,It.U)(t=>t instanceof pa||t instanceof dl?us.COMPLETE:t instanceof Td&&(0===t.code||1===t.code)?us.REDIRECTING:us.FAILED),On(t=>t!==us.REDIRECTING),hi(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Cp).afterPreactivation=()=>(r(!0),s.closed?it(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const fb=new f.OlP(Qc?"Router Initializer":"");let R_=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["ftapp-notfound"]],decls:4,vars:0,consts:[["mat-card-image","","src","assets/404.png","alt","404"]],template:function(i,s){1&i&&(f.TgZ(0,"div")(1,"h1"),f._uU(2," The resource you are looking for does not exist! "),f.qZA(),f._UZ(3,"img",0),f.qZA())}}),n})();function Rs(n){return null!=n&&"false"!=`${n}`}function ma(n,e=0){return function Sp(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Hd(n){return Array.isArray(n)?n:[n]}function Wn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function _a(n){return n instanceof f.SBq?n.nativeElement:n}var gb=R(1144);const O_=["addListener","removeListener"],oS=["addEventListener","removeEventListener"],aS=["on","off"];function $d(n,e,t,r){if((0,Cs.m)(t)&&(r=t,t=void 0),r)return $d(n,e,t).pipe(Es(r));const[i,s]=function lS(n){return(0,Cs.m)(n.addEventListener)&&(0,Cs.m)(n.removeEventListener)}(n)?oS.map(l=>d=>n[l](e,d,t)):function _b(n){return(0,Cs.m)(n.addListener)&&(0,Cs.m)(n.removeListener)}(n)?O_.map(mb(n,e)):function yb(n){return(0,Cs.m)(n.on)&&(0,Cs.m)(n.off)}(n)?aS.map(mb(n,e)):[];if(!i&&(0,gb.z)(n))return(0,lr.z)(l=>$d(l,e,t))((0,Xs.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new ar.y(l=>{const d=(...p)=>l.next(1<p.length?p:p[0]);return i(d),()=>s(d)})}function mb(n,e){return t=>r=>n[t](e,r)}var vb=R(4408);const Ur={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Ur;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Yi.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Ur;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ur;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var wb=R(640);const k_=new class lF extends wb.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class cS extends vb.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ur.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Ur.cancelAnimationFrame(t),e._scheduled=void 0)}});let P_,dS=1;const Ap={};function N_(n){return n in Ap&&(delete Ap[n],!0)}const hS={setImmediate(n){const e=dS++;return Ap[e]=!0,P_||(P_=Promise.resolve()),P_.then(()=>N_(e)&&n()),e},clearImmediate(n){N_(n)}},{setImmediate:F_,clearImmediate:fS}=hS,xp={setImmediate(...n){const{delegate:e}=xp;return(e?.setImmediate||F_)(...n)},clearImmediate(n){const{delegate:e}=xp;return(e?.clearImmediate||fS)(n)},delegate:void 0},mS=new class gS extends wb.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class pS extends vb.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=xp.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(xp.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var jd=R(4986),yS=R(3532);function L_(n,e=jd.z){return function _S(n){return(0,mr.e)((e,t)=>{let r=!1,i=null,s=null,l=!1;const d=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const m=i;i=null,t.next(m)}l&&t.complete()},p=()=>{s=null,l&&t.complete()};e.subscribe((0,Zn.x)(t,m=>{r=!0,i=m,s||(0,Xs.Xf)(n(m)).subscribe(s=(0,Zn.x)(t,d,p))},()=>{l=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function vS(n=0,e,t=jd.P){let r=-1;return null!=e&&((0,yS.K)(e)?t=e:r=e),new ar.y(i=>{let s=function bb(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}var wS=R(5032);function ml(n){return(0,mr.e)((e,t)=>{(0,Xs.Xf)(n).subscribe((0,Zn.x)(t,()=>t.complete(),wS.Z)),!t.closed&&e.subscribe(t)})}let V_;try{V_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{V_=!1}let _l,Wd,ya,Os,ds=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ym(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!V_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gd(n){return function uF(){if(null==_l&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_l=!0}))}finally{_l=_l||!1}return _l}()?n:!!n.capture}function U_(){if(null==ya){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ya=!1,ya;if("scrollBehavior"in document.documentElement.style)ya=!0;else{const n=Element.prototype.scrollTo;ya=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ya}function yl(){if("object"!=typeof document||!document)return 0;if(null==Wd){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Wd=0,0===n.scrollLeft&&(n.scrollLeft=1,Wd=0===n.scrollLeft?1:2),n.remove()}return Wd}function vl(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function va(n){return n.composedPath?n.composedPath()[0]:n.target}function Op(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Eb=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function bS(){return(0,f.f3M)(K)}}),ES=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wl=(()=>{class n{constructor(t){this.value="ltr",this.change=new f.vpe,t&&(this.value=function qd(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?ES.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Eb,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const CS=["contentWrapper"],DS=["*"],IS=new f.OlP("VIRTUAL_SCROLL_STRATEGY");let Jc=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new tn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ar.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(L_(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):it()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(On(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=_a(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>$d(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.R0b),f.LFG(ds),f.LFG(K,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Db=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new tn.x,this._elementScrolled=new ar.y(l=>this.ngZone.runOutsideAngular(()=>$d(this.elementRef.nativeElement,"scroll").pipe(ml(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=yl()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==yl()?t.left=t.right:1==yl()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;U_()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?i:r:"end"==t&&(t=l?r:i),l&&2==yl()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==yl()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(Jc),f.Y36(f.R0b),f.Y36(wl,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),$_=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new tn.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(L_(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ds),f.LFG(f.R0b),f.LFG(K,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ib=new f.OlP("VIRTUAL_SCROLLABLE");let TS=(()=>{class n extends Db{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(Jc),f.Y36(f.R0b),f.Y36(wl,8))},n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const AS=typeof requestAnimationFrame<"u"?k_:mS;let xS=(()=>{class n extends TS{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Rs(t)}constructor(t,r,i,s,l,d,p,m){super(t,d,i,l),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=m,this._platform=(0,f.f3M)(ds),this._detachedSubject=new tn.x,this._renderedRangeSubject=new tn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ar.y(y=>this._scrollStrategy.scrolledIndexChange.subscribe(C=>Promise.resolve().then(()=>this.ngZone.run(()=>y.next(C))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Yi.w0.EMPTY,this._viewportChanges=p.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Js(null),L_(0,AS)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(ml(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function SS(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,l=s?"X":"Y";let p=`translate${l}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(p+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=p&&(this._renderedContentTransform=p,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",l="rtl"==this.dir?.value;r="start"==t?l?s:i:"end"==t?l?i:s:t||("horizontal"===this.orientation?"left":"top");const d=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-d}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(IS,8),f.Y36(wl,8),f.Y36(Jc),f.Y36($_),f.Y36(Ib,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&f.Gf(CS,7),2&t){let i;f.iGM(i=f.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&f.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[f._Bn([{provide:Db,useFactory:(e,t)=>e||t,deps:[[new f.FiY,new f.tBr(Ib)],n]}]),f.qOj,f.jDz],ngContentSelectors:DS,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div",0,1),f.Hsn(2),f.qZA(),f._UZ(3,"div",2)),2&t&&(f.xp6(3),f.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),OS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})(),j_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Kd,OS,xS,Kd,OS]}),n})();class hs{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class bl extends hs{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class Rr extends hs{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class El extends hs{constructor(e){super(),this.element=e instanceof f.SBq?e.nativeElement:e}}class eu{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof bl?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Rr?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof El?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class G_ extends eu{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const d=l.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||f.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ko=(()=>{class n extends eu{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new f.vpe,this.attachDomPortal=s=>{const l=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),l.parentNode.insertBefore(d,l),this._getRootNode().appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),l=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(l.hostView.rootNodes[0]),super.setDisposeFn(()=>l.destroy()),this._attachedPortal=t,this._attachedRef=l,this.attached.emit(l),l}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f._Vd),f.Y36(f.s_b),f.Y36(K))},n.\u0275dir=f.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[f.qOj]}),n})(),ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();var wa=R(6451);const Cl=U_();class Sb{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Wn(-this._previousScrollPosition.left),e.style.top=Wn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Cl&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Cl&&(r.scrollBehavior=s,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Ab{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(On(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class W_{enable(){}disable(){}attach(){}}function kp(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function q_(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class xb{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();kp(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Mb=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new W_,this.close=l=>new Ab(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Sb(this._viewportRuler,this._document),this.reposition=l=>new xb(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Jc),f.LFG($_),f.LFG(f.R0b),f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class K_{constructor(e){if(this.scrollStrategy=new W_,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Rb{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Pp=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y_=(()=>{class n extends Pp{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const d=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(i)):d.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K),f.LFG(f.R0b,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NS=(()=>{class n extends Pp{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=va(s)},this._clickListener=s=>{const l=va(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let m=p.length-1;m>-1;m--){const y=p[m];if(y._outsidePointerEvents.observers.length<1||!y.hasAttached())continue;if(y.overlayElement.contains(l)||y.overlayElement.contains(d))break;const C=y._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>C.next(s)):C.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K),f.LFG(ds),f.LFG(f.R0b,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dl=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Op()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),Op()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K),f.LFG(ds))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ba{constructor(e,t,r,i,s,l,d,p,m,y=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=l,this._document=d,this._location=p,this._outsideClickDispatcher=m,this._animationsDisabled=y,this._backdropElement=null,this._backdropClick=new tn.x,this._attachments=new tn.x,this._detachments=new tn.x,this._locationChanges=Yi.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new tn.x,this._outsidePointerEvents=new tn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(hi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Wn(this._config.width),e.height=Wn(this._config.height),e.minWidth=Wn(this._config.minWidth),e.minHeight=Wn(this._config.minHeight),e.maxWidth=Wn(this._config.maxWidth),e.maxHeight=Wn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Hd(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ml((0,wa.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Np="cdk-overlay-connected-position-bounding-box",FS=/([A-Za-z%]+)$/;class Fp{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new tn.x,this._resizeSubscription=Yi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Np),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let l;for(let d of this._preferredPositions){let p=this._getOriginPoint(e,i,d),m=this._getOverlayPoint(p,t,d),y=this._getOverlayFit(m,t,r,d);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(y,m,r)?s.push({position:d,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!l||l.overlayFit.visibleArea<y.visibleArea)&&(l={overlayFit:y,overlayPoint:m,originPoint:p,position:d,overlayRect:t})}if(s.length){let d=null,p=-1;for(const m of s){const y=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);y>p&&(p=y,d=m)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&io(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Np),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;i="start"==r.originX?l:d}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=Q_(t);let{x:l,y:d}=e,p=this._getOffset(i,"x"),m=this._getOffset(i,"y");p&&(l+=p),m&&(d+=m);let T=0-d,A=d+s.height-r.height,O=this._subtractOverflows(s.width,0-l,l+s.width-r.width),V=this._subtractOverflows(s.height,T,A),P=O*V;return{visibleArea:P,isCompletelyWithinViewport:s.width*s.height===P,fitsInViewportVertically:V===s.height,fitsInViewportHorizontally:O==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,l=Z_(this._overlayRef.getConfig().minHeight),d=Z_(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=i)&&(e.fitsInViewportHorizontally||null!=d&&d<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=Q_(t),s=this._viewportRect,l=Math.max(e.x+i.width-s.width,0),d=Math.max(e.y+i.height-s.height,0),p=Math.max(s.top-r.top-e.y,0),m=Math.max(s.left-r.left-e.x,0);let y=0,C=0;return y=i.width<=s.width?m||-l:e.x<this._viewportMargin?s.left-r.left-e.x:0,C=i.height<=s.height?p||-d:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:y,y:C},{x:e.x+y,y:e.y+C}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Rb(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,l,d,y,C,T;if("top"===t.overlayY)l=e.y,s=r.height-l+this._viewportMargin;else if("bottom"===t.overlayY)d=r.height-e.y+2*this._viewportMargin,s=r.height-d+this._viewportMargin;else{const A=Math.min(r.bottom-e.y+r.top,e.y),O=this._lastBoundingBoxSize.height;s=2*A,l=e.y-A,s>O&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-O/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)T=r.width-e.x+this._viewportMargin,y=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)C=e.x,y=r.right-e.x;else{const A=Math.min(r.right-e.x+r.left,e.x),O=this._lastBoundingBoxSize.width;y=2*A,C=e.x-A,y>O&&!this._isInitialRender&&!this._growAfterOpen&&(C=e.x-O/2)}return{top:l,left:C,bottom:d,right:T,width:y,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Wn(r.height),i.top=Wn(r.top),i.bottom=Wn(r.bottom),i.width=Wn(r.width),i.left=Wn(r.left),i.right=Wn(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Wn(s)),l&&(i.maxWidth=Wn(l))}this._lastBoundingBoxSize=r,io(this._boundingBox.style,i)}_resetBoundingBoxStyles(){io(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){io(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const y=this._viewportRuler.getViewportScrollPosition();io(r,this._getExactOverlayY(t,e,y)),io(r,this._getExactOverlayX(t,e,y))}else r.position="static";let d="",p=this._getOffset(t,"x"),m=this._getOffset(t,"y");p&&(d+=`translateX(${p}px) `),m&&(d+=`translateY(${m}px)`),r.transform=d.trim(),l.maxHeight&&(i?r.maxHeight=Wn(l.maxHeight):s&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=Wn(l.maxWidth):s&&(r.maxWidth="")),io(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Wn(s.y),i}_getExactOverlayX(e,t,r){let l,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Wn(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:q_(e,r),isOriginOutsideView:kp(e,r),isOverlayClipped:q_(t,r),isOverlayOutsideView:kp(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Hd(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof f.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function io(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Z_(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(FS);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Q_(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const X_="cdk-global-overlay-wrapper";class J_{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(X_),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:l,maxHeight:d}=r,p=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),m=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),y=this._xPosition,C=this._xOffset,T="rtl"===this._overlayRef.getConfig().direction;let A="",O="",V="";p?V="flex-start":"center"===y?(V="center",T?O=C:A=C):T?"left"===y||"end"===y?(V="flex-end",A=C):("right"===y||"start"===y)&&(V="flex-start",O=C):"left"===y||"start"===y?(V="flex-start",A=C):("right"===y||"end"===y)&&(V="flex-end",O=C),e.position=this._cssPosition,e.marginLeft=p?"0":A,e.marginTop=m?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":O,t.justifyContent=V,t.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(X_),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let kb=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new J_}flexibleConnectedTo(t){return new Fp(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG($_),f.LFG(K),f.LFG(ds),f.LFG(Dl))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VS=0,Il=(()=>{class n{constructor(t,r,i,s,l,d,p,m,y,C,T,A){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=d,this._ngZone=p,this._document=m,this._directionality=y,this._location=C,this._outsideClickDispatcher=T,this._animationsModuleType=A}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),l=new K_(t);return l.direction=l.direction||this._directionality.value,new ba(s,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+VS++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(f.z2F)),new G_(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Mb),f.LFG(Dl),f.LFG(f._Vd),f.LFG(kb),f.LFG(Y_),f.LFG(f.zs3),f.LFG(f.R0b),f.LFG(K),f.LFG(wl),f.LFG(at),f.LFG(NS),f.LFG(f.QbO,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fb={provide:new f.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Il],useFactory:function Nb(n){return()=>n.scrollStrategies.reposition()}};let ey=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Il,Fb],imports:[Kd,ro,j_,j_]}),n})();function Al(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function rh(n,e=jd.z){return(0,mr.e)((t,r)=>{let i=null,s=null,l=null;const d=()=>{if(i){i.unsubscribe(),i=null;const m=s;s=null,r.next(m)}};function p(){const m=l+n,y=e.now();if(y<m)return i=this.schedule(void 0,m-y),void r.add(i);d()}t.subscribe((0,Zn.x)(r,m=>{s=m,l=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{d(),r.complete()},void 0,()=>{s=i=null}))})}function Ln(n){return On((e,t)=>n<=t)}function TA(n,e=aa.y){return n=n??Xb,(0,mr.e)((t,r)=>{let i,s=!0;t.subscribe((0,Zn.x)(r,l=>{const d=e(l);(s||!n(i,d))&&(s=!1,i=d,r.next(l))}))})}function Xb(n,e){return n===e}let Jb=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Jb]}),n})();const ly=new Set;let nu,xA=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ih}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function MA(n){if(!ly.has(n))try{nu||(nu=document.createElement("style"),nu.setAttribute("type","text/css"),document.head.appendChild(nu)),nu.sheet&&(nu.sheet.insertRule(`@media ${n} {body{ }}`,0),ly.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ds))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ih(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let RA=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new tn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return tE(Hd(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Jf(tE(Hd(t)).map(l=>this._registerQuery(l).observable));return s=Mc(s.pipe(hi(1)),s.pipe(Ln(1),rh(0))),s.pipe((0,It.U)(l=>{const d={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:m})=>{d.matches=d.matches||p,d.breakpoints[m]=p}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new ar.y(l=>{const d=p=>this._zone.run(()=>l.next(p));return r.addListener(d),()=>{r.removeListener(d)}}).pipe(Js(r),(0,It.U)(({matches:l})=>({query:t,matches:l})),ml(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(xA),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tE(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class nE{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new tn.x,this._typeaheadSubscription=Yi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new tn.x,this.change=new tn.x,e instanceof f.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Nn.b)(t=>this._pressedLetters.push(t)),rh(e),On(()=>this._pressedLetters.length>0),(0,It.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,l=r[s];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(s<l?s:l-1,-1);break}return;default:return void((i||Al(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof f.n_E?this._items.toArray():this._items}}class LA extends nE{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let Bp=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function mL(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function BA(n){try{return n.frameElement}catch{return null}}(function UA(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===sE(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=sE(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function oE(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function ah(n){return!function yL(n){return function rE(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function _L(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function vL(n){return function Up(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||iE(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ds))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function sE(n){if(!iE(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class HA{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(hi(1)).subscribe(e)}}let uy=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new HA(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Bp),f.LFG(f.R0b),f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ru(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function aE(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const lE=new f.OlP("cdk-input-modality-detector-options"),jA={ignoreKeys:[18,17,224,91,16]},iu=Gd({passive:!0,capture:!0});let cE=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Rn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(d=>d===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=va(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ru(l)?"keyboard":"mouse"),this._mostRecentTarget=va(l))},this._onTouchstart=l=>{aE(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=va(l))},this._options={...jA,...s},this.modalityDetected=this._modality.pipe(Ln(1)),this.modalityChanged=this.modalityDetected.pipe(TA()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,iu),i.addEventListener("mousedown",this._onMousedown,iu),i.addEventListener("touchstart",this._onTouchstart,iu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,iu),document.removeEventListener("mousedown",this._onMousedown,iu),document.removeEventListener("touchstart",this._onTouchstart,iu))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ds),f.LFG(f.R0b),f.LFG(K),f.LFG(lE,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WA=new f.OlP("cdk-focus-monitor-default-options"),Hp=Gd({passive:!0,capture:!0});let su=(()=>{class n{constructor(t,r,i,s,l){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new tn.x,this._rootNodeFocusAndBlurListener=d=>{for(let m=va(d);m;m=m.parentElement)"focus"===d.type?this._onFocus(d,m):this._onBlur(d,m)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,r=!1){const i=_a(t);if(!this._platform.isBrowser||1!==i.nodeType)return it(null);const s=function Rp(n){if(function Mp(){if(null==Os){const n=typeof document<"u"?document.head:null;Os=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Os}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const d={checkChildren:r,subject:new tn.x,rootNode:s};return this._elementInfo.set(i,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const r=_a(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=_a(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,r,p)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=va(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Hp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Hp)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ml(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Hp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Hp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.R0b),f.LFG(ds),f.LFG(cE),f.LFG(K,8),f.LFG(WA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fy="cdk-high-contrast-black-on-white",uE="cdk-high-contrast-white-on-black",py="cdk-high-contrast-active";let dE=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,f.f3M)(RA).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(py,fy,uE),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(py,fy):2===r&&t.add(py,uE)}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ds),f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qA=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(dE))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[eE]}),n})();function KA(n,e){}class $p{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let hE=(()=>{class n extends eu{constructor(t,r,i,s,l,d,p,m){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=l,this._ngZone=d,this._overlayRef=p,this._focusMonitor=m,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=y=>{this._portalOutlet.hasAttached();const C=this._portalOutlet.attachDomPortal(y);return this._contentAttached(),C},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=vl(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=vl();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=vl())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(uy),f.Y36(K,8),f.Y36($p),f.Y36(Bp),f.Y36(f.R0b),f.Y36(ba),f.Y36(su))},n.\u0275cmp=f.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&f.Gf(ko,7),2&t){let i;f.iGM(i=f.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&f.uIk("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[f.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&f.YNc(0,KA,0,0,"ng-template",0)},dependencies:[ko],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class jp{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new tn.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!Al(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const gy=new f.OlP("DialogScrollStrategy"),YA=new f.OlP("DialogData"),ZA=new f.OlP("DefaultDialogConfig"),QA={provide:gy,deps:[Il],useFactory:function fE(n){return()=>n.scrollStrategies.block()}};let XA=0,pE=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,s,l,d){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new tn.x,this._afterOpenedAtThisLevel=new tn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Rc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Js(void 0))),this._scrollStrategy=d}open(t,r){(r={...this._defaultOptions||new $p,...r}).id=r.id||"cdk-dialog-"+XA++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),l=this._overlay.create(s),d=new jp(l,r),p=this._attachContainer(l,d,r);return d.containerInstance=p,this._attachDialogContent(t,d,p,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){lh(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){lh(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),lh(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new K_({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const s=i.injector||i.viewContainerRef?.injector,l=[{provide:$p,useValue:i},{provide:jp,useValue:r},{provide:ba,useValue:t}];let d;i.container?"function"==typeof i.container?d=i.container:(d=i.container.type,l.push(...i.container.providers(i))):d=hE;const p=new bl(d,i.viewContainerRef,f.zs3.create({parent:s||this._injector,providers:l}),i.componentFactoryResolver);return t.attach(p).instance}_attachDialogContent(t,r,i,s){if(t instanceof f.Rgc){const l=this._createInjector(s,r,i,void 0);let d={$implicit:s.data,dialogRef:r};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new Rr(t,null,d,l))}else{const l=this._createInjector(s,r,i,this._injector),d=i.attachComponentPortal(new bl(t,s.viewContainerRef,l,s.componentFactoryResolver));r.componentInstance=d.instance}}_createInjector(t,r,i,s){const l=t.injector||t.viewContainerRef?.injector,d=[{provide:YA,useValue:t.data},{provide:jp,useValue:r}];return t.providers&&("function"==typeof t.providers?d.push(...t.providers(r,t,i)):d.push(...t.providers)),t.direction&&(!l||!l.get(wl,null,{optional:!0}))&&d.push({provide:wl,useValue:{value:t.direction,change:it()}}),f.zs3.create({parent:l||s,providers:d})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,l)=>{s?l.setAttribute("aria-hidden",s):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Il),f.LFG(f.zs3),f.LFG(ZA,8),f.LFG(n,12),f.LFG(Dl),f.LFG(gy))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function lh(n,e){let t=n.length;for(;t--;)e(n[t])}let my=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[pE,QA],imports:[ey,ro,qA,ro]}),n})();const nx=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function yy(){return!0}});let Xi=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Op()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(dE),f.LFG(nx,8),f.LFG(K))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Kd,Kd]}),n})();function vy(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function vE(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?ma(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}let wE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Xi,Xi]}),n})();class cx{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const bE=Gd({passive:!0,capture:!0});class ux{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=va(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const l=s.get(r);l?l.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,bE)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,bE)))}}const EE={enterDuration:225,exitDuration:150},wy=Gd({passive:!0,capture:!0}),by=["mousedown","touchstart"],Ey=["mouseup","mouseleave","touchend","touchcancel"];class hh{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=_a(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...EE,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const l=r.radius||function CE(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),d=e-i.left,p=t-i.top,m=s.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=d-l+"px",y.style.top=p-l+"px",y.style.height=2*l+"px",y.style.width=2*l+"px",null!=r.color&&(y.style.backgroundColor=r.color),y.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(y);const C=window.getComputedStyle(y),A=C.transitionDuration,O="none"===C.transitionProperty||"0s"===A||"0s, 0s"===A||0===i.width&&0===i.height,V=new cx(this,y,r,O);y.style.transform="scale3d(1, 1, 1)",V.state=0,r.persistent||(this._mostRecentTransientRipple=V);let P=null;return!O&&(m||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const z=()=>this._finishRippleTransition(V),se=()=>this._destroyRipple(V);y.addEventListener("transitionend",z),y.addEventListener("transitioncancel",se),P={onTransitionEnd:z,onTransitionCancel:se}}),this._activeRipples.set(V,P),(O||!m)&&this._finishRippleTransition(V),V}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...EE,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=_a(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,by.forEach(r=>{hh._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ey.forEach(t=>{this._triggerElement.addEventListener(t,this,wy)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=ru(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!aE(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(by.forEach(t=>hh._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Ey.forEach(t=>e.removeEventListener(t,this,wy)))}}hh._eventManager=new ux;class fh{}class Wp{}const Lo="*";function Dy(n,e){return{type:7,name:n,definitions:e,options:{}}}function ph(n,e=null){return{type:4,styles:e,timings:n}}function qp(n,e=null){return{type:2,steps:n,options:e}}function Ps(n){return{type:6,styles:n,offset:null}}function Ea(n,e,t){return{type:0,name:n,styles:e,options:t}}function gh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function AE(n){Promise.resolve().then(n)}class ou{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){AE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Yp{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?AE(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++r==s&&this._onDestroy()}),l.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Zp="!";function xE(n,e){}class mh{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Qp="mdc-dialog--open",ME="mdc-dialog--opening",Ty="mdc-dialog--closing";let OE=(()=>{class n extends hE{constructor(t,r,i,s,l,d,p,m){super(t,r,i,s,l,d,p,m),this._animationStateChanged=new f.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(uy),f.Y36(K,8),f.Y36(mh),f.Y36(Bp),f.Y36(f.R0b),f.Y36(ba),f.Y36(su))},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],features:[f.qOj],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();const kE="--mat-dialog-transition-duration";function Zr(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?ma(n.substring(0,n.length-2)):n.endsWith("s")?1e3*ma(n.substring(0,n.length-1)):"0"===n?0:null}let au=(()=>{class n extends OE{constructor(t,r,i,s,l,d,p,m,y){super(t,r,i,s,l,d,p,y),this._animationMode=m,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?Zr(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?Zr(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(kE,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ME,Qp)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Qp),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(Qp),this._animationsEnabled?(this._hostElement.style.setProperty(kE,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ty)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(ME,Ty)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(uy),f.Y36(K,8),f.Y36(mh),f.Y36(Bp),f.Y36(f.R0b),f.Y36(ba),f.Y36(f.QbO,8),f.Y36(su))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,r){2&t&&(f.Ikx("id",r._config.id),f.uIk("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),f.ekj("_mat-animation-noopable",!r._animationsEnabled))},features:[f.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1),f.YNc(2,xE,0,0,"ng-template",2),f.qZA()())},dependencies:[ko],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Xp{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new tn.x,this._beforeClosed=new tn.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(On(i=>"opened"===i.state),hi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(On(i=>"closed"===i.state),hi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,wa.T)(this.backdropClick(),this.keydownEvents().pipe(On(i=>27===i.keyCode&&!this.disableClose&&!Al(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function hx(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(On(t=>"closing"===t.state),hi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const s2=new f.OlP("MatMdcDialogData"),o2=new f.OlP("mat-mdc-dialog-default-options"),Sy=new f.OlP("mat-mdc-dialog-scroll-strategy"),_h={provide:Sy,deps:[Il],useFactory:function Ay(n){return()=>n.scrollStrategies.block()}};let xy=0,fx=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,s,l,d,p,m,y,C){this._overlay=t,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=m,this._dialogDataToken=y,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new tn.x,this._afterOpenedAtThisLevel=new tn.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=mh,this.afterAllClosed=Rc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Js(void 0))),this._scrollStrategy=d,this._dialog=r.get(pE)}open(t,r){let i;(r={...this._defaultOptions||new mh,...r}).id=r.id||`${this._idPrefix}${xy++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:$p,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(l,d,p)=>(i=new this._dialogRefConstructor(l,r,p),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const l=this.openDialogs.indexOf(i);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Jp=(()=>{class n extends fx{constructor(t,r,i,s,l,d,p,m){super(t,r,s,d,p,l,Xp,au,s2,m),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Il),f.LFG(f.zs3),f.LFG(at,8),f.LFG(o2,8),f.LFG(Sy),f.LFG(n,12),f.LFG(Dl),f.LFG(f.QbO,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),px=0,PE=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-mdc-dialog-title-"+px++}ngOnInit(){this._dialogRef||(this._dialogRef=function NE(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Xp,8),f.Y36(f.SBq),f.Y36(Jp))},n.\u0275dir=f.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,r){2&t&&f.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),eg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),tg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Jp,_h],imports:[my,ey,ro,Xi,Xi]}),n})();function rg(...n){const e=(0,Ki.jO)(n),{args:t,keys:r}=Sc(n),i=new ar.y(s=>{const{length:l}=t;if(!l)return void s.complete();const d=new Array(l);let p=l,m=l;for(let y=0;y<l;y++){let C=!1;(0,Xs.Xf)(t[y]).subscribe((0,Zn.x)(s,T=>{C||(C=!0,m--),d[y]=T},()=>p--,void 0,()=>{(!p||!C)&&(m||s.next(r?Ac(r,d):d),s.complete())}))}});return e?i.pipe(Es(e)):i}var mx=R(3099);class ig{}class Ca{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ca?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ca;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ca?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(d=>-1===s.indexOf(d)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class My{encodeKey(e){return FE(e)}encodeValue(e){return FE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const yx=/%(\d[a-f0-9])/gi,u2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FE(n){return encodeURIComponent(n).replace(yx,(e,t)=>u2[t]??e)}function sg(n){return`${n}`}class Da{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new My,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function c2(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[l,d]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],p=t.get(l)||[];p.push(d),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(sg):[sg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Da({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(sg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(sg(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class LE{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Ry(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Oy(n){return typeof Blob<"u"&&n instanceof Blob}function VE(n){return typeof FormData<"u"&&n instanceof FormData}class lu{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function wx(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ca),this.context||(this.context=new LE),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+l}}else this.params=new Da,this.urlWithParams=t}serializeBody(){return null===this.body?null:Ry(this.body)||Oy(this.body)||VE(this.body)||function bx(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Da?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||VE(this.body)?null:Oy(this.body)?this.body.type||null:Ry(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Da?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,m=e.params||this.params;const y=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((C,T)=>C.set(T,e.setHeaders[T]),p)),e.setParams&&(m=Object.keys(e.setParams).reduce((C,T)=>C.set(T,e.setParams[T]),m)),new lu(t,r,s,{params:m,headers:p,context:y,reportProgress:d,responseType:i,withCredentials:l})}}var Hr=(()=>((Hr=Hr||{})[Hr.Sent=0]="Sent",Hr[Hr.UploadProgress=1]="UploadProgress",Hr[Hr.ResponseHeader=2]="ResponseHeader",Hr[Hr.DownloadProgress=3]="DownloadProgress",Hr[Hr.Response=4]="Response",Hr[Hr.User=5]="User",Hr))();class BE{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ca,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class og extends BE{constructor(e={}){super(e),this.type=Hr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new og({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Py(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ny=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof lu)s=t;else{let p,m;p=i.headers instanceof Ca?i.headers:new Ca(i.headers),i.params&&(m=i.params instanceof Da?i.params:new Da({fromObject:i.params})),s=new lu(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=it(s).pipe(Is(p=>this.handler.handle(p)));if(t instanceof lu||"events"===i.observe)return l;const d=l.pipe(On(p=>p instanceof og));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,It.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,It.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,It.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,It.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Da).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Py(i,r))}post(t,r,i={}){return this.request("POST",t,Py(i,r))}put(t,r,i={}){return this.request("PUT",t,Py(i,r))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ig))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Hy=["*"];let cg;function Ml(n){return function Rx(){if(void 0===cg&&(cg=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(cg=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return cg}()?.createHTML(n)||n}function $y(n){return Error(`Unable to find icon with the name "${n}"`)}function WE(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function jy(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ia{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let ug=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Ia(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const l=this._sanitizer.sanitize(f.q3G.HTML,i);if(!l)throw jy(i);const d=Ml(l);return this._addSvgIconConfig(t,r,new Ia("",d,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ia(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(f.q3G.HTML,r);if(!s)throw jy(r);const l=Ml(s);return this._addSvgIconSetConfig(t,new Ia("",l,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,t);if(!r)throw WE(t);const i=this._cachedIconsByUrl.get(r);return i?it(du(i)):this._loadSvgIconFromConfig(new Ia(t,null)).pipe((0,Nn.b)(s=>this._cachedIconsByUrl.set(r,s)),(0,It.U)(s=>du(s)))}getNamedSvgIcon(t,r=""){const i=lo(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(t,l):la($y(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?it(du(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,It.U)(r=>du(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?it(i):rg(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Zi(d=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(f.q3G.RESOURCE_URL,l.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(m)),it(null)})))).pipe((0,It.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,r);if(!l)throw $y(t);return l}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(l,t,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Nn.b)(r=>t.svgText=r),(0,It.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?it(null):this._fetchIcon(t).pipe((0,Nn.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const d=this._svgElementFromString(Ml("<svg></svg>"));return d.appendChild(l),this._setSvgAttributes(d,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Ml("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:l,value:d}=i[s];"id"!==l&&r.setAttribute(l,d)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function GE(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,r);if(!l)throw WE(r);const d=this._inProgressUrlFetches.get(l);if(d)return d;const p=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,It.U)(m=>Ml(m)),ca(()=>this._inProgressUrlFetches.delete(l)),(0,mx.B)());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(lo(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return Ta(s)?new Ia(s.url,null,s.options):new Ia(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ny,8),f.LFG(Tc),f.LFG(K,8),f.LFG(f.qLn))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function du(n){return n.cloneNode(!0)}function lo(n,e){return n+":"+e}function Ta(n){return!(!n.url||!n.options)}const KE=vy(class{constructor(n){this._elementRef=n}}),zy=new f.OlP("MAT_ICON_DEFAULT_OPTIONS"),YE=new f.OlP("mat-icon-location",{providedIn:"root",factory:function Ox(){const n=(0,f.f3M)(K),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),kx=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Px=kx.map(n=>`[${n}]`).join(", "),Nx=/^url\(['"]?#(.*?)['"]?\)$/;let Gy=(()=>{class n extends KE{get inline(){return this._inline}set inline(t){this._inline=Rs(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,s,l,d){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Yi.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(l=>{s.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Px),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)kx.forEach(l=>{const d=r[s],p=d.getAttribute(l),m=p?p.match(Nx):null;if(m){let y=i.get(d);y||(y=[],i.set(d,y)),y.push({name:l,value:m[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(hi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(ug),f.$8M("aria-hidden"),f.Y36(YE),f.Y36(f.qLn),f.Y36(zy,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(f.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),f.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[f.qOj],ngContentSelectors:Hy,decls:1,vars:0,template:function(t,r){1&t&&(f.F$t(),f.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Xi,Xi]}),n})(),Wy=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),hu=(()=>{class n extends Wy{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Fs=new f.OlP("NgValueAccessor"),D2={provide:Fs,useExisting:(0,f.Gpc)(()=>yh),multi:!0},ZE=new f.OlP("CompositionEventMode");let yh=(()=>{class n extends Wy{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ky(){const n=W()?W().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(ZE,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[f._Bn([D2]),f.qOj]}),n})();const QE=!1;const _r=new f.OlP("NgValidators"),Ls=new f.OlP("NgAsyncValidators");function Bx(n){return function Vo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Qy(n){return null}function Hx(n){return null!=n}function $x(n){const e=(0,f.QGY)(n)?(0,In.D)(n):n;if(QE&&!(0,f.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new f.vHH(-1101,t)}return e}function jx(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function zx(n,e){return e.map(t=>t(n))}function vh(n){return n.map(e=>function Gx(n){return!n.validate}(e)?e:t=>e.validate(t))}function Xy(n){return null!=n?function rC(n){if(!n)return null;const e=n.filter(Hx);return 0==e.length?null:function(t){return jx(zx(t,e))}}(vh(n)):null}function Bo(n){return null!=n?function Jy(n){if(!n)return null;const e=n.filter(Hx);return 0==e.length?null:function(t){return rg(zx(t,e).map($x)).pipe((0,It.U)(jx))}}(vh(n)):null}function ev(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tv(n){return n?Array.isArray(n)?n:[n]:[]}function fu(n,e){return Array.isArray(n)?n.includes(e):n===e}function fg(n,e){const t=tv(e);return tv(n).forEach(i=>{fu(t,i)||t.push(i)}),t}function wh(n,e){return tv(e).filter(t=>!fu(n,t))}class Wx{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ki extends Wx{get formDirective(){return null}get path(){return null}}class Rl extends Wx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qx{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let iC=(()=>{class n extends qx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Rl,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[f.qOj]}),n})(),sC=(()=>{class n extends qx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ki,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[f.qOj]}),n})();function Jx(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const rv=!1,gg="VALID",iv="INVALID",Eh="PENDING",mg="DISABLED";function sv(n){return(ov(n)?n.validators:n)||null}function cC(n,e){return(ov(e)?e.asyncValidators:n)||null}function ov(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class o{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gg}get invalid(){return this.status===iv}get pending(){return this.status==Eh}get disabled(){return this.status===mg}get enabled(){return this.status!==mg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wh(e,this._rawAsyncValidators))}hasValidator(e){return fu(this._rawValidators,e)}hasAsyncValidator(e){return fu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Eh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gg||this.status===Eh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mg:gg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Eh,this._hasOwnPendingAsyncValidator=!0;const t=$x(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?mg:this.errors?iv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eh)?Eh:this._anyControlsHaveStatus(iv)?iv:gg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ov(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function M2(n){return Array.isArray(n)?Xy(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function R2(n){return Array.isArray(n)?Bo(n):n||null}(this._rawAsyncValidators)}}class a extends o{constructor(e,t,r){super(sv(t),cC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function rM(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new f.vHH(1002,rv?function tM(n,e){return`Must supply a value for form control ${Jx(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function nM(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new f.vHH(1e3,rv?function x2(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new f.vHH(1001,rv?function eM(n,e){return`Cannot find form control ${Jx(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const _=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>w}),w="always";function D(n,e,t=w){Y(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Pe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Je(n,e)})}(n,e),function At(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ze(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Je(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function B(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function M(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Y(n,e){const t=function dg(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ev(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function hg(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ev(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();M(e._rawValidators,i),M(e._rawAsyncValidators,i)}function Je(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const F3={provide:ki,useExisting:(0,f.Gpc)(()=>dC)},av=(()=>Promise.resolve())();let dC=(()=>{class n extends ki{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new a({},Xy(t),Bo(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){av.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),D(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){av.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){av.then(()=>{const r=this._findContainer(t.path),i=new a({});(function Ce(n,e){Y(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){av.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){av.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function O2(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(_r,10),f.Y36(Ls,10),f.Y36(_,8))},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([F3]),f.qOj]}),n})();function k2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function P2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const N2=class extends o{constructor(e=null,t,r){super(sv(t),cC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ov(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=P2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){k2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){k2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){P2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},B3={provide:Rl,useExisting:(0,f.Gpc)(()=>oM)},V2=(()=>Promise.resolve())();let oM=(()=>{class n extends Rl{constructor(t,r,i,s,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new N2,this._registered=!1,this.update=new f.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===yh?t=s:function P3(n){return Object.getPrototypeOf(n.constructor)===hu}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function iM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){V2.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,f.D6c)(r);V2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function E(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ki,9),f.Y36(_r,10),f.Y36(Ls,10),f.Y36(Fs,10),f.Y36(f.sBO,8),f.Y36(_,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([B3]),f.qOj,f.TTD]}),n})(),B2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),H2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})(),Ch=(()=>{class n{constructor(){this._validator=Qy}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Qy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,features:[f.TTD]}),n})();const r4={provide:_r,useExisting:(0,f.Gpc)(()=>hC),multi:!0};let hC=(()=>{class n extends Ch{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=t=>Bx}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([r4]),f.qOj]}),n})(),c4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[H2]}),n})(),d4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_,useValue:t.callSetDisabledState??w}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[c4]}),n})(),h4=(()=>{const e=class{onSubmit(r){const i=r.value.password;console.log(i),i===this.password?(console.log("Privileges granted"),this.canEdit=!0,r.reset(),this.dialogRef.close(this.canEdit)):console.log("Incorrect password"),r.reset()}constructor(r){this.password="test",this.canEdit=!1,this.dialogRef=r,this.canEdit=!1}ngOnInit(){}onCloseClick(){this.dialogRef.close()}};let n=e;return e.\u0275fac=function(i){return new(i||e)(f.Y36(Xp))},e.\u0275cmp=f.Xpm({type:e,selectors:[["ftapp-logindialog"]],decls:13,vars:0,consts:[[1,"dialog-header"],["mat-dialog-title",""],[1,"close-icon",3,"click"],[3,"ngSubmit"],["myForm","ngForm"],["type","password","id","password","name","password","ngModel","","required",""],["type","submit",1,"btn","btn-primary"]],template:function(i,s){if(1&i){const l=f.EpF();f.TgZ(0,"div",0)(1,"h2",1),f._uU(2,"Admin mode required"),f.qZA(),f.TgZ(3,"mat-icon",2),f.NdJ("click",function(){return s.onCloseClick()}),f._uU(4,"close"),f.qZA()(),f.TgZ(5,"mat-dialog-content")(6,"p"),f._uU(7,"Please enter the password!"),f.qZA(),f.TgZ(8,"form",3,4),f.NdJ("ngSubmit",function(){f.CHM(l);const p=f.MAs(9);return f.KtG(s.onSubmit(p))}),f._UZ(10,"input",5),f.TgZ(11,"button",6),f._uU(12,"Submit"),f.qZA()()()}},dependencies:[PE,eg,Gy,B2,yh,iC,sC,hC,oM,dC],styles:[".mat-mdc-dialog-surface{--mdc-dialog-container-color: white;color:#000;border-radius:8px;padding:24px;position:relative}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;position:relative}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:400;margin-right:16px}.close-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;color:#000;position:absolute;top:10px;right:10px;width:36px;height:36px;display:flex;justify-content:center;align-items:center;background:white;border-radius:50%;box-shadow:0 2px 5px #0003}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.password-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.password-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px}.password-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}  mat-dialog-content p{color:#333}"]}),n})(),f4=(()=>{const e=class{constructor(r){this.dialogRef=r}ngOnInit(){}onCloseClick(){this.dialogRef.close()}};let n=e;return e.\u0275fac=function(i){return new(i||e)(f.Y36(Xp))},e.\u0275cmp=f.Xpm({type:e,selectors:[["ftapp-infodialog"]],decls:10,vars:0,consts:[[1,"dialog-header"],["mat-dialog-title",""],[1,"close-icon",3,"click"],["href","https://helpful-sprite-4ff97a.netlify.app"]],template:function(i,s){1&i&&(f.TgZ(0,"div",0)(1,"h2",1),f._uU(2,"Website information"),f.qZA(),f.TgZ(3,"mat-icon",2),f.NdJ("click",function(){return s.onCloseClick()}),f._uU(4,"close"),f.qZA()(),f.TgZ(5,"mat-dialog-content")(6,"p"),f._uU(7,"This website was created by Boros Titusz, 2024.08.07"),f.qZA(),f.TgZ(8,"a",3),f._uU(9,"Contact me here"),f.qZA()())},dependencies:[PE,eg,Gy],styles:[".mat-mdc-dialog-surface{--mdc-dialog-container-color: white;color:#000;border-radius:8px;padding:24px;position:relative}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;position:relative}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:400;margin-right:16px}.close-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;color:#000;position:absolute;top:10px;right:10px;width:36px;height:36px;display:flex;justify-content:center;align-items:center;background:white;border-radius:50%;box-shadow:0 2px 5px #0003}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-dialog-actions[_ngcontent-%COMP%]{display:none}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}"]}),n})(),p4=(()=>{const e=class{constructor(){this.canEditSubject=new Rn(!1),this.canEdit$=this.canEditSubject.asObservable()}setCanEdit(r){this.canEditSubject.next(r)}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const g4=["*",[["mat-toolbar-row"]]],m4=["*","mat-toolbar-row"],_4=vy(class{constructor(n){this._elementRef=n}});let y4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),v4=(()=>{class n extends _4{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(ds),f.Y36(K))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&f.Suo(i,y4,5),2&t){let s;f.iGM(s=f.CRH())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&f.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[f.qOj],ngContentSelectors:m4,decls:2,vars:0,template:function(t,r){1&t&&(f.F$t(g4),f.Hsn(0),f.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),w4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Xi,Xi]}),n})();function b4(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",4),f.NdJ("click",function(){f.CHM(t);const i=f.oxw();return f.KtG(i.openLoginDialog())}),f.TgZ(1,"mat-icon"),f._uU(2,"edit"),f.qZA()()}}function E4(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",4),f.NdJ("click",function(){f.CHM(t);const i=f.oxw();return f.KtG(i.saveData())}),f.TgZ(1,"mat-icon"),f._uU(2,"check"),f.qZA()()}}let C4=(()=>{const e=class{constructor(r,i){this.dialog=r,this.editModeService=i,this.canEdit=!1}ngOnInit(){}saveData(){this.canEdit=!1,this.editModeService.setCanEdit(!1)}openLoginDialog(){this.dialog.open(h4).afterClosed().subscribe(i=>{this.canEdit=!0===i,this.editModeService.setCanEdit(this.canEdit),console.log("The dialog was closed"),console.log("canEdit:",this.canEdit)})}openInfoDialog(){this.dialog.open(f4).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}};let n=e;return e.\u0275fac=function(i){return new(i||e)(f.Y36(Jp),f.Y36(p4))},e.\u0275cmp=f.Xpm({type:e,selectors:[["ftapp-header"]],decls:9,vars:2,consts:[[1,"top-toolbar"],[1,"example-spacer"],["mat-icon-button","","class","edit-icon","aria-label","Edit icon",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Info icon",1,"info-icon",3,"click"],["mat-icon-button","","aria-label","Edit icon",1,"edit-icon",3,"click"]],template:function(i,s){1&i&&(f.TgZ(0,"mat-toolbar",0)(1,"span"),f._uU(2,"Family Tree App"),f.qZA(),f._UZ(3,"span",1),f.YNc(4,b4,3,0,"button",2),f.YNc(5,E4,3,0,"button",2),f.TgZ(6,"button",3),f.NdJ("click",function(){return s.openInfoDialog()}),f.TgZ(7,"mat-icon"),f._uU(8,"info"),f.qZA()()()),2&i&&(f.xp6(4),f.Q6J("ngIf",!s.canEdit),f.xp6(1),f.Q6J("ngIf",s.canEdit))},dependencies:[Ws,Gy,v4],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.top-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#cfcdcd;color:#000;z-index:1000}"]}),n})();var Qr=R(2088),pu=R(8140);class _g{constructor(e){return e}}class hM{constructor(){return(0,pu.C6)()}}const fM=new f.OlP("angularfire2._apps"),I4={provide:_g,useFactory:function D4(n){return n&&1===n.length?n[0]:new _g((0,pu.Mq)())},deps:[[new f.FiY,fM]]},T4={provide:hM,deps:[[new f.FiY,fM]]};function S4(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new _g(r)}}let A4=(()=>{class n{constructor(t){(0,pu.KN)("angularfire",Qr.q4.full,"core"),(0,pu.KN)("angularfire",Qr.q4.full,"app"),(0,pu.KN)("angular",f.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[I4,T4]}),n})();function x4(n,...e){return{ngModule:A4,providers:[{provide:fM,useFactory:S4(n),multi:!0,deps:[f.R0b,f.zs3,Qr.HU,...e]}]}}const M4=(0,Qr.u3)(pu.ZF,!0);var te=R(5861),yr=R(7212),kt=(R(1617),R(5578)),Sa=R(9357);class PM{constructor(){return(0,Qr.vb)("app-check")}}typeof window<"u"&&window;var TV=R(7582);function SV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v6=SV,AV=new kt.LL("auth","Firebase",SV()),wC=new Sa.Yd("@firebase/auth");function bC(n,...e){wC.logLevel<=Sa.in.ERROR&&wC.error(`Auth (${yr.SDK_VERSION}): ${n}`,...e)}function fs(n,...e){throw FM(n,...e)}function Aa(n,...e){return FM(n,...e)}function FM(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return AV.create(n,...e)}function Ue(n,e,...t){if(!n)throw FM(e,...t)}function xa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bC(e),new Error(e)}function gu(n,e){n||xa(e)}function dv(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function MV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class hv{constructor(e,t){this.shortDelay=e,this.longDelay=t,gu(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,kt.uI)()||(0,kt.b$)()}get(){return function b6(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function LM(){return"http:"===MV()||"https:"===MV()}()||(0,kt.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function VM(n,e){gu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class RV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const C6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},D6=new hv(3e4,6e4);function ur(n,e,t,r){return BM.apply(this,arguments)}function BM(){return(BM=(0,te.Z)(function*(n,e,t,r,i={}){return OV(n,i,(0,te.Z)(function*(){let s={},l={};r&&("GET"===e?l=r:s={body:JSON.stringify(r)});const d=(0,kt.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),RV.fetch()(kV(n,n.config.apiHost,t,d),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function OV(n,e,t){return UM.apply(this,arguments)}function UM(){return(UM=(0,te.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},C6),e);try{const i=new I6(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield s.json();if("needConfirmation"in l)throw fv(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const d=s.ok?l.errorMessage:l.error.message,[p,m]=d.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===p)throw fv(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===p)throw fv(n,"email-already-in-use",l);if("USER_DISABLED"===p)throw fv(n,"user-disabled",l);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw function xV(n,e,t){const r=Object.assign(Object.assign({},v6()),{[e]:t});return new kt.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,y,m);fs(n,y)}}catch(i){if(i instanceof kt.ZR)throw i;fs(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ol(n,e,t,r){return HM.apply(this,arguments)}function HM(){return(HM=(0,te.Z)(function*(n,e,t,r,i={}){const s=yield ur(n,e,t,r,i);return"mfaPendingCredential"in s&&fs(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function kV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?VM(n.config,i):`${n.config.apiScheme}://${i}`}class I6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Aa(this.auth,"network-request-failed")),D6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fv(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Aa(n,e,r);return i.customData._tokenResponse=t,i}function $M(){return($M=(0,te.Z)(function*(n,e){return ur(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function zM(){return(zM=(0,te.Z)(function*(n,e){return ur(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function pv(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function GM(){return(GM=(0,te.Z)(function*(n,e=!1){const t=(0,kt.m9)(n),r=yield t.getIdToken(e),i=EC(r);Ue(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:pv(WM(i.auth_time)),issuedAtTime:pv(WM(i.iat)),expirationTime:pv(WM(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function WM(n){return 1e3*Number(n)}function EC(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return bC("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,kt.tV)(t);return i?JSON.parse(i):(bC("Failed to decode base64 JWT payload"),null)}catch(i){return bC("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kl(n,e){return qM.apply(this,arguments)}function qM(){return(qM=(0,te.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof kt.ZR&&function R6({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class O6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,te.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,te.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class PV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pv(this.lastLoginAt),this.creationTime=pv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gv(n){return KM.apply(this,arguments)}function KM(){return KM=(0,te.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield kl(n,function A6(n,e){return zM.apply(this,arguments)}(t,{idToken:r}));Ue(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function N6(n){return n.map(e=>{var{providerId:t}=e,r=(0,TV._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],d=function P6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),y=!!n.isAnonymous&&!(n.email&&s.passwordHash||d?.length),C={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:d,metadata:new PV(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(n,C)}),KM.apply(this,arguments)}function YM(){return(YM=(0,te.Z)(function*(n){const e=(0,kt.m9)(n);yield gv(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ZM(){return(ZM=(0,te.Z)(function*(n,e){const t=yield OV(n,{},(0,te.Z)(function*(){const r=(0,kt.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=kV(n,i,"/v1/token",`key=${s}`),d=yield n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",RV.fetch()(l,{method:"POST",headers:d,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class mv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function M6(n){const e=EC(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,te.Z)(function*(){return Ue(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,te.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:l}=yield function F6(n,e){return ZM.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new mv;return r&&(Ue("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(Ue("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),s&&(Ue("number"==typeof s,"internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mv,this.toJSON())}_performRefresh(){return xa("not implemented")}}function mu(n,e){Ue("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Dh{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=(0,TV._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new PV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,te.Z)(function*(){const r=yield kl(t,t.stsTokenManager.getToken(t.auth,e));return Ue(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function x6(n){return GM.apply(this,arguments)}(this,e)}reload(){return function k6(n){return YM.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,te.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield gv(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,te.Z)(function*(){const t=yield e.getIdToken();return yield kl(e,function T6(n,e){return $M.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,d,p,m,y;const C=null!==(r=t.displayName)&&void 0!==r?r:void 0,T=null!==(i=t.email)&&void 0!==i?i:void 0,A=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,O=null!==(l=t.photoURL)&&void 0!==l?l:void 0,V=null!==(d=t.tenantId)&&void 0!==d?d:void 0,P=null!==(p=t._redirectEventId)&&void 0!==p?p:void 0,z=null!==(m=t.createdAt)&&void 0!==m?m:void 0,se=null!==(y=t.lastLoginAt)&&void 0!==y?y:void 0,{uid:ue,emailVerified:Se,isAnonymous:He,providerData:et,stsTokenManager:xt}=t;Ue(ue&&xt,e,"internal-error");const Gt=mv.fromJSON(this.name,xt);Ue("string"==typeof ue,e,"internal-error"),mu(C,e.name),mu(T,e.name),Ue("boolean"==typeof Se,e,"internal-error"),Ue("boolean"==typeof He,e,"internal-error"),mu(A,e.name),mu(O,e.name),mu(V,e.name),mu(P,e.name),mu(z,e.name),mu(se,e.name);const yn=new Dh({uid:ue,auth:e,email:T,emailVerified:Se,displayName:C,isAnonymous:He,photoURL:O,phoneNumber:A,tenantId:V,stsTokenManager:Gt,createdAt:z,lastLoginAt:se});return et&&Array.isArray(et)&&(yn.providerData=et.map(rn=>Object.assign({},rn))),P&&(yn._redirectEventId=P),yn}static _fromIdTokenResponse(e,t,r=!1){return(0,te.Z)(function*(){const i=new mv;i.updateFromServerResponse(t);const s=new Dh({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield gv(s),s})()}}const NV=new Map;function Pl(n){gu(n instanceof Function,"Expected a class definition");let e=NV.get(n);return e?(gu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,NV.set(n,e),e)}function QM(n=(0,kt.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DC(n=(0,kt.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zV(n=(0,kt.z$)()){return DC(n)||function HV(n=(0,kt.z$)()){return/android/i.test(n)}(n)||function jV(n=(0,kt.z$)()){return/webos/i.test(n)}(n)||function $V(n=(0,kt.z$)()){return/blackberry/i.test(n)}(n)||/windows phone/i.test(n)||function UV(n=(0,kt.z$)()){return/iemobile/i.test(n)}(n)}function Xr(n){return(0,kt.m9)(n)}function XV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function JV(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class J6{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xa("not implemented")}_getIdTokenResponse(e){return xa("not implemented")}_linkToIdToken(e,t){return xa("not implemented")}_getReauthenticationResolver(e){return xa("not implemented")}}function Nl(n,e){return _R.apply(this,arguments)}function _R(){return(_R=(0,te.Z)(function*(n,e){return Ol(n,"POST","/v1/accounts:signInWithIdp",function Xn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}class yu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fW extends yu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,te.Z)(function*(){const s=yield Dh._fromIdTokenResponse(e,r,i),l=rB(r);return new co({user:s,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,te.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=rB(r);return new co({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function rB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class xC extends kt.ZR{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xC.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new xC(e,t,r,i)}}function iB(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?xC._fromErrorAndOperation(n,s,e,r):s})}function TR(n,e){return SR.apply(this,arguments)}function SR(){return(SR=(0,te.Z)(function*(n,e,t=!1){const r=yield kl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return co._forOperation(n,"link",r)})).apply(this,arguments)}function oB(n,e){return xR.apply(this,arguments)}function xR(){return(xR=(0,te.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield kl(n,iB(r,i,e,n),t);Ue(s.idToken,r,"internal-error");const l=EC(s.idToken);Ue(l,r,"internal-error");const{sub:d}=l;return Ue(n.uid===d,r,"user-mismatch"),co._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&fs(r,"user-mismatch"),s}})).apply(this,arguments)}function aB(n,e){return MR.apply(this,arguments)}function MR(){return(MR=(0,te.Z)(function*(n,e,t=!1){const r="signIn",i=yield iB(n,r,e),s=yield co._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const RC="__sak";class cB{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(RC,"1"),this.storage.removeItem(RC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const FW=(()=>{class n extends cB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kW(){const n=(0,kt.z$)();return QM(n)||DC(n)}()&&function B6(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const d=this.storage.getItem(i);if(t.newValue!==d)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const d=this.storage.getItem(i);!r&&this.localCache[i]===d||this.notifyListeners(i,d)},l=this.storage.getItem(i);!function V6(){return(0,kt.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return(0,te.Z)(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,te.Z)(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return(0,te.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),uB=(()=>{class n extends cB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let VW=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,te.Z)(function*(){const i=t,{eventId:s,eventType:l,data:d}=i.data,p=r.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(p).map(function(){var C=(0,te.Z)(function*(T){return T(i.origin,d)});return function(T){return C.apply(this,arguments)}}()),y=yield function LW(n){return Promise.all(n.map(function(){var e=(0,te.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(m);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function oO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class BW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,te.Z)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,d;return new Promise((p,m)=>{const y=oO("",20);s.port1.start();const C=setTimeout(()=>{m(new Error("unsupported_event"))},r);d={messageChannel:s,onMessage(T){const A=T;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(C),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(A.data.response);break;default:clearTimeout(C),clearTimeout(l),m(new Error("invalid_response"))}}},i.handlers.add(d),s.port1.addEventListener("message",d.onMessage),i.target.postMessage({eventType:e,eventId:y,data:t},[s.port2])}).finally(()=>{d&&i.removeMessageHandler(d)})})()}}function kr(){return window}function aO(){return typeof kr().WorkerGlobalScope<"u"&&"function"==typeof kr().importScripts}function lO(){return(lO=(0,te.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const dB="firebaseLocalStorageDb",zW=1,OC="firebaseLocalStorage",hB="fbase_key";class wv{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kC(n,e){return n.transaction([OC],e?"readwrite":"readonly").objectStore(OC)}function cO(){const n=indexedDB.open(dB,zW);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(OC,{keyPath:hB})}catch(i){t(i)}}),n.addEventListener("success",(0,te.Z)(function*(){const r=n.result;r.objectStoreNames.contains(OC)?e(r):(r.close(),yield function GW(){const n=indexedDB.deleteDatabase(dB);return new wv(n).toPromise()}(),e(yield cO()))}))})}function fB(n,e,t){return uO.apply(this,arguments)}function uO(){return(uO=(0,te.Z)(function*(n,e,t){const r=kC(n,!0).put({[hB]:e,value:t});return new wv(r).toPromise()})).apply(this,arguments)}function dO(){return(dO=(0,te.Z)(function*(n,e){const t=kC(n,!1).get(e),r=yield new wv(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function pB(n,e){const t=kC(n,!0).delete(e);return new wv(t).toPromise()}const YW=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,te.Z)(function*(){return t.db||(t.db=yield cO()),t.db})()}_withRetries(t){var r=this;return(0,te.Z)(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,te.Z)(function*(){return aO()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,te.Z)(function*(){t.receiver=VW._getInstance(function jW(){return aO()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,te.Z)(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,te.Z)(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,te.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function HW(){return lO.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new BW(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,te.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function $W(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,te.Z)(function*(){try{if(!indexedDB)return!1;const t=yield cO();return yield fB(t,RC,"1"),yield pB(t,RC),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,te.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,te.Z)(function*(){return i._withPendingWrite((0,te.Z)(function*(){return yield i._withRetries(s=>fB(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,te.Z)(function*(){const i=yield r._withRetries(s=>function WW(n,e){return dO.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,te.Z)(function*(){return r._withPendingWrite((0,te.Z)(function*(){return yield r._withRetries(i=>pB(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,te.Z)(function*(){const r=yield t._withRetries(l=>{const d=kC(l,!1).getAll();return new wv(d).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:l,value:d}of r)s.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(d)&&(t.notifyListeners(l,d),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!s.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,te.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();class wO extends J6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dq(n){return aB(n.auth,new wO(n),n.bypassAuthState)}function hq(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),oB(t,new wO(n),n.bypassAuthState)}function fq(n){return bO.apply(this,arguments)}function bO(){return(bO=(0,te.Z)(function*(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),TR(t,new wO(n),n.bypassAuthState)})).apply(this,arguments)}class pq{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,te.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,te.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:l,error:d,type:p}=e;if(d)return void t.reject(d);const m={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(p)(m))}catch(y){t.reject(y)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dq;case"linkViaPopup":case"linkViaRedirect":return fq;case"reauthViaPopup":case"reauthViaRedirect":return hq;default:fs(this.auth,"internal-error")}}resolve(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gq="pendingRedirect",bv=new Map;class mq extends pq{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,te.Z)(function*(){let r=bv.get(t.auth._key());if(!r){try{const s=(yield function _q(n,e){return TO.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}bv.set(t.auth._key(),r)}return t.bypassAuthState||bv.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,te.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,te.Z)(function*(){})()}cleanUp(){}}function TO(){return(TO=(0,te.Z)(function*(n,e){const t=function _B(n){return function CC(n,e,t){return`firebase:${n}:${e}:${t}`}(gq,n.config.apiKey,n.name)}(e),r=function mB(n){return Pl(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function yq(n,e){bv.set(n._key(),e)}function yB(n,e){return kO.apply(this,arguments)}function kO(){return(kO=(0,te.Z)(function*(n,e,t=!1){const r=Xr(n),i=function Th(n,e){return e?Pl(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new mq(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l})).apply(this,arguments)}class Cq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Dq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bB(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bB(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Aa(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wB(e))}saveEventToCache(e){this.cachedEventUids.add(wB(e)),this.lastProcessedEventTime=Date.now()}}function wB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bB({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function NO(){return(NO=(0,te.Z)(function*(n,e={}){return ur(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Tq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sq=/^https?/;function FO(){return FO=(0,te.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Iq(n){return NO.apply(this,arguments)}(n);for(const t of e)try{if(xq(t))return}catch{}fs(n,"unauthorized-domain")}),FO.apply(this,arguments)}function xq(n){const e=dv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!Sq.test(t))return!1;if(Tq.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Mq=new hv(3e4,6e4);function EB(){const n=kr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}function Rq(n){return new Promise((e,t)=>{var r,i,s;function l(){EB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EB(),t(Aa(n,"network-request-failed"))},timeout:Mq.get()})}if(null!==(i=null===(r=kr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=kr().gapi)||void 0===s||!s.load){const d=function $6(n){return`__${n}${Math.floor(1e6*Math.random())}`}("iframefcb");return kr()[d]=()=>{gapi.load?l():t(Aa(n,"network-request-failed"))},function eR(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Aa("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function H6(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${d}`).catch(p=>t(p))}l()}}).catch(e=>{throw NC=null,e})}let NC=null;const kq=new hv(5e3,15e3),Pq="__/auth/iframe",Nq="emulator/auth/iframe",Fq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vq(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?VM(e,Nq):`https://${n.config.authDomain}/${Pq}`,r={apiKey:e.apiKey,appName:n.name,v:yr.SDK_VERSION},i=Lq.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${(0,kt.xO)(r).slice(1)}`}function LO(){return LO=(0,te.Z)(function*(n){const e=yield function Oq(n){return NC=NC||Rq(n),NC}(n),t=kr().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:Vq(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fq,dontclear:!0},r=>new Promise(function(){var i=(0,te.Z)(function*(s,l){yield r.restyle({setHideOnLeave:!1});const d=Aa(n,"network-request-failed"),p=kr().setTimeout(()=>{l(d)},kq.get());function m(){kr().clearTimeout(p),s(r)}r.ping(m).then(m,()=>{l(d)})});return function(s,l){return i.apply(this,arguments)}}()))}),LO.apply(this,arguments)}const Uq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hq=500,$q=600,jq="_blank",zq="http://localhost";class CB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gq(n,e,t,r=Hq,i=$q){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},Uq),{width:r.toString(),height:i.toString(),top:s,left:l}),m=(0,kt.z$)().toLowerCase();t&&(d=function BV(n=(0,kt.z$)()){return/crios\//i.test(n)}(m)?jq:t),function VV(n=(0,kt.z$)()){return/firefox\//i.test(n)}(m)&&(e=e||zq,p.scrollbars="yes");const y=Object.entries(p).reduce((T,[A,O])=>`${T}${A}=${O},`,"");if(function L6(n=(0,kt.z$)()){var e;return DC(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(m)&&"_self"!==d)return function Wq(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",d),new CB(null);const C=window.open(e||"",d,y);Ue(C,n,"popup-blocked");try{C.focus()}catch{}return new CB(C)}const qq="__/auth/handler",Kq="emulator/auth/handler",Yq=encodeURIComponent("fac");function DB(n,e,t,r,i,s){return VO.apply(this,arguments)}function VO(){return(VO=(0,te.Z)(function*(n,e,t,r,i,s){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yr.SDK_VERSION,eventId:i};if(e instanceof yu){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,kt.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,C]of Object.entries(s||{}))l[y]=C}if(e instanceof fW){const y=e.getScopes().filter(C=>""!==C);y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const d=l;for(const y of Object.keys(d))void 0===d[y]&&delete d[y];const p=yield n._getAppCheckToken(),m=p?`#${Yq}=${encodeURIComponent(p)}`:"";return`${function Zq({config:n}){return n.emulator?VM(n,Kq):`https://${n.authDomain}/${qq}`}(n)}?${(0,kt.xO)(d).slice(1)}${m}`})).apply(this,arguments)}const BO="webStorageSupport",Xq=class Qq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uB,this._completeRedirectFn=yB,this._overrideRedirectResult=yq}_openPopup(e,t,r,i){var s=this;return(0,te.Z)(function*(){var l;gu(null===(l=s.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const d=yield DB(e,t,r,dv(),i);return Gq(e,d,oO())})()}_openRedirect(e,t,r,i){var s=this;return(0,te.Z)(function*(){return yield s._originValidation(e),function UW(n){kr().location.href=n}(yield DB(e,t,r,dv(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(gu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,te.Z)(function*(){const r=yield function Bq(n){return LO.apply(this,arguments)}(e),i=new Cq(e);return r.register("authEvent",s=>(Ue(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(BO,{type:BO},i=>{var s;const l=null===(s=i?.[0])||void 0===s?void 0:s[BO];void 0!==l&&t(!!l),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Aq(n){return FO.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zV()||QM()||DC()}},r5=(0,kt.Pz)("authIdTokenMaxAge")||300;let xB=null;const s5=n=>function(){var e=(0,te.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>r5)return;const s=r?.token;xB!==s&&(xB=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function o5(n=(0,yr.getApp)()){const e=(0,yr._getProvider)(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function K6(n,e){const t=(0,yr._getProvider)(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if((0,kt.vZ)(s,e??{}))return i;fs(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Xq,persistence:[YW,FW,uB]}),r=(0,kt.Pz)("authTokenSyncURL");if(r){const s=s5(r);(function AW(n,e,t){(0,kt.m9)(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function SW(n,e,t,r){(0,kt.m9)(n).onIdTokenChanged(e,t,r)}(t,l=>s(l))}const i=(0,kt.q4)("auth");return i&&function Z6(n,e,t){const r=Xr(n);Ue(r._canInitEmulator,r,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=XV(e),{host:l,port:d}=function Q6(n){const e=XV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:JV(r.substr(s.length+1))}}{const[s,l]=r.split(":");return{host:s,port:JV(l)}}}(e);r.config.emulator={url:`${s}//${l}${null===d?"":`:${d}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function X6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}class HO{constructor(e){return e}}class RB{constructor(){return(0,Qr.vb)("auth")}}const $O=new f.OlP("angularfire2.auth-instances");function l5(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new HO(r)}}const c5={provide:RB,deps:[[new f.FiY,$O]]},u5={provide:HO,useFactory:function a5(n,e){const t=(0,Qr.JM)("auth",n,e);return t&&new HO(t)},deps:[[new f.FiY,$O],_g]};let d5=(()=>{class n{constructor(){(0,pu.KN)("angularfire",Qr.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[u5,c5]}),n})();function h5(n,...e){return{ngModule:d5,providers:[{provide:$O,useFactory:l5(n),multi:!0,deps:[f.R0b,f.zs3,Qr.HU,hM,[new f.FiY,PM],...e]}]}}const f5=(0,Qr.u3)(o5,!0);var Ze,p5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Uo={},jO=jO||{},zt=p5||self;function LC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ev(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zO="closure_uid_"+(1e9*Math.random()>>>0),m5=0;function _5(n,e,t){return n.call.apply(n.bind,arguments)}function y5(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Pi(n,e,t){return(Pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_5:y5).apply(null,arguments)}function VC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function vu(){this.s=this.s,this.o=this.o}vu.prototype.s=!1,vu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function g5(n){Object.prototype.hasOwnProperty.call(n,zO)&&n[zO]||(n[zO]=++m5)}(this)},vu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const OB=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function GO(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function kB(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(LC(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let l=0;l<s;l++)n[i+l]=r[l]}else n.push(r)}}function Ni(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ni.prototype.h=function(){this.defaultPrevented=!0};var w5=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",()=>{},e),zt.removeEventListener("test",()=>{},e)}catch{}return n}();function Cv(n){return/^[\s\xa0]*$/.test(n)}function BC(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function Ma(n){return-1!=BC().indexOf(n)}function WO(n){return WO[" "](n),n}WO[" "]=function(){};var KO,E5=Ma("Opera"),Eg=Ma("Trident")||Ma("MSIE"),PB=Ma("Edge"),qO=PB||Eg,NB=Ma("Gecko")&&!(-1!=BC().toLowerCase().indexOf("webkit")&&!Ma("Edge"))&&!(Ma("Trident")||Ma("MSIE"))&&!Ma("Edge"),C5=-1!=BC().toLowerCase().indexOf("webkit")&&!Ma("Edge");function FB(){var n=zt.document;return n?n.documentMode:void 0}e:{var YO="",ZO=function(){var n=BC();return NB?/rv:([^\);]+)(\)|;)/.exec(n):PB?/Edge\/([\d\.]+)/.exec(n):Eg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):C5?/WebKit\/(\S+)/.exec(n):E5?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(ZO&&(YO=ZO?ZO[1]:""),Eg){var QO=FB();if(null!=QO&&QO>parseFloat(YO)){KO=String(QO);break e}}KO=YO}var D5=zt.document&&Eg&&(FB()||parseInt(KO,10))||void 0;function Dv(n,e){if(Ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(NB){e:{try{WO(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:I5[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Dv.$.h.call(this)}}var I5={2:"touch",3:"pen",4:"mouse"};Dv.prototype.h=function(){Dv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Iv="closure_listenable_"+(1e6*Math.random()|0),T5=0;function S5(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++T5,this.fa=this.ia=!1}function UC(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function JO(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function VB(n){const e={};for(const t in n)e[t]=n[t];return e}const BB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UB(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<BB.length;s++)t=BB[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function HC(n){this.src=n,this.g={},this.h=0}function ek(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=OB(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(UC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tk(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}HC.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=tk(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new S5(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var nk="closure_lm_"+(1e6*Math.random()|0),rk={};function HB(n,e,t,r,i){if(r&&r.once)return jB(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)HB(n,e[s],t,r,i);return null}return t=ak(t),n&&n[Iv]?n.O(e,t,Ev(r)?!!r.capture:!!r,i):$B(n,e,t,!1,r,i)}function $B(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var l=Ev(i)?!!i.capture:!!i,d=sk(n);if(d||(n[nk]=d=new HC(n)),(t=d.add(e,t,r,l,s)).proxy)return t;if(r=function x5(){const e=M5;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)w5||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(GB(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function jB(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)jB(n,e[s],t,r,i);return null}return t=ak(t),n&&n[Iv]?n.P(e,t,Ev(r)?!!r.capture:!!r,i):$B(n,e,t,!0,r,i)}function zB(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zB(n,e[s],t,r,i);else r=Ev(r)?!!r.capture:!!r,t=ak(t),n&&n[Iv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tk(s=n.g[e],t,r,i))&&(UC(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=sk(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tk(e,t,r,i)),(t=-1<n?e[n]:null)&&ik(t))}function ik(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Iv])ek(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(GB(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=sk(e))?(ek(t,n),0==t.h&&(t.src=null,e[nk]=null)):UC(n)}}}function GB(n){return n in rk?rk[n]:rk[n]="on"+n}function M5(n,e){if(n.fa)n=!0;else{e=new Dv(e,this);var t=n.listener,r=n.la||n.src;n.ia&&ik(n),n=t.call(r,e)}return n}function sk(n){return(n=n[nk])instanceof HC?n:null}var ok="__closure_events_fn_"+(1e9*Math.random()>>>0);function ak(n){return"function"==typeof n?n:(n[ok]||(n[ok]=function(e){return n.handleEvent(e)}),n[ok])}function ei(){vu.call(this),this.i=new HC(this),this.S=this,this.J=null}function gi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ni(e,n);else if(e instanceof Ni)e.target=e.target||n;else{var i=e;UB(e=new Ni(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];i=$C(l,r,!0,e)&&i}if(i=$C(l=e.g=n,r,!0,e)&&i,i=$C(l,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=$C(l=e.g=t[s],r,!1,e)&&i}function $C(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var d=l.listener,p=l.la||l.src;l.ia&&ek(n.i,l),i=!1!==d.call(p,r)&&i}}return i&&!r.defaultPrevented}ei.prototype[Iv]=!0,ei.prototype.removeEventListener=function(n,e,t,r){zB(this,n,e,t,r)},ei.prototype.N=function(){if(ei.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)UC(t[r]);delete n.g[e],n.h--}}this.J=null},ei.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ei.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var lk=zt.JSON.stringify;class R5{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function O5(){var n=ck;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class k5{constructor(){this.h=this.g=null}add(e,t){const r=WB.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var WB=new R5(()=>new P5,n=>n.reset());class P5{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function N5(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function F5(n){zt.setTimeout(()=>{throw n},0)}let Tv,Sv=!1,ck=new k5,qB=()=>{const n=zt.Promise.resolve(void 0);Tv=()=>{n.then(L5)}};var L5=()=>{for(var n;n=O5();){try{n.h.call(n.g)}catch(t){F5(t)}var e=WB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Sv=!1};function jC(n,e){ei.call(this),this.h=n||1,this.g=e||zt,this.j=Pi(this.qb,this),this.l=Date.now()}function uk(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function dk(n,e,t){if("function"==typeof n)t&&(n=Pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function KB(n){n.g=dk(()=>{n.g=null,n.i&&(n.i=!1,KB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(Ze=jC.prototype).ga=!1,Ze.T=null,Ze.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gi(this,"tick"),this.ga&&(uk(this),this.start()))}},Ze.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.N=function(){jC.$.N.call(this),uk(this),delete this.g};class V5 extends vu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KB(this)}N(){super.N(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Av(n){vu.call(this),this.h=n,this.g={}}var YB=[];function ZB(n,e,t,r){Array.isArray(t)||(t&&(YB[0]=t.toString()),t=YB);for(var i=0;i<t.length;i++){var s=HB(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function QB(n){JO(n.g,function(e,t){this.g.hasOwnProperty(t)&&ik(e)},n),n.g={}}function zC(){this.g=!0}function Cg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $5(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<i.length;l++)i[l]=""}}}return lk(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Av.prototype.N=function(){Av.$.N.call(this),QB(this)},Av.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zC.prototype.Ea=function(){this.g=!1},zC.prototype.info=function(){};var Sh={},XB=null;function GC(){return XB=XB||new ei}function JB(n){Ni.call(this,Sh.Ta,n)}function xv(n){const e=GC();gi(e,new JB(e))}function eU(n,e){Ni.call(this,Sh.STAT_EVENT,n),this.stat=e}function Ji(n){const e=GC();gi(e,new eU(e,n))}function tU(n,e){Ni.call(this,Sh.Ua,n),this.size=e}function Mv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}Sh.Ta="serverreachability",Sh.STAT_EVENT="statevent",Sh.Ua="timingevent";var WC={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iU(){}var gk,Rv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fk(){Ni.call(this,"d")}function pk(){Ni.call(this,"c")}function qC(){}function Ov(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Av(this),this.P=j5,this.V=new jC(n=qO?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sU}function sU(){this.i=null,this.g="",this.h=!1}qC.prototype.g=function(){return new XMLHttpRequest},qC.prototype.i=function(){return{}},gk=new qC;var j5=45e3,mk={},KC={};function _k(n,e,t){n.L=1,n.v=XC(Fl(e)),n.s=t,n.S=!0,oU(n,null)}function oU(n,e){n.G=Date.now(),kv(n),n.A=Fl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),mU(t.i,"t",r),n.C=0,t=n.l.J,n.h=new sU,n.g=UU(n.l,t?e:null,!n.s),0<n.O&&(n.M=new V5(Pi(n.Pa,n,n.g),n.O)),ZB(n.U,n.g,"readystatechange",n.nb),e=n.I?VB(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),xv(),function B5(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var l="",d=s.split("&"),p=0;p<d.length;p++){var m=d[p].split("=");if(1<m.length){var y=m[0];m=m[1];var C=y.split("_");l=2<=C.length&&"type"==C[1]?l+(y+"=")+m+"&":l+(y+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function aU(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function lU(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=z5(n,t),i==KC){4==e&&(n.o=4,Ji(14),r=!1),Cg(n.j,n.m,null,"[Incomplete Response]");break}if(i==mk){n.o=4,Ji(15),Cg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Cg(n.j,n.m,i,null),yk(n,i)}aU(n)&&i!=KC&&i!=mk&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ji(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ik(e),e.M=!0,Ji(11))):(Cg(n.j,n.m,t,"[Invalid Chunked Response]"),Ah(n),Pv(n))}function z5(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?KC:(t=Number(e.substring(t,r)),isNaN(t)?mk:(r+=1)+t>e.length?KC:(e=e.slice(r,r+t),n.C=r+t,e))}function kv(n){n.Y=Date.now()+n.P,cU(n,n.P)}function cU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mv(Pi(n.lb,n),e)}function YC(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function Pv(n){0==n.l.H||n.J||FU(n.l,n)}function Ah(n){YC(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,uk(n.V),QB(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function yk(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||vk(t.i,n)))if(!n.K&&vk(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;iD(t),nD(t)}Dk(t),Ji(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Mv(Pi(t.ib,t),6e3));if(1>=vU(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Mh(t,11)}else if((n.K||t.g==n)&&iD(t),!Cv(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let m=i[e];if(t.V=m[0],m=m[1],2==t.H)if("c"==m[0]){t.K=m[1],t.pa=m[2];const y=m[3];null!=y&&(t.ra=y,t.l.info("VER="+t.ra));const C=m[4];null!=C&&(t.Ga=C,t.l.info("SVER="+t.Ga));const T=m[5];null!=T&&"number"==typeof T&&0<T&&(t.L=r=1.5*T,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const A=n.g;if(A){const O=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(O){var s=r.i;s.g||-1==O.indexOf("spdy")&&-1==O.indexOf("quic")&&-1==O.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(wk(s,s.h),s.h=null))}if(r.F){const V=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;V&&(r.Da=V,Bn(r.I,r.F,V))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=BU(r,r.J?r.pa:null,r.Y),l.K){wU(r.i,l);var d=l,p=r.L;p&&d.setTimeout(p),d.B&&(YC(d),kv(d)),r.g=l}else PU(r);0<t.j.length&&rD(t)}else"stop"!=m[0]&&"close"!=m[0]||Mh(t,7);else 3==t.H&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?Mh(t,7):Ck(t):"noop"!=m[0]&&t.h&&t.h.Aa(m),t.A=0)}xv()}catch{}}function uU(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(LC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function W5(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(LC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function G5(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(LC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Ze=Ov.prototype).setTimeout=function(n){this.P=n},Ze.nb=function(n){n=n.target;const e=this.M;e&&3==Ra(n)?e.l():this.Pa(n)},Ze.Pa=function(n){try{if(n==this.g)e:{const y=Ra(this.g);var e=this.g.Ia();if(this.g.da(),!(3>y)&&(3!=y||qO||this.g&&(this.h.h||this.g.ja()||AU(this.g)))){this.J||4!=y||7==e||xv(),YC(this);var t=this.g.da();this.ca=t;t:if(aU(this)){var r=AU(this.g);n="";var i=r.length,s=4==Ra(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ah(this),Pv(this);var l="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function U5(n,e,t,r,i,s,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,y,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cv(d)){var m=d;break t}}m=null}if(!(t=m)){this.i=!1,this.o=3,Ji(12),Ah(this),Pv(this);break e}Cg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yk(this,t)}this.S?(lU(this,y,l),qO&&this.i&&3==y&&(ZB(this.U,this.V,"tick",this.mb),this.V.start())):(Cg(this.j,this.m,l,null),yk(this,l)),4==y&&Ah(this),this.i&&!this.J&&(4==y?FU(this.l,this):(this.i=!1,kv(this)))}else(function u8(n){const e={};n=(n.g&&2<=Ra(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Cv(n[r]))continue;var t=N5(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function A5(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ji(12)):(this.o=0,Ji(13)),Ah(this),Pv(this)}}}catch{}},Ze.mb=function(){if(this.g){var n=Ra(this.g),e=this.g.ja();this.C<e.length&&(YC(this),lU(this,n,e),this.i&&4!=n&&kv(this))}},Ze.cancel=function(){this.J=!0,Ah(this)},Ze.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function H5(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(xv(),Ji(17)),Ah(this),this.o=2,Pv(this)):cU(this,this.Y-n)};var dU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof xh){this.h=n.h,ZC(this,n.j),this.s=n.s,this.g=n.g,QC(this,n.m),this.l=n.l;var e=n.i,t=new Lv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),hU(this,t),this.o=n.o}else n&&(e=String(n).match(dU))?(this.h=!1,ZC(this,e[1]||"",!0),this.s=Nv(e[2]||""),this.g=Nv(e[3]||"",!0),QC(this,e[4]),this.l=Nv(e[5]||"",!0),hU(this,e[6]||"",!0),this.o=Nv(e[7]||"")):(this.h=!1,this.i=new Lv(null,this.h))}function Fl(n){return new xh(n)}function ZC(n,e,t){n.j=t?Nv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function QC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function hU(n,e,t){e instanceof Lv?(n.i=e,function J5(n,e){e&&!n.j&&(wu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(pU(this,r),mU(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Fv(e,Q5)),n.i=new Lv(e,n.h))}function Bn(n,e,t){n.i.set(e,t)}function XC(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Nv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Fv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,K5),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function K5(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Fv(e,fU,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Fv(e,fU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Fv(t,"/"==t.charAt(0)?Z5:Y5,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Fv(t,X5)),n.join("")};var fU=/[#\/\?@]/g,Y5=/[#\?:]/g,Z5=/[#\?]/g,Q5=/[#\?@]/g,X5=/#/g;function Lv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wu(n){n.g||(n.g=new Map,n.h=0,n.i&&function q5(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function pU(n,e){wu(n),e=Dg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function gU(n,e){return wu(n),e=Dg(n,e),n.g.has(e)}function mU(n,e,t){pU(n,e),0<t.length&&(n.i=null,n.g.set(Dg(n,e),GO(t)),n.h+=t.length)}function Dg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function _U(n){this.l=n||t8,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ka&&zt.g.Ka()&&zt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ze=Lv.prototype).add=function(n,e){wu(this),this.i=null,n=Dg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ze.forEach=function(n,e){wu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ze.ta=function(){wu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Ze.Z=function(n){wu(this);let e=[];if("string"==typeof n)gU(this,n)&&(e=e.concat(this.g.get(Dg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ze.set=function(n,e){return wu(this),this.i=null,gU(this,n=Dg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ze.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=s;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var t8=10;function yU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function vU(n){return n.h?1:n.g?n.g.size:0}function vk(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wk(n,e){n.g?n.g.add(e):n.h=e}function wU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function bU(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return GO(n.i)}_U.prototype.cancel=function(){if(this.i=bU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var n,n8=class{stringify(n){return zt.JSON.stringify(n,void 0)}parse(n){return zt.JSON.parse(n,void 0)}};function r8(){this.g=new n8}function i8(n,e,t){const r=t||"";try{uU(n,function(i,s){let l=i;Ev(i)&&(l=lk(i)),e.push(r+s+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function JC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Vv(n){this.l=n.fc||null,this.j=n.ob||!1}function eD(n,e){ei.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=bk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vv.prototype.g=function(){return new eD(this.l,this.j)},Vv.prototype.i=(n={},function(){return n});var bk=0;function EU(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Bv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Uv(n)}function Uv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ze=eD.prototype).open=function(n,e){if(this.readyState!=bk)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Uv(this)},Ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bv(this)),this.readyState=bk},Ze.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Uv(this)),this.g&&(this.readyState=3,Uv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;EU(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ze.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Bv(this):Uv(this),3==this.readyState&&EU(this)}},Ze.Za=function(n){this.g&&(this.response=this.responseText=n,Bv(this))},Ze.Ya=function(n){this.g&&(this.response=n,Bv(this))},Ze.ka=function(){this.g&&Bv(this)},Ze.setRequestHeader=function(n,e){this.v.append(n,e)},Ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var o8=zt.JSON.parse;function dr(n){ei.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CU,this.L=this.M=!1}var CU="",a8=/^https?$/i,l8=["POST","PUT"];function DU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,IU(n),tD(n)}function IU(n){n.F||(n.F=!0,gi(n,"complete"),gi(n,"error"))}function TU(n){if(n.h&&typeof jO<"u"&&(!n.C[1]||4!=Ra(n)||2!=n.da()))if(n.v&&4==Ra(n))dk(n.La,0,n);else if(gi(n,"readystatechange"),4==Ra(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(dU)[1]||null;!i&&zt.self&&zt.self.location&&(i=zt.self.location.protocol.slice(0,-1)),r=!a8.test(i?i.toLowerCase():"")}t=r}if(t)gi(n,"complete"),gi(n,"success");else{n.m=6;try{var s=2<Ra(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",IU(n)}}finally{tD(n)}}}function tD(n,e){if(n.g){SU(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||gi(n,"ready");try{t.onreadystatechange=r}catch{}}}function SU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function Ra(n){return n.g?n.g.readyState:0}function AU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case CU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function xU(n){let e="";return JO(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Ek(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=xU(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function Hv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function MU(n){this.Ga=0,this.j=[],this.l=new zC,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hv("baseRetryDelayMs",5e3,n),this.hb=Hv("retryDelaySeedMs",1e4,n),this.eb=Hv("forwardChannelMaxRetries",2,n),this.xa=Hv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new _U(n&&n.concurrentRequestLimit),this.Ja=new r8,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ck(n){if(RU(n),3==n.H){var e=n.W++,t=Fl(n.I);if(Bn(t,"SID",n.K),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),$v(n,t),(e=new Ov(n,n.l,e)).L=2,e.v=XC(Fl(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon)try{t=zt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=UU(e.l,null),e.g.ha(e.v)),e.G=Date.now(),kv(e)}VU(n)}function nD(n){n.g&&(Ik(n),n.g.cancel(),n.g=null)}function RU(n){nD(n),n.u&&(zt.clearTimeout(n.u),n.u=null),iD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function rD(n){if(!yU(n.i)&&!n.m){n.m=!0;var e=n.Na;Tv||qB(),Sv||(Tv(),Sv=!0),ck.add(e,n),n.C=0}}function OU(n,e){var t;t=e?e.m:n.W++;const r=Fl(n.I);Bn(r,"SID",n.K),Bn(r,"RID",t),Bn(r,"AID",n.V),$v(n,r),n.o&&n.s&&Ek(r,n.o,n.s),t=new Ov(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=kU(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),wk(n.i,t),_k(t,r,e)}function $v(n,e){n.na&&JO(n.na,function(t,r){Bn(e,r,t)}),n.h&&uU({},function(t,r){Bn(e,r,t)})}function kU(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Pi(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=i[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let d=!0;for(let p=0;p<t;p++){let m=i[p].g;const y=i[p].map;if(m-=s,0>m)s=Math.max(0,i[p].g-100),d=!1;else try{i8(y,l,"req"+m+"_")}catch{r&&r(y)}}if(d){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function PU(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Tv||qB(),Sv||(Tv(),Sv=!0),ck.add(e,n),n.A=0}}function Dk(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Mv(Pi(n.Ma,n),LU(n,n.A)),n.A++,0))}function Ik(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function NU(n){n.g=new Ov(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Fl(n.wa);Bn(e,"RID","rpc"),Bn(e,"SID",n.K),Bn(e,"AID",n.V),Bn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Bn(e,"TO",n.qa),Bn(e,"TYPE","xmlhttp"),$v(n,e),n.o&&n.s&&Ek(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=XC(Fl(e)),t.s=null,t.S=!0,oU(t,n)}function iD(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function FU(n,e){var t=null;if(n.g==e){iD(n),Ik(n),n.g=null;var r=2}else{if(!vk(n.i,e))return;t=e.F,wU(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;gi(r=GC(),new tU(r,t)),rD(n)}else PU(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function d8(n,e){return!(vU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Mv(Pi(n.Na,n,e),LU(n,n.C)),n.C++,0)))}(n,e)||2==r&&Dk(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Mh(n,5);break;case 4:Mh(n,10);break;case 3:Mh(n,6);break;default:Mh(n,2)}}function LU(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Mh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Pi(n.pb,n);t||(t=new xh("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||ZC(t,"https"),XC(t)),function s8(n,e){const t=new zC;if(zt.Image){const r=new Image;r.onload=VC(JC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=VC(JC,t,r,"TestLoadImage: error",!1,e),r.onabort=VC(JC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=VC(JC,t,r,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ji(2);n.H=0,n.h&&n.h.za(e),VU(n),RU(n)}function VU(n){if(n.H=0,n.ma=[],n.h){const e=bU(n.i);(0!=e.length||0!=n.j.length)&&(kB(n.ma,e),kB(n.ma,n.j),n.i.i.length=0,GO(n.j),n.j.length=0),n.h.ya()}}function BU(n,e,t){var r=t instanceof xh?Fl(t):new xh(t);if(""!=r.g)e&&(r.g=e+"."+r.g),QC(r,r.m);else{var i=zt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new xh(null);r&&ZC(s,r),e&&(s.g=e),i&&QC(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Bn(r,t,e),Bn(r,"VER",n.ra),$v(n,r),r}function UU(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t&&n.Ha&&!n.va?new Vv({ob:!0}):n.va)).Oa(n.J),e}function sD(){if(Eg&&!(10<=Number(D5)))throw Error("Environmental error: no available transport.")}function Vs(n,e){ei.call(this),this.g=new MU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Cv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cv(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ig(this)}function $U(n){fk.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function jU(){pk.call(this),this.status=1}function Ig(n){this.g=n}function Ho(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Tk(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;l=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=s+((l=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function wn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Ze=dr.prototype).Oa=function(n){this.M=n},Ze.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gk.g(),this.C=function rU(n){return n.h||(n.h=n.i())}(this.u?this.u:gk),this.g.onreadystatechange=Pi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void DU(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=zt.FormData&&n instanceof zt.FormData,!(0<=OB(l8,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SU(this),0<this.B&&((this.L=function c8(n){return Eg&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pi(this.ua,this)):this.A=dk(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){DU(this,s)}},Ze.ua=function(){typeof jO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gi(this,"timeout"),this.abort(8))},Ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gi(this,"complete"),gi(this,"abort"),tD(this))},Ze.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tD(this,!0)),dr.$.N.call(this)},Ze.La=function(){this.s||(this.G||this.v||this.l?TU(this):this.kb())},Ze.kb=function(){TU(this)},Ze.isActive=function(){return!!this.g},Ze.da=function(){try{return 2<Ra(this)?this.g.status:-1}catch{return-1}},Ze.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ze.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),o8(e)}},Ze.Ia=function(){return this.m},Ze.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ze=MU.prototype).ra=8,Ze.H=1,Ze.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Ov(this,this.l,n);let s=this.s;if(this.U&&(s?(s=VB(s),UB(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=kU(this,i,e),Bn(t=Fl(this.I),"RID",n),Bn(t,"CVER",22),this.F&&Bn(t,"X-HTTP-Session-Id",this.F),$v(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(xU(s)))+"&"+e:this.o&&Ek(t,this.o,s)),wk(this.i,i),this.bb&&Bn(t,"TYPE","init"),this.P?(Bn(t,"$req",e),Bn(t,"SID","null"),i.aa=!0,_k(i,t,null)):_k(i,t,e),this.H=2}}else 3==this.H&&(n?OU(this,n):0==this.j.length||yU(this.i)||OU(this))},Ze.Ma=function(){if(this.u=null,NU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Mv(Pi(this.jb,this),n)}},Ze.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ji(10),nD(this),NU(this))},Ze.ib=function(){null!=this.v&&(this.v=null,nD(this),Dk(this),Ji(19))},Ze.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ji(2)):(this.l.info("Failed to ping google.com"),Ji(1))},Ze.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ze=function HU(){}.prototype).Ba=function(){},Ze.Aa=function(){},Ze.za=function(){},Ze.ya=function(){},Ze.isActive=function(){return!0},Ze.Va=function(){},sD.prototype.g=function(n,e){return new Vs(n,e)},Vs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ji(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=BU(n,null,n.Y),rD(n)},Vs.prototype.close=function(){Ck(this.g)},Vs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lk(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&rD(e)},Vs.prototype.N=function(){this.g.h=null,delete this.j,Ck(this.g),delete this.g,Vs.$.N.call(this)},Ig.prototype.Ba=function(){gi(this.g,"a")},Ig.prototype.Aa=function(n){gi(this.g,new $U(n))},Ig.prototype.za=function(n){gi(this.g,new jU)},Ig.prototype.ya=function(){gi(this.g,"b")},Ho.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ho.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)Tk(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){Tk(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){Tk(this,r),i=0;break}}this.h=i,this.i+=e},Ho.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var f8={};function Sk(n){return-128<=n&&128>n?function b5(n,e){var t=f8;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new wn([0|e],0>e?-1:0)}):new wn([0|n],0>n?-1:0)}function Oa(n){if(isNaN(n)||!isFinite(n))return Tg;if(0>n)return mi(Oa(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Ak;return new wn(e,0)}var Ak=4294967296,Tg=Sk(0),xk=Sk(1),GU=Sk(16777216);function Ll(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function uo(n){return-1==n.h}function mi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new wn(t,~n.h).add(xk)}function oD(n,e){return n.add(mi(e))}function aD(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function jv(n,e){this.g=n,this.h=e}function lD(n,e){if(Ll(e))throw Error("division by zero");if(Ll(n))return new jv(Tg,Tg);if(uo(n))return e=lD(mi(n),e),new jv(mi(e.g),mi(e.h));if(uo(e))return e=lD(n,mi(e)),new jv(mi(e.g),e.h);if(30<n.g.length){if(uo(n)||uo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=xk,r=e;0>=r.X(n);)t=WU(t),r=WU(r);var i=Sg(t,1),s=Sg(r,1);for(r=Sg(r,2),t=Sg(t,2);!Ll(r);){var l=s.add(r);0>=l.X(n)&&(i=i.add(t),s=l),r=Sg(r,1),t=Sg(t,1)}return e=oD(n,i.R(e)),new jv(i,e)}for(i=Tg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(s=Oa(t)).R(e);uo(l)||0<l.X(n);)l=(s=Oa(t-=r)).R(e);Ll(s)&&(s=xk),i=i.add(s),n=oD(n,l)}return new jv(i,n)}function WU(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new wn(t,n.h)}function Sg(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new wn(i,n.h)}(Ze=wn.prototype).ea=function(){if(uo(this))return-mi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Ak+r)*e,e*=Ak}return n},Ze.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ll(this))return"0";if(uo(this))return"-"+mi(this).toString(n);for(var e=Oa(Math.pow(n,6)),t=this,r="";;){var i=lD(t,e).g,s=((0<(t=oD(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ll(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ze.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ze.X=function(n){return uo(n=oD(this,n))?-1:Ll(n)?0:1},Ze.abs=function(){return uo(this)?mi(this):this},Ze.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),l=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(s&=65535)}return new wn(t,-2147483648&t[t.length-1]?-1:0)},Ze.R=function(n){if(Ll(this)||Ll(n))return Tg;if(uo(this))return uo(n)?mi(this).R(mi(n)):mi(mi(this).R(n));if(uo(n))return mi(this.R(mi(n)));if(0>this.X(GU)&&0>n.X(GU))return Oa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,l=65535&this.D(r),d=n.D(i)>>>16,p=65535&n.D(i);t[2*r+2*i]+=l*p,aD(t,2*r+2*i),t[2*r+2*i+1]+=s*p,aD(t,2*r+2*i+1),t[2*r+2*i+1]+=l*d,aD(t,2*r+2*i+1),t[2*r+2*i+2]+=s*d,aD(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new wn(t,0)},Ze.gb=function(n){return lD(this,n).h},Ze.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new wn(t,this.h&n.h)},Ze.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new wn(t,this.h|n.h)},Ze.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new wn(t,this.h^n.h)},sD.prototype.createWebChannel=sD.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,WC.NO_ERROR=0,WC.TIMEOUT=8,WC.HTTP_ERROR=6,nU.COMPLETE="complete",iU.EventType=Rv,Rv.OPEN="a",Rv.CLOSE="b",Rv.ERROR="c",Rv.MESSAGE="d",ei.prototype.listen=ei.prototype.O,dr.prototype.listenOnce=dr.prototype.P,dr.prototype.getLastError=dr.prototype.Sa,dr.prototype.getLastErrorCode=dr.prototype.Ia,dr.prototype.getStatus=dr.prototype.da,dr.prototype.getResponseJson=dr.prototype.Wa,dr.prototype.getResponseText=dr.prototype.ja,dr.prototype.send=dr.prototype.ha,dr.prototype.setWithCredentials=dr.prototype.Oa,Ho.prototype.digest=Ho.prototype.l,Ho.prototype.reset=Ho.prototype.reset,Ho.prototype.update=Ho.prototype.j,wn.prototype.add=wn.prototype.add,wn.prototype.multiply=wn.prototype.R,wn.prototype.modulo=wn.prototype.gb,wn.prototype.compare=wn.prototype.X,wn.prototype.toNumber=wn.prototype.ea,wn.prototype.toString=wn.prototype.toString,wn.prototype.getBits=wn.prototype.D,wn.fromNumber=Oa,wn.fromString=function zU(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return mi(zU(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Oa(Math.pow(e,8)),r=Tg,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+s),e);8>s?(s=Oa(Math.pow(e,s)),r=r.R(s).add(Oa(l))):r=(r=r.R(t)).add(Oa(l))}return r};var p8=Uo.createWebChannelTransport=function(){return new sD},g8=Uo.getStatEventTarget=function(){return GC()},Mk=Uo.ErrorCode=WC,m8=Uo.EventType=nU,_8=Uo.Event=Sh,qU=Uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},y8=Uo.FetchXmlHttpFactory=Vv,cD=Uo.WebChannel=iU,v8=Uo.XhrIo=dr,w8=Uo.Md5=Ho,Ag=Uo.Integer=wn;class ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");let xg="9.23.0";const bu=new Sa.Yd("@firebase/firestore");function Rk(){return bu.logLevel}function Ae(n,...e){if(bu.logLevel<=Sa.in.DEBUG){const t=e.map(Ok);bu.debug(`Firestore (${xg}): ${n}`,...t)}}function vr(n,...e){if(bu.logLevel<=Sa.in.ERROR){const t=e.map(Ok);bu.error(`Firestore (${xg}): ${n}`,...t)}}function $o(n,...e){if(bu.logLevel<=Sa.in.WARN){const t=e.map(Ok);bu.warn(`Firestore (${xg}): ${n}`,...t)}}function Ok(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${xg}) INTERNAL ASSERTION FAILED: `+n;throw vr(e),new Error(e)}function ft(n,e){n||rt()}function qe(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends kt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class YU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ti.UNAUTHENTICATED))}shutdown(){}}class E8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class D8{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ti.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class I8{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new D8(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function S8(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class QU{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=S8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}function Mg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Jn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new De(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Jn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Jn(0,0))}static max(){return new gt(new Jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zv{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===zv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),l=t.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends zv{construct(e,t,r){return new pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const A8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends zv{construct(e,t,r){return new wr(e,t,r)}static isValidIdentifier(e){return A8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new De(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if("\\"===d){if(i+1===e.length)throw new De(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new De(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===d?(l=!l,i++):"."!==d||l?(r+=d,i++):(s(),i++)}if(s(),l)throw new De(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(pn.fromString(e))}static fromName(e){return new Ge(pn.fromString(e).popFirst(5))}static empty(){return new Ge(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new pn(e.slice()))}}function eH(n){return new Bs(n.readTime,n.key,-1)}class Bs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bs(gt.min(),Ge.empty(),-1)}static max(){return new Bs(gt.max(),Ge.empty(),-1)}}function Pk(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}const tH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Eu(n){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,te.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==tH)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}),Nk.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let i=0,s=0,l=!1;e.forEach(d=>{++i,d.next(()=>{++s,l&&s===i&&t()},p=>r(p))}),l=!0,s===i&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(i=>i?ne.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,i)=>{const s=e.length,l=new Array(s);let d=0;for(let p=0;p<s;p++){const m=p;t(e[m]).next(y=>{l[m]=y,++d,d===s&&r(l)},y=>i(y))}})}static doWhile(e,t){return new ne((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Cu(n){return"IndexedDbTransactionError"===n.name}let Us=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function qv(n){return null==n}function Kv(n){return 0===n&&1/n==-1/0}function uH(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Du(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class kn{constructor(e,t){this.comparator=e,this.root=t||_i.EMPTY}insert(e,t){return new kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(e){return new kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pD(this.root,e,this.comparator,!1)}getReverseIterator(){return new pD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pD(this.root,e,this.comparator,!0)}}class pD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _i{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??_i.RED,this.left=i??_i.EMPTY,this.right=s??_i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new _i(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return _i.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1,_i.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new _i(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hH(this.data.getIterator())}getIteratorFrom(e){return new hH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Un(this.comparator);return t.data=e,t}}class hH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ps{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new ps([])}unionWith(e){let t=new Un(wr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ps(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class fH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fH("Invalid base64 string: "+i):i}}(e);return new jr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new jr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const e9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iu(n){if(ft(!!n),"string"==typeof n){let e=0;const t=e9.exec(n);if(ft(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Vl(n){return"string"==typeof n?jr.fromBase64String(n):jr.fromUint8Array(n)}function gD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function mD(n){const e=n.mapValue.fields.__previous_value__;return gD(e)?mD(e):e}function Yv(n){const e=Iu(n.mapValue.fields.__local_write_time__.timestampValue);return new Jn(e.seconds,e.nanos)}class t9{constructor(e,t,r,i,s,l,d,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m}}class kh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kh&&e.projectId===this.projectId&&e.database===this.database}}const Tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gD(n)?4:_H(n)?9007199254740991:10:rt()}function Pa(n,e){if(n===e)return!0;const t=Su(n);if(t!==Su(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yv(n).isEqual(Yv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Iu(r.timestampValue),l=Iu(i.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Vl(n.bytesValue).isEqual(Vl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return hr(r.geoPointValue.latitude)===hr(i.geoPointValue.latitude)&&hr(r.geoPointValue.longitude)===hr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return hr(r.integerValue)===hr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=hr(r.doubleValue),l=hr(i.doubleValue);return s===l?Kv(s)===Kv(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return Mg(n.arrayValue.values||[],e.arrayValue.values||[],Pa);case 10:return function(r,i){const s=r.mapValue.fields||{},l=i.mapValue.fields||{};if(uH(s)!==uH(l))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===l[d]||!Pa(s[d],l[d])))return!1;return!0}(n,e);default:return rt()}var i}function Zv(n,e){return void 0!==(n.values||[]).find(t=>Pa(t,e))}function Au(n,e){if(n===e)return 0;const t=Su(n),r=Su(e);if(t!==r)return Bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(i,s){const l=hr(i.integerValue||i.doubleValue),d=hr(s.integerValue||s.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,e);case 3:return pH(n.timestampValue,e.timestampValue);case 4:return pH(Yv(n),Yv(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(i,s){const l=Vl(i),d=Vl(s);return l.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const l=i.split("/"),d=s.split("/");for(let p=0;p<l.length&&p<d.length;p++){const m=Bt(l[p],d[p]);if(0!==m)return m}return Bt(l.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const l=Bt(hr(i.latitude),hr(s.latitude));return 0!==l?l:Bt(hr(i.longitude),hr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const l=i.values||[],d=s.values||[];for(let p=0;p<l.length&&p<d.length;++p){const m=Au(l[p],d[p]);if(m)return m}return Bt(l.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Tu.mapValue&&s===Tu.mapValue)return 0;if(i===Tu.mapValue)return 1;if(s===Tu.mapValue)return-1;const l=i.fields||{},d=Object.keys(l),p=s.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const C=Bt(d[y],m[y]);if(0!==C)return C;const T=Au(l[d[y]],p[m[y]]);if(0!==T)return T}return Bt(d.length,m.length)}(n.mapValue,e.mapValue);default:throw rt()}}function pH(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=Iu(n),r=Iu(e),i=Bt(t.seconds,r.seconds);return 0!==i?i:Bt(t.nanos,r.nanos)}function Og(n){return Vk(n)}function Vk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Iu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Vl(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const l of r.values||[])s?s=!1:i+=",",i+=Vk(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",l=!0;for(const d of i)l?l=!1:s+=",",s+=`${d}:${Vk(r.fields[d])}`;return s+"}"}(n.mapValue):rt();var e}function Bk(n){return!!n&&"integerValue"in n}function Qv(n){return!!n&&"arrayValue"in n}function gH(n){return!!n&&"nullValue"in n}function mH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vD(n){return!!n&&"mapValue"in n}function Xv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Du(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _H(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xv(t)}setAll(e){let t=wr.emptyPath(),r={},i=[];e.forEach((l,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=d.popLast()}l?r[d.lastSegment()]=Xv(l):i.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());vD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];vD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Du(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yi(Xv(this.value))}}class Hn{constructor(e,t,r,i,s,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Hn(e,0,gt.min(),gt.min(),gt.min(),yi.empty(),0)}static newFoundDocument(e,t,r,i){return new Hn(e,1,t,gt.min(),r,i,0)}static newNoDocument(e,t){return new Hn(e,2,t,gt.min(),gt.min(),yi.empty(),0)}static newUnknownDocument(e,t){return new Hn(e,3,t,gt.min(),gt.min(),yi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xu{constructor(e,t){this.position=e,this.inclusive=t}}function bH(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(r=s.field.isKeyField()?Ge.comparator(Ge.fromName(l.referenceValue),t.key):Au(l,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function EH(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pa(n.position[t],e.position[t]))return!1;return!0}class kg{constructor(e,t="asc"){this.field=e,this.dir=t}}function i9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class CH{}class on extends CH{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new s9(e,t,r):"array-contains"===t?new l9(e,r):"in"===t?new xH(e,r):"not-in"===t?new c9(e,r):"array-contains-any"===t?new u9(e,r):new on(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new o9(e,r):new a9(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Au(t,this.value)):null!==t&&Su(this.value)===Su(t)&&this.matchesComparison(Au(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bn extends CH{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new bn(e,t)}matches(e){return Pg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Pg(n){return"and"===n.op}function Hk(n){return function DH(n){for(const e of n.filters)if(e instanceof bn)return!1;return!0}(n)&&Pg(n)}function $k(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+Og(n.value);if(Hk(n))return n.filters.map(e=>$k(e)).join(",");{const e=n.filters.map(t=>$k(t)).join(",");return`${n.op}(${e})`}}function IH(n,e){return n instanceof on?(t=n,(r=e)instanceof on&&t.op===r.op&&t.field.isEqual(r.field)&&Pa(t.value,r.value)):n instanceof bn?function(t,r){return r instanceof bn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,l)=>i&&IH(s,r.filters[l]),!0)}(n,e):void rt();var t,r}function SH(n){return n instanceof on?`${(e=n).field.canonicalString()} ${e.op} ${Og(e.value)}`:n instanceof bn?function(e){return e.op.toString()+" {"+e.getFilters().map(SH).join(" ,")+"}"}(n):"Filter";var e}class s9 extends on{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class o9 extends on{constructor(e,t){super(e,"in",t),this.keys=AH(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class a9 extends on{constructor(e,t){super(e,"not-in",t),this.keys=AH(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AH(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class l9 extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qv(t)&&Zv(t.arrayValue,this.value)}}class xH extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zv(this.value.arrayValue,t)}}class c9 extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Zv(this.value.arrayValue,t)}}class u9 extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Zv(this.value.arrayValue,r))}}class d9{constructor(e,t=null,r=[],i=[],s=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=d,this.dt=null}}function jk(n,e=null,t=[],r=[],i=null,s=null,l=null){return new d9(n,e,t,r,i,s,l)}function Nh(n){const e=qe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>$k(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),qv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Og(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Og(r)).join(",")),e.dt=t}return e.dt}function Jv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!i9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IH(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!EH(n.startAt,e.startAt)&&EH(n.endAt,e.endAt)}function wD(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Bl{constructor(e,t=null,r=[],i=[],s=null,l="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=p,this.wt=null,this._t=null}}function Ng(n){return new Bl(n)}function kH(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Fh(n){const e=qe(n);if(null===e.wt){e.wt=[];const t=function ED(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function zk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new kg(t)),e.wt.push(new kg(wr.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new kg(wr.keyField(),s))}}}return e.wt}function es(n){const e=qe(n);if(!e._t)if("F"===e.limitType)e._t=jk(e.path,e.collectionGroup,Fh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Fh(e))t.push(new kg(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new xu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new xu(e.startAt.position,e.startAt.inclusive):null;e._t=jk(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function CD(n,e,t){return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function e0(n,e){return Jv(es(n),es(e))&&n.limitType===e.limitType}function PH(n){return`${Nh(es(n))}|lt:${n.limitType}`}function qk(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>SH(r)).join(", ")}]`),qv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Og(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Og(r)).join(",")),`Target(${t})`}(es(n))}; limitType=${n.limitType})`}function t0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Fh(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,l){const d=bH(i,s,l);return i.inclusive?d<=0:d<0}(t.startAt,Fh(t),r)||t.endAt&&!function(i,s,l){const d=bH(i,s,l);return i.inclusive?d>=0:d>0}(t.endAt,Fh(t),r)));var t,r}function FH(n){return(e,t)=>{let r=!1;for(const i of Fh(n)){const s=h9(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function h9(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,s,l){const d=s.data.field(i),p=l.data.field(i);return null!==d&&null!==p?Au(d,p):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}class Ul{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Du(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function dH(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const f9=new kn(Ge.comparator);function gs(){return f9}const LH=new kn(Ge.comparator);function n0(...n){let e=LH;for(const t of n)e=e.insert(t.key,t);return e}function VH(n){let e=LH;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Na(){return r0()}function BH(){return r0()}function r0(){return new Ul(n=>n.toString(),(n,e)=>n.isEqual(e))}const g9=new Un(Ge.comparator);function Zt(...n){let e=g9;for(const t of n)e=e.add(t);return e}const m9=new Un(Bt);class DD{constructor(){this._=void 0}}function _9(n,e,t){return n instanceof Fg?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&gD(i)&&(i=mD(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Lh?zH(n,e):n instanceof Vh?GH(n,e):function(r,i){const s=function jH(n,e){return n instanceof Lg?Bk(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}(r,i),l=WH(s)+WH(r.gt);return Bk(s)&&Bk(r.gt)?function HH(n){return{integerValue:""+n}}(l):function UH(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kv(e)?"-0":e}}(r.serializer,l)}(n,e)}function y9(n,e,t){return n instanceof Lh?zH(n,e):n instanceof Vh?GH(n,e):t}class Fg extends DD{}class Lh extends DD{constructor(e){super(),this.elements=e}}function zH(n,e){const t=qH(e);for(const r of n.elements)t.some(i=>Pa(i,r))||t.push(r);return{arrayValue:{values:t}}}class Vh extends DD{constructor(e){super(),this.elements=e}}function GH(n,e){let t=qH(e);for(const r of n.elements)t=t.filter(i=>!Pa(i,r));return{arrayValue:{values:t}}}class Lg extends DD{constructor(e,t){super(),this.serializer=e,this.gt=t}}function WH(n){return hr(n.integerValue||n.doubleValue)}function qH(n){return Qv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ID(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Yk{}function KH(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Bg(n.key,qn.none()):new Vg(n.key,n.data,qn.none());{const t=n.data,r=yi.empty();let i=new Un(wr.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?r.delete(s):r.set(s,l),i=i.add(s)}return new Hl(n.key,r,new ps(i.toArray()),qn.none())}}function b9(n,e,t){n instanceof Vg?function(r,i,s){const l=r.value.clone(),d=QH(r.fieldTransforms,i,s.transformResults);l.setAll(d),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Hl?function(r,i,s){if(!ID(r.precondition,i))return void i.convertToUnknownDocument(s.version);const l=QH(r.fieldTransforms,i,s.transformResults),d=i.data;d.setAll(ZH(r)),d.setAll(l),i.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function o0(n,e,t,r){return n instanceof Vg?function(i,s,l,d){if(!ID(i.precondition,s))return l;const p=i.value.clone(),m=XH(i.fieldTransforms,d,s);return p.setAll(m),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Hl?function(i,s,l,d){if(!ID(i.precondition,s))return l;const p=XH(i.fieldTransforms,d,s),m=s.data;return m.setAll(ZH(i)),m.setAll(p),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(y=>y.field))}(n,e,t,r):(l=t,ID(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function YH(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Mg(t,r,(i,s)=>function v9(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Lh&&r instanceof Lh||t instanceof Vh&&r instanceof Vh?Mg(t.elements,r.elements,Pa):t instanceof Lg&&r instanceof Lg?Pa(t.gt,r.gt):t instanceof Fg&&r instanceof Fg);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Vg extends Yk{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hl extends Yk{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZH(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function QH(n,e,t){const r=new Map;ft(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,d=e.data.field(s.field);r.set(s.field,y9(l,d,t[i]))}return r}function XH(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,_9(s,l,e))}return r}class Bg extends Yk{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qk{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&b9(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=o0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=o0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=BH();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=t.has(i.key)?null:d;const p=KH(l,d);null!==p&&r.set(i.key,p),l.isValidDocument()||l.convertToNoDocument(gt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&Mg(this.mutations,e.mutations,(t,r)=>YH(t,r))&&Mg(this.baseMutations,e.baseMutations,(t,r)=>YH(t,r))}}class Jk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class D9{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pr,gn;function e$(n){if(void 0===n)return vr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Pr.OK:return le.OK;case Pr.CANCELLED:return le.CANCELLED;case Pr.UNKNOWN:return le.UNKNOWN;case Pr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Pr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Pr.INTERNAL:return le.INTERNAL;case Pr.UNAVAILABLE:return le.UNAVAILABLE;case Pr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Pr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Pr.NOT_FOUND:return le.NOT_FOUND;case Pr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Pr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Pr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Pr.ABORTED:return le.ABORTED;case Pr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Pr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Pr.DATA_LOSS:return le.DATA_LOSS;default:return rt()}}(gn=Pr||(Pr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class eP{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return TD}static getOrCreateInstance(){return null===TD&&(TD=new eP),TD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let TD=null;const I9=new Ag([4294967295,4294967295],0);function n$(n){const e=function t$(){return new TextEncoder}().encode(n),t=new w8;return t.update(e),new Uint8Array(t.digest())}function r$(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ag([t,r],0),new Ag([i,s],0)]}class tP{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new a0(`Invalid padding: ${t}`);if(r<0)throw new a0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new a0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new a0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ag.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Ag.fromNumber(r)));return 1===i.compare(I9)&&(i=new Ag([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=n$(e),[r,i]=r$(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(r,i,s);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new tP(s,i,t);return r.forEach(d=>l.insert(d)),l}insert(e){if(0===this.It)return;const t=n$(e),[r,i]=r$(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(r,i,s);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class a0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class l0{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,c0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new l0(gt.min(),i,new kn(Bt),gs(),Zt())}}class c0{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new c0(r,t,Zt(),Zt(),Zt())}}class SD{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class i${constructor(e,t){this.targetId=e,this.Vt=t}}class s${constructor(e,t,r=jr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class o${constructor(){this.St=0,this.Dt=l$(),this.Ct=jr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zt(),t=Zt(),r=Zt();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new c0(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=l$()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class T9{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gs(),this.zt=a$(),this.Wt=new kn(Bt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const l=s.target;if(wD(l))if(0===i){const d=new Ge(l.path);this.Yt(r,d,Hn.newNoDocument(d,gt.min()))}else ft(1===i);else{const d=this.ie(r);if(d!==i){const p=this.re(e,d);0!==p&&(this.ee(r),this.Wt=this.Wt.insert(r,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=eP.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(m,y,C){var T,A,O,V,P,z;const se={localCacheCount:y,existenceFilterCount:C.count},ue=C.unchangedNames;return ue&&(se.bloomFilter={applied:0===m,hashCount:null!==(T=ue?.hashCount)&&void 0!==T?T:0,bitmapLength:null!==(V=null===(O=null===(A=ue?.bits)||void 0===A?void 0:A.bitmap)||void 0===O?void 0:O.length)&&void 0!==V?V:0,padding:null!==(z=null===(P=ue?.bits)||void 0===P?void 0:P.padding)&&void 0!==z?z:0}),se}(p,d,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:d=0}=r;let p,m;try{p=Vl(s).toUint8Array()}catch(y){if(y instanceof fH)return $o("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw y}try{m=new tP(p,l,d)}catch(y){return $o(y instanceof a0?"BloomFilter error: ":"Applying bloom filter failed: ",y),1}return 0===m.It?1:i!==t-this.oe(e.targetId,m)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const l=this.Gt.ue(),d=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.vt(d)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,l)=>{const d=this.se(l);if(d){if(s.current&&wD(d.target)){const p=new Ge(d.target.path);null!==this.jt.get(p)||this.ae(l,p)||this.Yt(l,p,Hn.newNoDocument(p,e))}s.Mt&&(t.set(l,s.Ot()),s.Ft())}});let r=Zt();this.zt.forEach((s,l)=>{let d=!0;l.forEachWhile(p=>{const m=this.se(p);return!m||"TargetPurposeLimboResolution"===m.purpose||(d=!1,!1)}),d&&(r=r.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(e));const i=new l0(e,t,this.Wt,this.jt,r);return this.jt=gs(),this.zt=a$(),this.Wt=new kn(Bt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new o$,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Un(Bt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new o$),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function a$(){return new kn(Ge.comparator)}function l$(){return new kn(Ge.comparator)}const S9=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),A9=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),x9=(()=>({and:"AND",or:"OR"}))();class M9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nP(n,e){return n.useProto3Json||qv(e)?e:{value:e}}function br(n){return ft(!!n),gt.fromTimestamp(function(e){const t=Iu(e);return new Jn(t.seconds,t.nanos)}(n))}function u$(n){const e=pn.fromString(n);return ft(v$(e)),e}function Fa(n,e){const t=u$(e);if(t.get(1)!==n.databaseId.projectId)throw new De(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(h$(t))}function iP(n,e){return function rP(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e)}function d0(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h$(n){return ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function g$(n,e){return{documents:[iP(n,e.path)]}}function oP(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=iP(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=iP(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0!==p.length)return y$(bn.create(p,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(p){if(0!==p.length)return p.map(m=>{return{field:Mu((y=m).field),direction:F9(y.dir)};var y})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=nP(n,e.limit);var d,p;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function m$(n){let e=function d$(n){const e=u$(n);return 4===e.length?pn.emptyPath():h$(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ft(1===r);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let s=[];t.where&&(s=function(y){const C=_$(y);return C instanceof bn&&Hk(C)?C.getFilters():[C]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(y=>{return new kg(Hg((C=y).field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let d=null;t.limit&&(d=function(y){let C;return C="object"==typeof y?y.value:y,qv(C)?null:C}(t.limit));let p=null;var y;t.startAt&&(p=new xu((y=t.startAt).values||[],!!y.before));let m=null;return t.endAt&&(m=function(y){return new xu(y.values||[],!y.before)}(t.endAt)),function OH(n,e,t,r,i,s,l,d){return new Bl(n,e,t,r,i,s,l,d)}(e,i,l,s,d,"F",p,m)}function _$(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Hg(e.unaryFilter.field);return on.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Hg(e.unaryFilter.field);return on.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hg(e.unaryFilter.field);return on.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hg(e.unaryFilter.field);return on.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?on.create(Hg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return bn.create(e.compositeFilter.filters.map(t=>_$(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function F9(n){return S9[n]}function L9(n){return A9[n]}function V9(n){return x9[n]}function Mu(n){return{fieldPath:n.canonicalString()}}function Hg(n){return wr.fromServerFormat(n.fieldPath)}function y$(n){return n instanceof on?function(e){if("=="===e.op){if(mH(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NAN"}};if(gH(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mH(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NOT_NAN"}};if(gH(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(e.field),op:L9(e.op),value:e.value}}}(n):n instanceof bn?function(e){const t=e.getFilters().map(r=>y$(r));return 1===t.length?t[0]:{compositeFilter:{op:V9(e.op),filters:t}}}(n):rt()}function v$(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class $l{constructor(e,t,r,i,s=gt.min(),l=gt.min(),d=jr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new $l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w${constructor(e){this.fe=e}}function aP(n){const e=m$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?CD(e,e.limit,"L"):e}class $h{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(hr(e.integerValue));else if("doubleValue"in e){const r=hr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Kv(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Vl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?_H(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):rt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Ge.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}$h.Ve=new $h;class K9{constructor(){this.rn=new fP}addToCollectionParentIndex(e,t){return this.rn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Bs.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class fP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Un(pn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Un(pn.comparator)).toArray()}}class Li{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class zh{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new zh(0)}static Mn(){return new zh(-1)}}class e7{constructor(){this.changes=new Ul(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class W${constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&o0(r.mutation,i,ps.empty(),Jn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zt()){const i=Na();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=n0();return s.forEach((d,p)=>{l=l.insert(d,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,d)=>{t.set(l,d)})})}computeViews(e,t,r,i){let s=gs();const l=r0(),d=r0();return t.forEach((p,m)=>{const y=r.get(m.key);i.has(m.key)&&(void 0===y||y.mutation instanceof Hl)?s=s.insert(m.key,m):void 0!==y?(l.set(m.key,y.mutation.getFieldMask()),o0(y.mutation,m,y.mutation.getFieldMask(),Jn.now())):l.set(m.key,ps.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((m,y)=>l.set(m,y)),t.forEach((m,y)=>{var C;return d.set(m,new r7(y,null!==(C=l.get(m))&&void 0!==C?C:null))}),d))}recalculateAndSaveOverlays(e,t){const r=r0();let i=new kn((l,d)=>l-d),s=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const d of l)d.keys().forEach(p=>{const m=t.get(p);if(null===m)return;let y=r.get(p)||ps.empty();y=d.applyToLocalView(m,y),r.set(p,y);const C=(i.get(d.batchId)||Zt()).add(p);i=i.insert(d.batchId,C)})}).next(()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,y=p.value,C=BH();y.forEach(T=>{if(!s.has(T)){const A=KH(t.get(T),r.get(T));null!==A&&C.set(T,A),s=s.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,C))}return ne.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Gk(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ne.resolve(Na());let d=-1,p=s;return l.next(m=>ne.forEach(m,(y,C)=>(d<C.largestBatchId&&(d=C.largestBatchId),s.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{p=p.insert(y,T)}))).next(()=>this.populateOverlays(e,m,s)).next(()=>this.computeViews(e,p,m,Zt())).next(y=>({batchId:d,changes:VH(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=n0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=n0();return this.indexManager.getCollectionParents(e,i).next(l=>ne.forEach(l,d=>{const p=(m=t,y=d.child(i),new Bl(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,y;return this.getDocumentsMatchingCollectionQuery(e,p,r).next(m=>{m.forEach((y,C)=>{s=s.insert(y,C)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((d,p)=>{const m=p.getKey();null===s.get(m)&&(s=s.insert(m,Hn.newInvalidDocument(m)))});let l=n0();return s.forEach((d,p)=>{const m=i.get(d);void 0!==m&&o0(m.mutation,p,ps.empty(),Jn.now()),t0(t,p)&&(l=l.insert(d,p))}),l})}}class i7{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ne.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:br(r.createTime)}),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:aP(r.bundledQuery),readTime:br(r.readTime)}),ne.resolve();var r}}class s7{constructor(){this.overlays=new kn(Ge.comparator),this.ls=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Na();return ne.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const i=Na(),s=t.length+1,l=new Ge(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===s&&p.largestBatchId>r&&i.set(p.getKey(),p)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new kn((m,y)=>m-y);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=s.get(m.largestBatchId);null===y&&(y=Na(),s=s.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=Na(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=i)););return ne.resolve(d)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Jk(t,r));let s=this.ls.get(t);void 0===s&&(s=Zt(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class pP{constructor(){this.fs=new Un(ri.ds),this.ws=new Un(ri._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ri(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ri(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ge(new pn([])),r=new ri(t,e),i=new ri(t,e+1),s=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ge(new pn([])),r=new ri(t,e),i=new ri(t,e+1);let s=Zt();return this.ws.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new ri(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ri{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ge.comparator(e.key,t.key)||Bt(e.As,t.As)}static _s(e,t){return Bt(e.As,t.As)||Ge.comparator(e.key,t.key)}}class o7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Un(ri.ds)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const l=new Qk(s,t,r,i);this.mutationQueue.push(l);for(const d of i)this.Rs=this.Rs.add(new ri(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ri(t,0),i=new ri(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],l=>{const d=this.Ps(l.As);s.push(d)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Un(Bt);return t.forEach(i=>{const s=new ri(i,0),l=new ri(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],d=>{r=r.add(d.As)})}),ne.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ge.isDocumentKey(s)||(s=s.child(""));const l=new ri(new Ge(s),0);let d=new Un(Bt);return this.Rs.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(p.As)),!0)},l),ne.resolve(this.Vs(d))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ft(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ne.forEach(t.mutations,i=>{const s=new ri(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ri(t,0),i=this.Rs.firstAfterOrEqual(r);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ne.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class a7{constructor(e){this.Ds=e,this.docs=new kn(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Hn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=gs();const l=t.path,d=new Ge(l.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||Pk(eH(y),r)<=0||(i.has(y.key)||t0(t,y))&&(s=s.insert(y.key,y.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,t,r,i){rt()}Cs(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new l7(this)}getSize(e){return ne.resolve(this.size)}}class l7 extends e7{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class c7{constructor(e){this.persistence=e,this.xs=new Ul(t=>Nh(t),Jv),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new pP,this.targetCount=0,this.Ms=zh.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ne.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new zh(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Fn(t),ne.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((l,d)=>{d.sequenceNumber<=t&&null===r.get(d.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),ne.waitFor(s).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.ks.containsKey(t))}}class gP{constructor(e,t){this.$s={},this.overlays={},this.Os=new Us(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new c7(this),this.indexManager=new K9,this.remoteDocumentCache=new a7(r=>this.referenceDelegate.Ls(r)),this.serializer=new w$(t),this.qs=new i7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new s7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new o7(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const i=new u7(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return ne.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class u7 extends R8{constructor(e){super(),this.currentSequenceNumber=e}}class FD{constructor(e){this.persistence=e,this.Qs=new pP,this.js=null}static zs(e){return new FD(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Ws,r=>{const i=Ge.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,gt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ne.or([()=>ne.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class vP{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Zt(),i=Zt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vP(e,t.fromCache,r,i)}}class K${constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(kH(t))return ne.resolve(null);let r=es(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=CD(t,null,"F"),r=es(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Zt(...s);return this.Ui.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,r).next(p=>{const m=this.ji(t,d);return this.zi(t,m,l,p.readTime)?this.Ki(e,CD(t,null,"F")):this.Wi(e,m,t,p)}))})))}Gi(e,t,r,i){return kH(t)||i.isEqual(gt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const l=this.ji(t,s);return this.zi(t,l,r,i)?this.Qi(e,t):(Rk()<=Sa.in.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qk(t)),this.Wi(e,l,t,function JU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=gt.fromTimestamp(1e9===r?new Jn(t+1,0):new Jn(t,r));return new Bs(i,Ge.empty(),e)}(i,-1)))})}ji(e,t){let r=new Un(FH(e));return t.forEach((i,s)=>{t0(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return Rk()<=Sa.in.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",qk(t)),this.Ui.getDocumentsMatchingQuery(e,t,Bs.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class h7{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new kn(Bt),this.Yi=new Ul(s=>Nh(s),Jv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Z$(n,e){return wP.apply(this,arguments)}function wP(){return wP=(0,te.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],d=[];let p=Zt();for(const m of i){l.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of s){d.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(r,p).next(m=>({er:m,removedBatchIds:l,addedBatchIds:d}))})})}),wP.apply(this,arguments)}function Q$(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Gg(n,e,t){return bP.apply(this,arguments)}function bP(){return bP=(0,te.Z)(function*(n,e,t){const r=qe(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Cu(l))throw l;Ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),bP.apply(this,arguments)}function BD(n,e,t){const r=qe(n);let i=gt.min(),s=Zt();return r.persistence.runTransaction("Execute query","readonly",l=>function(d,p,m){const y=qe(d),C=y.Yi.get(m);return void 0!==C?ne.resolve(y.Ji.get(C)):y.Bs.getTargetData(p,m)}(r,l,es(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,d.targetId).next(p=>{s=p})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:gt.min(),t?s:Zt())).next(d=>(function tj(n,e,t){let r=n.Xi.get(e)||gt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function NH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),d),{documents:d,ir:s})))}class TP{constructor(){this.activeTargetIds=function Kk(){return m9}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ij{constructor(){this.Hr=new TP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new TP,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class y7{Yr(e){}shutdown(){}}class sj{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $D=null;function AP(){return null===$D?$D=268435456+Math.round(2147483648*Math.random()):$D++,"0x"+$D.toString(16)}const v7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w7{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vi="WebChannelConnection";class b7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const l=AP(),d=this.To(e,t);Ae("RestConnection",`Sending RPC '${e}' ${l}:`,d,r);const p={};return this.Eo(p,i,s),this.Ao(e,d,p,r).then(m=>(Ae("RestConnection",`Received RPC '${e}' ${l}: `,m),m),m=>{throw $o("RestConnection",`RPC '${e}' ${l} failed with error: `,m,"url: ",d,"request:",r),m})}vo(e,t,r,i,s,l){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${v7[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=AP();return new Promise((l,d)=>{const p=new v8;p.setWithCredentials(!0),p.listenOnce(m8.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Mk.NO_ERROR:const y=p.getResponseJson();Ae(Vi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(y)),l(y);break;case Mk.TIMEOUT:Ae(Vi,`RPC '${e}' ${s} timed out`),d(new De(le.DEADLINE_EXCEEDED,"Request time out"));break;case Mk.HTTP_ERROR:const C=p.getStatus();if(Ae(Vi,`RPC '${e}' ${s} failed with status:`,C,"response text:",p.getResponseText()),C>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T?.error;if(A&&A.status&&A.message){const O=function(V){const P=V.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(P)>=0?P:le.UNKNOWN}(A.status);d(new De(O,A.message))}else d(new De(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new De(le.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ae(Vi,`RPC '${e}' ${s} completed.`)}});const m=JSON.stringify(i);Ae(Vi,`RPC '${e}' ${s} sending request:`,i),p.send(t,"POST",m,r,15)})}Ro(e,t,r){const i=AP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=p8(),d=g8(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;void 0!==m&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.xmlHttpFactory=new y8({})),this.Eo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const y=s.join("");Ae(Vi,`Creating RPC '${e}' stream ${i}: ${y}`,p);const C=l.createWebChannel(y,p);let T=!1,A=!1;const O=new w7({ro:P=>{A?Ae(Vi,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(T||(Ae(Vi,`Opening RPC '${e}' stream ${i} transport.`),C.open(),T=!0),Ae(Vi,`RPC '${e}' stream ${i} sending:`,P),C.send(P))},oo:()=>C.close()}),V=(P,z,se)=>{P.listen(z,ue=>{try{se(ue)}catch(Se){setTimeout(()=>{throw Se},0)}})};return V(C,cD.EventType.OPEN,()=>{A||Ae(Vi,`RPC '${e}' stream ${i} transport opened.`)}),V(C,cD.EventType.CLOSE,()=>{A||(A=!0,Ae(Vi,`RPC '${e}' stream ${i} transport closed`),O.wo())}),V(C,cD.EventType.ERROR,P=>{A||(A=!0,$o(Vi,`RPC '${e}' stream ${i} transport errored:`,P),O.wo(new De(le.UNAVAILABLE,"The operation could not be completed")))}),V(C,cD.EventType.MESSAGE,P=>{var z;if(!A){const se=P.data[0];ft(!!se);const Se=se.error||(null===(z=se[0])||void 0===z?void 0:z.error);if(Se){Ae(Vi,`RPC '${e}' stream ${i} received error:`,Se);const He=Se.status;let et=function(Gt){const yn=Pr[Gt];if(void 0!==yn)return e$(yn)}(He),xt=Se.message;void 0===et&&(et=le.INTERNAL,xt="Unknown error status: "+He+" with message "+Se.message),A=!0,O.wo(new De(et,xt)),C.close()}else Ae(Vi,`RPC '${e}' stream ${i} received:`,se),O._o(se)}}),V(d,_8.STAT_EVENT,P=>{P.stat===qU.PROXY?Ae(Vi,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===qU.NOPROXY&&Ae(Vi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.fo()},0),O}}function jD(){return typeof document<"u"?document:null}function b0(n){return new M9(n,!0)}class xP{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class E7{constructor(e,t,r,i,s,l,d,p){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new xP(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,te.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,te.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,te.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new De(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,te.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C7 extends E7{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function k9(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:rt(),i=e.targetChange.targetIds||[],s=function(p,m){return p.useProto3Json?(ft(void 0===m||"string"==typeof m),jr.fromBase64String(m||"")):(ft(void 0===m||m instanceof Uint8Array),jr.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(p){const m=void 0===p.code?le.UNKNOWN:e$(p.code);return new De(m,p.message||"")}(l);t=new s$(r,i,s,d||null)}else if("documentChange"in e){const r=e.documentChange,i=Fa(n,r.document.name),s=br(r.document.updateTime),l=r.document.createTime?br(r.document.createTime):gt.min(),d=new yi({mapValue:{fields:r.document.fields}}),p=Hn.newFoundDocument(i,s,l,d);t=new SD(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=Fa(n,r.document),s=r.readTime?br(r.readTime):gt.min(),l=Hn.newNoDocument(i,s);t=new SD([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Fa(n,r.document);t=new SD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return rt();{const r=e.filter,{count:i=0,unchangedNames:s}=r,l=new D9(i,s);t=new i$(r.targetId,l)}}var p;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return gt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?gt.min():s.readTime?br(s.readTime):gt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=d0(this.serializer),t.addTarget=function(i,s){let l;const d=s.target;if(l=wD(d)?{documents:g$(i,d)}:{query:oP(i,d)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=function c$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const p=nP(i,s.expectedCount);null!==p&&(l.expectedCount=p)}else if(s.snapshotVersion.compareTo(gt.min())>0){l.readTime=function Ug(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const p=nP(i,s.expectedCount);null!==p&&(l.expectedCount=p)}return l}(this.serializer,e);const r=function N9(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=d0(this.serializer),t.removeTarget=e,this.Wo(t)}}class I7 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new De(le.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new De(le.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,t,r,s,l,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(le.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class S7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(vr(t),this.mu=!1):Ae("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class A7{constructor(e,t,r,i,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(d=>{r.enqueueAndForget((0,te.Z)(function*(){var p;Pu(l)&&(Ae("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,te.Z)(function*(m){const y=qe(m);y.vu.add(4),yield Wg(y),y.bu.set("Unknown"),y.vu.delete(4),yield E0(y)}),function(m){return p.apply(this,arguments)})(l))}))}),this.bu=new S7(r,i)}}function E0(n){return RP.apply(this,arguments)}function RP(){return RP=(0,te.Z)(function*(n){if(Pu(n))for(const e of n.Ru)yield e(!0)}),RP.apply(this,arguments)}function Wg(n){return OP.apply(this,arguments)}function OP(){return OP=(0,te.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),OP.apply(this,arguments)}function zD(n,e){const t=qe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),NP(t)?PP(t):Kg(t).Ko()&&kP(t,e))}function C0(n,e){const t=qe(n),r=Kg(t);t.Au.delete(e),r.Ko()&&aj(t,e),0===t.Au.size&&(r.Ko()?r.jo():Pu(t)&&t.bu.set("Unknown"))}function kP(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kg(n).su(e)}function aj(n,e){n.Vu.qt(e),Kg(n).iu(e)}function PP(n){n.Vu=new T9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Kg(n).start(),n.bu.gu()}function NP(n){return Pu(n)&&!Kg(n).Uo()&&n.Au.size>0}function Pu(n){return 0===qe(n).vu.size}function lj(n){n.Vu=void 0}function x7(n){return FP.apply(this,arguments)}function FP(){return FP=(0,te.Z)(function*(n){n.Au.forEach((e,t)=>{kP(n,e)})}),FP.apply(this,arguments)}function M7(n,e){return LP.apply(this,arguments)}function LP(){return LP=(0,te.Z)(function*(n,e){lj(n),NP(n)?(n.bu.Iu(e),PP(n)):n.bu.set("Unknown")}),LP.apply(this,arguments)}function R7(n,e,t){return VP.apply(this,arguments)}function VP(){return VP=(0,te.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof s$&&2===e.state&&e.cause)try{yield(r=(0,te.Z)(function*(i,s){const l=s.cause;for(const d of s.targetIds)i.Au.has(d)&&(yield i.remoteSyncer.rejectListen(d,l),i.Au.delete(d),i.Vu.removeTarget(d))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield GD(n,r)}else if(e instanceof SD?n.Vu.Ht(e):e instanceof i$?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(gt.min()))try{const r=yield Q$(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const l=i.Vu.ce(s);return l.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=i.Au.get(p);m&&i.Au.set(p,m.withResumeToken(d.resumeToken,s))}}),l.targetMismatches.forEach((d,p)=>{const m=i.Au.get(d);if(!m)return;i.Au.set(d,m.withResumeToken(jr.EMPTY_BYTE_STRING,m.snapshotVersion)),aj(i,d);const y=new $l(m.target,d,p,m.sequenceNumber);kP(i,y)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ae("RemoteStore","Failed to raise snapshot:",r),yield GD(n,r)}var r}),VP.apply(this,arguments)}function GD(n,e,t){return BP.apply(this,arguments)}function BP(){return BP=(0,te.Z)(function*(n,e,t){if(!Cu(e))throw e;n.vu.add(1),yield Wg(n),n.bu.set("Offline"),t||(t=()=>Q$(n.localStore)),n.asyncQueue.enqueueRetryable((0,te.Z)(function*(){Ae("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield E0(n)}))}),BP.apply(this,arguments)}function hj(n,e){return GP.apply(this,arguments)}function GP(){return GP=(0,te.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Ae("RemoteStore","RemoteStore received new credentials");const r=Pu(t);t.vu.add(3),yield Wg(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield E0(t)}),GP.apply(this,arguments)}function qP(){return qP=(0,te.Z)(function*(n,e){const t=qe(n);e?(t.vu.delete(2),yield E0(t)):e||(t.vu.add(2),yield Wg(t),t.bu.set("Unknown"))}),qP.apply(this,arguments)}function Kg(n){return n.Su||(n.Su=function(e,t,r){const i=qe(e);return i.fu(),new C7(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:x7.bind(null,n),ao:M7.bind(null,n),nu:R7.bind(null,n)}),n.Ru.push(function(){var e=(0,te.Z)(function*(t){t?(n.Su.Qo(),NP(n)?PP(n):n.bu.set("Unknown")):(yield n.Su.stop(),lj(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}class KP{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,d=new KP(e,t,l,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new De(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(n,e){if(vr("AsyncQueue",`${e}: ${n}`),Cu(n))return new De(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Zg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=n0(),this.sortedSet=new kn(this.comparator)}static emptySet(e){return new Zg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Zg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class fj{constructor(){this.Cu=new kn(Ge.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qg{constructor(e,t,r,i,s,l,d,p,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Qg(e,t,Zg.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&e0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class V7{constructor(){this.Nu=void 0,this.listeners=[]}}class B7{constructor(){this.queries=new Ul(e=>PH(e),e0),this.onlineState="Unknown",this.ku=new Set}}function ZP(){return ZP=(0,te.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new V7),i)try{s.Nu=yield t.onListen(r)}catch(l){const d=Yg(l,`Initialization of query '${qk(e.query)}' failed`);return void e.onError(d)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&JP(t)}),ZP.apply(this,arguments)}function XP(){return XP=(0,te.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),XP.apply(this,arguments)}function U7(n,e){const t=qe(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const d of l.listeners)d.$u(i)&&(r=!0);l.Nu=i}}r&&JP(t)}function H7(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function JP(n){n.ku.forEach(e=>{e.next()})}class e1{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Qg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class mj{constructor(e){this.key=e}}class _j{constructor(e){this.key=e}}class yj{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zt(),this.mutatedKeys=Zt(),this.tc=FH(e),this.ec=new Zg(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new fj,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,d=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,m="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,C)=>{const T=i.get(y),A=t0(this.query,C)?C:null,O=!!T&&this.mutatedKeys.has(T.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let P=!1;T&&A?T.data.isEqual(A.data)?O!==V&&(r.track({type:3,doc:A}),P=!0):this.rc(T,A)||(r.track({type:2,doc:A}),P=!0,(p&&this.tc(A,p)>0||m&&this.tc(A,m)<0)&&(d=!0)):!T&&A?(r.track({type:0,doc:A}),P=!0):T&&!A&&(r.track({type:1,doc:T}),P=!0,(p||m)&&(d=!0)),P&&(A?(l=l.add(A),s=V?s.add(y):s.delete(y)):(l=l.delete(y),s=s.delete(y)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const y="F"===this.query.limitType?l.last():l.first();l=l.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{ec:l,ic:r,zi:d,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((m,y)=>function(C,T){const A=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return A(C)-A(T)}(m.type,y.type)||this.tc(m.doc,y.doc)),this.oc(r);const l=t?this.uc():[],d=0===this.Zu.size&&this.current?1:0,p=d!==this.Xu;return this.Xu=d,0!==s.length||p?{snapshot:new Qg(this.query,e.ec,i,s,e.mutatedKeys,0===d,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new _j(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new mj(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Zt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Qg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class z7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class G7{constructor(e){this.key=e,this.fc=!1}}class W7{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Ul(d=>PH(d),e0),this._c=new Map,this.mc=new Set,this.gc=new kn(Ge.comparator),this.yc=new Map,this.Ic=new pP,this.Tc={},this.Ec=new Map,this.Ac=zh.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function q7(n,e){return t1.apply(this,arguments)}function t1(){return t1=(0,te.Z)(function*(n,e){const t=function I1(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z7.bind(null,e),e.dc.nu=U7.bind(null,e.eventManager),e.dc.Pc=H7.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const l=yield function zg(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,ne.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new $l(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,es(e)),d=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield function n1(n,e,t,r,i){return r1.apply(this,arguments)}(t,e,r,"current"===d,l.resumeToken),t.isPrimaryClient&&zD(t.remoteStore,l)}return i}),t1.apply(this,arguments)}function r1(){return r1=(0,te.Z)(function*(n,e,t,r,i){n.Rc=(C,T,A)=>{return(O=(0,te.Z)(function*(V,P,z,se){let ue=P.view.sc(z);ue.zi&&(ue=yield BD(V.localStore,P.query,!1).then(({documents:et})=>P.view.sc(et,ue)));const Se=se&&se.targetChanges.get(P.targetId),He=P.view.applyChanges(ue,V.isPrimaryClient,Se);return p1(V,P.targetId,He.cc),He.snapshot}),function(V,P,z,se){return O.apply(this,arguments)})(n,C,T,A);var O};const s=yield BD(n.localStore,e,!0),l=new yj(e,s.ir),d=l.sc(s.documents),p=c0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),m=l.applyChanges(d,n.isPrimaryClient,p);p1(n,t,m.cc);const y=new z7(e,t,l);return n.wc.set(e,y),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),m.snapshot}),r1.apply(this,arguments)}function K7(n,e){return s1.apply(this,arguments)}function s1(){return s1=(0,te.Z)(function*(n,e){const t=qe(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!e0(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),C0(t.remoteStore,r.targetId),Xg(t,r.targetId)}).catch(Eu))):(Xg(t,r.targetId),yield Gg(t.localStore,r.targetId,!0))}),s1.apply(this,arguments)}function vj(n,e){return a1.apply(this,arguments)}function a1(){return a1=(0,te.Z)(function*(n,e){const t=qe(n);try{const r=yield function p7(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const d=[];e.targetChanges.forEach((y,C)=>{const T=i.get(C);if(!T)return;d.push(t.Bs.removeMatchingKeys(s,y.removedDocuments,C).next(()=>t.Bs.addMatchingKeys(s,y.addedDocuments,C)));let A=T.withSequenceNumber(s.currentSequenceNumber);var O,V,P;null!==e.targetMismatches.get(C)?A=A.withResumeToken(jr.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),i=i.insert(C,A),V=A,P=y,(0===(O=T).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8||P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0)&&d.push(t.Bs.updateTargetData(s,A))});let p=gs(),m=Zt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),d.push(function X$(n,e,t){let r=Zt(),i=Zt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=gs();return t.forEach((d,p)=>{const m=s.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),p.isNoDocument()&&p.version.isEqual(gt.min())?(e.removeEntry(d,p.readTime),l=l.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||0===p.version.compareTo(m.version)&&m.hasPendingWrites?(e.addEntry(p),l=l.insert(d,p)):Ae("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{nr:l,sr:i}})}(s,l,e.documentUpdates).next(y=>{p=y.nr,m=y.sr})),!r.isEqual(gt.min())){const y=t.Bs.getLastRemoteSnapshotVersion(s).next(C=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));d.push(y)}return ne.waitFor(d).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,m)).next(()=>p)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.yc.get(s);l&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?ft(l.fc):i.removedDocuments.size>0&&(ft(l.fc),l.fc=!1))}),yield jl(t,r,e)}catch(r){yield Eu(r)}}),a1.apply(this,arguments)}function wj(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,l)=>{const d=l.view.Mu(e);d.snapshot&&i.push(d.snapshot)}),function(s,l){const d=qe(s);d.onlineState=l;let p=!1;d.queries.forEach((m,y)=>{for(const C of y.listeners)C.Mu(l)&&(p=!0)}),p&&JP(d)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Z7(n,e,t){return l1.apply(this,arguments)}function l1(){return l1=(0,te.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let l=new kn(Ge.comparator);l=l.insert(s,Hn.newNoDocument(s,gt.min()));const d=Zt().add(s),p=new l0(gt.min(),new Map,new kn(Bt),l,d);yield vj(r,p),r.gc=r.gc.remove(s),r.yc.delete(e),g1(r)}else yield Gg(r.localStore,e,!1).then(()=>Xg(r,e,t)).catch(Eu)}),l1.apply(this,arguments)}function Xg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||bj(n,r)})}function bj(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(C0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),g1(n))}function p1(n,e,t){for(const r of t)r instanceof mj?(n.Ic.addReference(r.key,e),eK(n,r)):r instanceof _j?(Ae("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||bj(n,r.key)):rt()}function eK(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ae("SyncEngine","New document in limbo: "+t),n.mc.add(r),g1(n))}function g1(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ge(pn.fromString(e)),r=n.Ac.next();n.yc.set(r,new G7(t)),n.gc=n.gc.insert(t,r),zD(n.remoteStore,new $l(es(Ng(t.path)),r,"TargetPurposeLimboResolution",Us.ct))}}function jl(n,e,t){return m1.apply(this,arguments)}function m1(){return m1=(0,te.Z)(function*(n,e,t){const r=qe(n),i=[],s=[],l=[];var d;r.wc.isEmpty()||(r.wc.forEach((d,p)=>{l.push(r.Rc(p,e,t).then(m=>{if((m||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,m?.fromCache?"not-current":"current"),m){i.push(m);const y=vP.Li(p.targetId,m);s.push(y)}}))}),yield Promise.all(l),r.dc.nu(i),yield(d=(0,te.Z)(function*(p,m){const y=qe(p);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ne.forEach(m,T=>ne.forEach(T.Fi,A=>y.persistence.referenceDelegate.addReference(C,T.targetId,A)).next(()=>ne.forEach(T.Bi,A=>y.persistence.referenceDelegate.removeReference(C,T.targetId,A)))))}catch(C){if(!Cu(C))throw C;Ae("LocalStore","Failed to update sequence numbers: "+C)}for(const C of m){const T=C.targetId;if(!C.fromCache){const A=y.Ji.get(T),V=A.withLastLimboFreeSnapshotVersion(A.snapshotVersion);y.Ji=y.Ji.insert(T,V)}}}),function(p,m){return d.apply(this,arguments)})(r.localStore,s))}),m1.apply(this,arguments)}function tK(n,e){return _1.apply(this,arguments)}function _1(){return _1=(0,te.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Ae("SyncEngine","User change. New user:",e.toKey());const r=yield Z$(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(d=>{d.reject(new De(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield jl(t,r.er)}var i}),_1.apply(this,arguments)}function nK(n,e){const t=qe(n),r=t.yc.get(e);if(r&&r.fc)return Zt().add(r.key);{let i=Zt();const s=t._c.get(e);if(!s)return i;for(const l of s){const d=t.wc.get(l);i=i.unionWith(d.view.nc)}return i}}class WD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,te.Z)(function*(){t.serializer=b0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Y$(n,e,t,r){return new h7(n,e,t,r)}(this.persistence,new K$,e.initialUser,this.serializer)}createPersistence(e){return new gP(FD.zs,this.serializer)}createSharedClientState(e){return new ij}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Jg{initialize(e,t){var r=this;return(0,te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>wj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=tK.bind(null,r.syncEngine),yield function WP(n,e){return qP.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new B7}createDatastore(e){const t=b0(e.databaseInfo.databaseId),r=new b7(e.databaseInfo);return new I7(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=d=>wj(this.syncEngine,d,0),l=sj.D()?new sj:new y7,new A7(t,r,i,s,l);var t,r,i,s,l}createSyncEngine(e,t){return function(r,i,s,l,d,p,m){const y=new W7(r,i,s,l,d,p);return m&&(y.vc=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,te.Z)(function*(t){const r=qe(t);Ae("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Wg(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class qD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gK{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ti.UNAUTHENTICATED,this.clientId=QU.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,te.Z)(function*(d){Ae("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ae("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Yg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function KD(n,e){return S1.apply(this,arguments)}function S1(){return S1=(0,te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ae("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,te.Z)(function*(s){r.isEqual(s)||(yield Z$(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),S1.apply(this,arguments)}function A1(n,e){return x1.apply(this,arguments)}function x1(){return x1=(0,te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function M1(n){return R1.apply(this,arguments)}(n);Ae("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>hj(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>hj(e.remoteStore,s)),n._onlineComponents=e}),x1.apply(this,arguments)}function R1(){return R1=(0,te.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield KD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Sj(n){return"FirebaseError"===n.name?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),yield KD(n,new WD)}}else Ae("FirestoreClient","Using default OfflineComponentProvider"),yield KD(n,new WD);return n._offlineComponents}),R1.apply(this,arguments)}function O1(){return O1=(0,te.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield A1(n,n._uninitializedComponentsProvider._online)):(Ae("FirestoreClient","Using default OnlineComponentProvider"),yield A1(n,new Jg))),n._onlineComponents}),O1.apply(this,arguments)}function P1(){return P1=(0,te.Z)(function*(n){const e=yield function YD(n){return O1.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=q7.bind(null,e.syncEngine),t.onUnlisten=K7.bind(null,e.syncEngine),t}),P1.apply(this,arguments)}function Rj(n,e,t={}){const r=new $r;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(i,s,l,d,p){const m=new qD({next:C=>{s.enqueueAndForget(()=>function QP(n,e){return XP.apply(this,arguments)}(i,y));const T=C.docs.has(l);!T&&C.fromCache?p.reject(new De(le.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&C.fromCache&&d&&"server"===d.source?p.reject(new De(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(C)},error:C=>p.reject(C)}),y=new e1(Ng(l.path),m,{includeMetadataChanges:!0,Ku:!0});return function YP(n,e){return ZP.apply(this,arguments)}(i,y)}(yield function em(n){return P1.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function kj(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Pj=new Map;function Nj(n){if(!Ge.isDocumentKey(n))throw new De(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function QD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}(n);throw new De(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Vj{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new De(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new De(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function DK(n,e,t,r){if(!0===e&&!0===r)throw new De(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new De(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new De(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new De(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class D0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new De(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new De(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new b8;switch(t.type){case"firstParty":return new I8(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new De(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Pj.get(e);t&&(Ae("ComponentProvider","Removing Datastore"),Pj.delete(e),t.terminate())}(this),Promise.resolve()}}class Er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class vi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vi(this.firestore,e,this._query)}}class La extends vi{constructor(e,t,r){super(e,t,Ng(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new Ge(e))}withConverter(e){return new La(this.firestore,e,this._path)}}function Bj(n,e,...t){if(n=(0,kt.m9)(n),1===arguments.length&&(e=QU.A()),function N1(n,e,t){if(!t)throw new De(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("doc","path",e),n instanceof D0){const r=pn.fromString(e,...t);return Nj(r),new Er(n,null,new Ge(r))}{if(!(n instanceof Er||n instanceof La))throw new De(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return Nj(r),new Er(n.firestore,n instanceof La?n.converter:null,new Ge(r))}}class TK{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xP(this,"async_queue_retry"),this.Xc=()=>{const t=jD();t&&Ae("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=jD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=jD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new $r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,te.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Cu(t))throw t;Ae("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,vr("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=KP.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}sa(){var e=this;return(0,te.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class $n extends D0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new TK,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hj(this),this._firestoreClient.terminate()}}function AK(n,e){const t="object"==typeof n?n:(0,yr.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,yr._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,kt.P0)("firestore");s&&function IK(n,e,t,r={}){var i;const s=(n=un(n,D0))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let d,p;if("string"==typeof r.mockUserToken)d=r.mockUserToken,p=ti.MOCK_USER;else{d=(0,kt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new De(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ti(m)}n._authCredentials=new E8(new YU(d,p))}}(i,...s)}return i}function Hj(n){var e,t,r;const i=n._freezeSettings(),s=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new t9(n._databaseId,d,n._persistenceKey,(m=i).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,kj(m.experimentalLongPollingOptions),m.useFetchStreams));var d,m;n._firestoreClient=new gK(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Wh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wh(jr.fromBase64String(e))}catch(t){throw new De(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wh(jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new De(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class L1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const FK=new RegExp("[~\\*/\\[\\]]");function eI(n,e,t,r,i){const s=r&&!r.isEmpty(),l=void 0!==i;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||l)&&(p+=" (found",s&&(p+=` in field ${r}`),l&&(p+=` in document ${i}`),p+=")"),new De(le.INVALID_ARGUMENT,d+n+p)}class H1{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new LK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class LK extends H1{data(){return super.data()}}function tI(n,e){return"string"==typeof e?function JD(n,e,t){if(e.search(FK)>=0)throw eI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tm(...e.split("."))._internalPath}catch{throw eI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof tm?e._internalPath:e._delegate._internalPath}class BK{convertValue(e,t="none"){switch(Su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Du(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new L1(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=mD(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yv(e));default:return null}}convertTimestamp(e){const t=Iu(e);return new Jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pn.fromString(e);ft(v$(r));const i=new kh(r.get(1),r.get(3)),s=new Ge(r.popFirst(5));return i.isEqual(t)||vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Kh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class im extends H1{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sI extends im{data(e={}){return super.data(e)}}function $K(n){n=un(n,Er);const e=un(n.firestore,$n);return Rj(function Nr(n){return n._firestoreClient||Hj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(e),n._key).then(t=>function z1(n,e,t){const r=t.docs.get(e._key),i=new Fu(n);return new im(n,i,e._key,r,new Kh(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Fu extends BK{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,t)}}class aI{constructor(e){return e}}const lz="firestore",G1=new f.OlP("angularfire2.firestore-instances");function nY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new aI(r)}}const rY={provide:class eY{constructor(){return(0,Qr.vb)(lz)}},deps:[[new f.FiY,G1]]},iY={provide:aI,useFactory:function tY(n,e){const t=(0,Qr.JM)(lz,n,e);return t&&new aI(t)},deps:[[new f.FiY,G1],_g]};let sY=(()=>{class n{constructor(){(0,pu.KN)("angularfire",Qr.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[iY,rY]}),n})();function oY(n,...e){return{ngModule:sY,providers:[{provide:G1,useFactory:nY(n),multi:!0,deps:[f.R0b,f.zs3,Qr.HU,hM,[new f.FiY,RB],[new f.FiY,PM],...e]}]}}const W1=(0,Qr.u3)(Bj,!0),q1=(0,Qr.u3)($K,!0),aY=(0,Qr.u3)(AK,!0);let cz=(()=>{class n{constructor(){this._listeners=[]}notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lY=0;const K1=new f.OlP("CdkAccordion");let cY=(()=>{class n{constructor(){this._stateChanges=new tn.x,this._openCloseAllActions=new tn.x,this.id="cdk-accordion-"+lY++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=Rs(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[f._Bn([{provide:K1,useExisting:n}]),f.TTD]}),n})(),uY=0,dY=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=Rs(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Rs(t)}constructor(t,r,i){this.accordion=t,this._changeDetectorRef=r,this._expansionDispatcher=i,this._openCloseAllSubscription=Yi.w0.EMPTY,this.closed=new f.vpe,this.opened=new f.vpe,this.destroyed=new f.vpe,this.expandedChange=new f.vpe,this.id="cdk-accordion-child-"+uY++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=i.listen((s,l)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===l&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(K1,12),f.Y36(f.sBO),f.Y36(cz))},n.\u0275dir=f.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[f._Bn([{provide:K1,useValue:void 0}])]}),n})(),hY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const fY=["body"];function pY(n,e){}const gY=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],mY=["mat-expansion-panel-header","*","mat-action-row"];function _Y(n,e){if(1&n&&f._UZ(0,"span",2),2&n){const t=f.oxw();f.Q6J("@indicatorRotate",t._getExpandedState())}}const yY=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],vY=["mat-panel-title","mat-panel-description","*"],Y1=new f.OlP("MAT_ACCORDION"),uz="225ms cubic-bezier(0.4,0.0,0.2,1)",dz={indicatorRotate:Dy("indicatorRotate",[Ea("collapsed, void",Ps({transform:"rotate(0deg)"})),Ea("expanded",Ps({transform:"rotate(180deg)"})),gh("expanded <=> collapsed, void => collapsed",ph(uz))]),bodyExpansion:Dy("bodyExpansion",[Ea("collapsed, void",Ps({height:"0px",visibility:"hidden"})),Ea("expanded",Ps({height:"*",visibility:"visible"})),gh("expanded <=> collapsed, void => collapsed",ph(uz))])},hz=new f.OlP("MAT_EXPANSION_PANEL");let wY=(()=>{class n{constructor(t,r){this._template=t,this._expansionPanel=r}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Rgc),f.Y36(hz,8))},n.\u0275dir=f.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),bY=0;const fz=new f.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let pz=(()=>{class n extends dY{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Rs(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,r,i,s,l,d,p){super(t,r,i),this._viewContainerRef=s,this._animationMode=d,this._hideToggle=!1,this.afterExpand=new f.vpe,this.afterCollapse=new f.vpe,this._inputChanges=new tn.x,this._headerId="mat-expansion-panel-header-"+bY++,this._bodyAnimationDone=new tn.x,this.accordion=t,this._document=l,this._bodyAnimationDone.pipe(TA((m,y)=>m.fromState===y.fromState&&m.toState===y.toState)).subscribe(m=>{"void"!==m.fromState&&("expanded"===m.toState?this.afterExpand.emit():"collapsed"===m.toState&&this.afterCollapse.emit())}),p&&(this.hideToggle=p.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Js(null),On(()=>this.expanded&&!this._portal),hi(1)).subscribe(()=>{this._portal=new Rr(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,r=this._body.nativeElement;return t===r||r.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Y1,12),f.Y36(f.sBO),f.Y36(cz),f.Y36(f.s_b),f.Y36(K),f.Y36(f.QbO,8),f.Y36(fz,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,r,i){if(1&t&&f.Suo(i,wY,5),2&t){let s;f.iGM(s=f.CRH())&&(r._lazyContent=s.first)}},viewQuery:function(t,r){if(1&t&&f.Gf(fY,5),2&t){let i;f.iGM(i=f.CRH())&&(r._body=i.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,r){2&t&&f.ekj("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[f._Bn([{provide:Y1,useValue:void 0},{provide:hz,useExisting:n}]),f.qOj,f.TTD],ngContentSelectors:mY,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,r){1&t&&(f.F$t(gY),f.Hsn(0),f.TgZ(1,"div",0,1),f.NdJ("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),f.TgZ(3,"div",2),f.Hsn(4,1),f.YNc(5,pY,0,0,"ng-template",3),f.qZA(),f.Hsn(6,2),f.qZA()),2&t&&(f.xp6(1),f.Q6J("@bodyExpansion",r._getExpandedState())("id",r.id),f.uIk("aria-labelledby",r._headerId),f.xp6(4),f.Q6J("cdkPortalOutlet",r._portal))},dependencies:[ko],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[dz.bodyExpansion]},changeDetection:0}),n})();class EY{}const CY=vE(EY);let gz=(()=>{class n extends CY{constructor(t,r,i,s,l,d,p){super(),this.panel=t,this._element=r,this._focusMonitor=i,this._changeDetectorRef=s,this._animationMode=d,this._parentChangeSubscription=Yi.w0.EMPTY;const m=t.accordion?t.accordion._stateChanges.pipe(On(y=>!(!y.hideToggle&&!y.togglePosition))):xi.E;this.tabIndex=parseInt(p||"")||0,this._parentChangeSubscription=(0,wa.T)(t.opened,t.closed,m,t._inputChanges.pipe(On(y=>!!(y.hideToggle||y.disabled||y.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(On(()=>t._containsFocus())).subscribe(()=>i.focusVia(r,"program")),l&&(this.expandedHeight=l.expandedHeight,this.collapsedHeight=l.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Al(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,r){t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(pz,1),f.Y36(f.SBq),f.Y36(su),f.Y36(f.sBO),f.Y36(fz,8),f.Y36(f.QbO,8),f.$8M("tabindex"))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&t&&(f.uIk("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),f.Udp("height",r._getHeaderHeight()),f.ekj("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[f.qOj],ngContentSelectors:vY,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,r){1&t&&(f.F$t(yY),f.TgZ(0,"span",0),f.Hsn(1),f.Hsn(2,1),f.Hsn(3,2),f.qZA(),f.YNc(4,_Y,1,1,"span",1)),2&t&&(f.ekj("mat-content-hide-toggle",!r._showToggle()),f.xp6(4),f.Q6J("ngIf",r._showToggle()))},dependencies:[Ws],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[dz.indicatorRotate]},changeDetection:0}),n})(),DY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),IY=(()=>{class n extends cY{constructor(){super(...arguments),this._ownHeaders=new f.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=Rs(t)}ngAfterContentInit(){this._headers.changes.pipe(Js(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(r=>r.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new LA(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,r,i){if(1&t&&f.Suo(i,gz,5),2&t){let s;f.iGM(s=f.CRH())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,r){2&t&&f.ekj("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[f._Bn([{provide:Y1,useExisting:n}]),f.qOj]}),n})(),TY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[qs,Xi,hY,ro]}),n})();const mz=["*"];class AY{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(r=>this._trackTile(r))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new xY(this.rowIndex,t)}_findMatchingGap(e){let t=-1,r=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),r=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(r=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),r=this._findGapEndIndex(t)))}while(r-t<e||0==r);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let r=0;r<t.colspan;r++)this.tracker[e+r]=t.rowspan}}class xY{constructor(e,t){this.row=e,this.col=t}}const _z=new f.OlP("MAT_GRID_LIST");let yz=(()=>{class n{constructor(t,r){this._element=t,this._gridList=r,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(ma(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(ma(t))}_setStyle(t,r){this._element.nativeElement.style[t]=r}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(_z,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,r){2&t&&f.uIk("rowspan",r.rowspan)("colspan",r.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:mz,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const MY=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Z1{constructor(){this._rows=0,this._rowspan=0}init(e,t,r,i){this._gutterSize=vz(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=r,this._direction=i}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":Yh(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,r){let i=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(e,r,i,s),this.setRowStyles(e,t,i,s)}setColStyles(e,t,r,i){let s=this.getBaseTileSize(r,i);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,t)),e._setStyle("width",Yh(this.getTileSize(s,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class RY extends Z1{constructor(e){super(),this.fixedRowHeight=e}init(e,t,r,i){super.init(e,t,r,i),this.fixedRowHeight=vz(this.fixedRowHeight),MY.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",Yh(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",Yh(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class OY extends Z1{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,r,i){this.baseTileHeight=this.getBaseTileSize(r/this.rowHeightRatio,i),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",Yh(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",Yh(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class kY extends Z1{setRowStyles(e,t){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(s,t)),e._setStyle("height",Yh(this.getTileSize(s,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function Yh(n){return`calc(${n})`}function vz(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let NY=(()=>{class n{constructor(t,r){this._element=t,this._dir=r,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(ma(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const r=`${t??""}`;r!==this._rowHeight&&(this._rowHeight=r,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new kY:t&&t.indexOf(":")>-1?new OY(t):new RY(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new AY);const t=this._tileCoordinator,r=this._tiles.filter(s=>!s._gridList||s._gridList===this),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,r),this._tileStyler.init(this.gutterSize,t,this.cols,i),r.forEach((s,l)=>{const d=t.positions[l];this._tileStyler.setStyle(s,d.row,d.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(wl,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,r,i){if(1&t&&f.Suo(i,yz,5),2&t){let s;f.iGM(s=f.CRH())&&(r._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("cols",r.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[f._Bn([{provide:_z,useExisting:n}])],ngContentSelectors:mz,decls:2,vars:0,template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div"),f.Hsn(1),f.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),FY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[wE,Xi,wE,Xi]}),n})();function LY(){}function Q1(n){return null==n?LY:function(){return this.querySelector(n)}}function UY(){return[]}function wz(n){return null==n?UY:function(){return this.querySelectorAll(n)}}function bz(n){return function(){return this.matches(n)}}function Ez(n){return function(e){return e.matches(n)}}var jY=Array.prototype.find;function GY(){return this.firstElementChild}var qY=Array.prototype.filter;function KY(){return Array.from(this.children)}function Cz(n){return new Array(n.length)}function lI(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}function eZ(n,e,t,r,i,s){for(var d,l=0,p=e.length,m=s.length;l<m;++l)(d=e[l])?(d.__data__=s[l],r[l]=d):t[l]=new lI(n,s[l]);for(;l<p;++l)(d=e[l])&&(i[l]=d)}function tZ(n,e,t,r,i,s,l){var d,p,A,m=new Map,y=e.length,C=s.length,T=new Array(y);for(d=0;d<y;++d)(p=e[d])&&(T[d]=A=l.call(p,p.__data__,d,e)+"",m.has(A)?i[d]=p:m.set(A,p));for(d=0;d<C;++d)A=l.call(n,s[d],d,s)+"",(p=m.get(A))?(r[d]=p,p.__data__=s[d],m.delete(A)):t[d]=new lI(n,s[d]);for(d=0;d<y;++d)(p=e[d])&&m.get(T[d])===p&&(i[d]=p)}function nZ(n){return n.__data__}function iZ(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function uZ(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}lI.prototype={constructor:lI,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var X1="http://www.w3.org/1999/xhtml";const Dz={svg:"http://www.w3.org/2000/svg",xhtml:X1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cI(n){var e=n+="",t=e.indexOf(":");return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),Dz.hasOwnProperty(e)?{space:Dz[e],local:n}:n}function _Z(n){return function(){this.removeAttribute(n)}}function yZ(n){return function(){this.removeAttributeNS(n.space,n.local)}}function vZ(n,e){return function(){this.setAttribute(n,e)}}function wZ(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function bZ(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}function EZ(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function Iz(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function DZ(n){return function(){this.style.removeProperty(n)}}function IZ(n,e,t){return function(){this.style.setProperty(n,e,t)}}function TZ(n,e,t){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function om(n,e){return n.style.getPropertyValue(e)||Iz(n).getComputedStyle(n,null).getPropertyValue(e)}function AZ(n){return function(){delete this[n]}}function xZ(n,e){return function(){this[n]=e}}function MZ(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}function Tz(n){return n.trim().split(/^|\s+/)}function J1(n){return n.classList||new Sz(n)}function Sz(n){this._node=n,this._names=Tz(n.getAttribute("class")||"")}function Az(n,e){for(var t=J1(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function xz(n,e){for(var t=J1(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function OZ(n){return function(){Az(this,n)}}function kZ(n){return function(){xz(this,n)}}function PZ(n,e){return function(){(e.apply(this,arguments)?Az:xz)(this,n)}}function FZ(){this.textContent=""}function LZ(n){return function(){this.textContent=n}}function VZ(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function UZ(){this.innerHTML=""}function HZ(n){return function(){this.innerHTML=n}}function $Z(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function zZ(){this.nextSibling&&this.parentNode.appendChild(this)}function WZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function KZ(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===X1&&e.documentElement.namespaceURI===X1?e.createElement(n):e.createElementNS(t,n)}}function YZ(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Mz(n){var e=cI(n);return(e.local?YZ:KZ)(e)}function QZ(){return null}function JZ(){var n=this.parentNode;n&&n.removeChild(this)}function tQ(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function nQ(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function aQ(n){return function(){var e=this.__on;if(e){for(var s,t=0,r=-1,i=e.length;t<i;++t)s=e[t],n.type&&s.type!==n.type||s.name!==n.name?e[++r]=s:this.removeEventListener(s.type,s.listener,s.options);++r?e.length=r:delete this.__on}}}function lQ(n,e,t){return function(){var i,r=this.__on,s=function sQ(n){return function(e){n.call(this,e,this.__data__)}}(e);if(r)for(var l=0,d=r.length;l<d;++l)if((i=r[l]).type===n.type&&i.name===n.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=t),void(i.value=e);this.addEventListener(n.type,s,t),i={type:n.type,name:n.name,value:e,listener:s,options:t},r?r.push(i):this.__on=[i]}}function Rz(n,e,t){var r=Iz(n),i=r.CustomEvent;"function"==typeof i?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function uQ(n,e){return function(){return Rz(this,n,e)}}function dQ(n,e){return function(){return Rz(this,n,e.apply(this,arguments))}}Sz.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var Oz=[null];function Hs(n,e){this._groups=n,this._parents=e}function kz(){return new Hs([[document.documentElement]],Oz)}Hs.prototype=kz.prototype={constructor:Hs,select:function VY(n){"function"!=typeof n&&(n=Q1(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var p,m,s=e[i],l=s.length,d=r[i]=new Array(l),y=0;y<l;++y)(p=s[y])&&(m=n.call(p,p.__data__,y,s))&&("__data__"in p&&(m.__data__=p.__data__),d[y]=m);return new Hs(r,this._parents)},selectAll:function $Y(n){n="function"==typeof n?function HY(n){return function(){return function BY(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):wz(n);for(var e=this._groups,t=e.length,r=[],i=[],s=0;s<t;++s)for(var p,l=e[s],d=l.length,m=0;m<d;++m)(p=l[m])&&(r.push(n.call(p,p.__data__,m,l)),i.push(p));return new Hs(r,i)},selectChild:function WY(n){return this.select(null==n?GY:function zY(n){return function(){return jY.call(this.children,n)}}("function"==typeof n?n:Ez(n)))},selectChildren:function ZY(n){return this.selectAll(null==n?KY:function YY(n){return function(){return qY.call(this.children,n)}}("function"==typeof n?n:Ez(n)))},filter:function QY(n){"function"!=typeof n&&(n=bz(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var p,s=e[i],l=s.length,d=r[i]=[],m=0;m<l;++m)(p=s[m])&&n.call(p,p.__data__,m,s)&&d.push(p);return new Hs(r,this._parents)},data:function rZ(n,e){if(!arguments.length)return Array.from(this,nZ);var t=e?tZ:eZ,r=this._parents,i=this._groups;"function"!=typeof n&&(n=function JY(n){return function(){return n}}(n));for(var s=i.length,l=new Array(s),d=new Array(s),p=new Array(s),m=0;m<s;++m){var y=r[m],C=i[m],T=C.length,A=iZ(n.call(y,y&&y.__data__,m,r)),O=A.length,V=d[m]=new Array(O),P=l[m]=new Array(O);t(y,C,V,P,p[m]=new Array(T),A,e);for(var Se,He,se=0,ue=0;se<O;++se)if(Se=V[se]){for(se>=ue&&(ue=se+1);!(He=P[ue])&&++ue<O;);Se._next=He||null}}return(l=new Hs(l,r))._enter=d,l._exit=p,l},enter:function XY(){return new Hs(this._enter||this._groups.map(Cz),this._parents)},exit:function sZ(){return new Hs(this._exit||this._groups.map(Cz),this._parents)},join:function oZ(n,e,t){var r=this.enter(),i=this,s=this.exit();return"function"==typeof n?(r=n(r))&&(r=r.selection()):r=r.append(n+""),null!=e&&(i=e(i))&&(i=i.selection()),null==t?s.remove():t(s),r&&i?r.merge(i).order():i},merge:function aZ(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,l=Math.min(i,r.length),d=new Array(i),p=0;p<l;++p)for(var A,m=t[p],y=r[p],C=m.length,T=d[p]=new Array(C),O=0;O<C;++O)(A=m[O]||y[O])&&(T[O]=A);for(;p<i;++p)d[p]=t[p];return new Hs(d,this._parents)},selection:function pQ(){return this},order:function lZ(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var l,r=n[e],i=r.length-1,s=r[i];--i>=0;)(l=r[i])&&(s&&4^l.compareDocumentPosition(s)&&s.parentNode.insertBefore(l,s),s=l);return this},sort:function cZ(n){function e(C,T){return C&&T?n(C.__data__,T.__data__):!C-!T}n||(n=uZ);for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s){for(var m,l=t[s],d=l.length,p=i[s]=new Array(d),y=0;y<d;++y)(m=l[y])&&(p[y]=m);p.sort(e)}return new Hs(i,this._parents).order()},call:function dZ(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function hZ(){return Array.from(this)},node:function fZ(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length;i<s;++i){var l=r[i];if(l)return l}return null},size:function pZ(){let n=0;for(const e of this)++n;return n},empty:function gZ(){return!this.node()},each:function mZ(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var d,i=e[t],s=0,l=i.length;s<l;++s)(d=i[s])&&n.call(d,d.__data__,s,i);return this},attr:function CZ(n,e){var t=cI(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((null==e?t.local?yZ:_Z:"function"==typeof e?t.local?EZ:bZ:t.local?wZ:vZ)(t,e))},style:function SZ(n,e,t){return arguments.length>1?this.each((null==e?DZ:"function"==typeof e?TZ:IZ)(n,e,t??"")):om(this.node(),n)},property:function RZ(n,e){return arguments.length>1?this.each((null==e?AZ:"function"==typeof e?MZ:xZ)(n,e)):this.node()[n]},classed:function NZ(n,e){var t=Tz(n+"");if(arguments.length<2){for(var r=J1(this.node()),i=-1,s=t.length;++i<s;)if(!r.contains(t[i]))return!1;return!0}return this.each(("function"==typeof e?PZ:e?OZ:kZ)(t,e))},text:function BZ(n){return arguments.length?this.each(null==n?FZ:("function"==typeof n?VZ:LZ)(n)):this.node().textContent},html:function jZ(n){return arguments.length?this.each(null==n?UZ:("function"==typeof n?$Z:HZ)(n)):this.node().innerHTML},raise:function GZ(){return this.each(zZ)},lower:function qZ(){return this.each(WZ)},append:function ZZ(n){var e="function"==typeof n?n:Mz(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function XZ(n,e){var t="function"==typeof n?n:Mz(n),r=null==e?QZ:"function"==typeof e?e:Q1(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function eQ(){return this.each(JZ)},clone:function rQ(n){return this.select(n?nQ:tQ)},datum:function iQ(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function cQ(n,e,t){var i,l,r=function oQ(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}(n+""),s=r.length;if(!(arguments.length<2)){for(d=e?lQ:aQ,i=0;i<s;++i)this.each(d(r[i],e,t));return this}var d=this.node().__on;if(d)for(var y,p=0,m=d.length;p<m;++p)for(i=0,y=d[p];i<s;++i)if((l=r[i]).type===y.type&&l.name===y.name)return y.value},dispatch:function hQ(n,e){return this.each(("function"==typeof e?dQ:uQ)(n,e))},[Symbol.iterator]:function*fQ(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var l,r=n[e],i=0,s=r.length;i<s;++i)(l=r[i])&&(yield l)}};const M0=kz;var gQ={value:()=>{}};function Pz(){for(var r,n=0,e=arguments.length,t={};n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new uI(t)}function uI(n){this._=n}function _Q(n,e){for(var i,t=0,r=n.length;t<r;++t)if((i=n[t]).name===e)return i.value}function Nz(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=gQ,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=t&&n.push({name:e,value:t}),n}uI.prototype=Pz.prototype={constructor:uI,on:function(n,e){var i,t=this._,r=function mQ(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}(n+"",t),s=-1,l=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<l;)if(i=(n=r[s]).type)t[i]=Nz(t[i],n.name,e);else if(null==e)for(i in t)t[i]=Nz(t[i],n.name,null);return this}for(;++s<l;)if((i=(n=r[s]).type)&&(i=_Q(t[i],n.name)))return i},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new uI(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var i,s,t=new Array(i),r=0;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=0,i=(s=this._[n]).length;r<i;++r)s[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,s=r.length;i<s;++i)r[i].value.apply(e,t)}};const Fz=Pz;var dI,k0,am=0,R0=0,O0=0,Lz=1e3,hI=0,Zh=0,fI=0,P0="object"==typeof performance&&performance.now?performance:Date,Vz="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function eN(){return Zh||(Vz(yQ),Zh=P0.now()+fI)}function yQ(){Zh=0}function pI(){this._call=this._time=this._next=null}function Bz(n,e,t){var r=new pI;return r.restart(n,e,t),r}function Uz(){Zh=(hI=P0.now())+fI,am=R0=0;try{!function vQ(){eN(),++am;for(var e,n=dI;n;)(e=Zh-n._time)>=0&&n._call.call(void 0,e),n=n._next;--am}()}finally{am=0,function bQ(){for(var n,t,e=dI,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:dI=t);k0=n,tN(r)}(),Zh=0}}function wQ(){var n=P0.now(),e=n-hI;e>Lz&&(fI-=e,hI=n)}function tN(n){am||(R0&&(R0=clearTimeout(R0)),n-Zh>24?(n<1/0&&(R0=setTimeout(Uz,n-P0.now()-fI)),O0&&(O0=clearInterval(O0))):(O0||(hI=P0.now(),O0=setInterval(wQ,Lz)),am=1,Vz(Uz)))}function Hz(n,e,t){var r=new pI;return r.restart(i=>{r.stop(),n(i+e)},e=null==e?0:+e,t),r}pI.prototype=Bz.prototype={constructor:pI,restart:function(n,e,t){if("function"!=typeof n)throw new TypeError("callback is not a function");t=(null==t?eN():+t)+(null==e?0:+e),!this._next&&k0!==this&&(k0?k0._next=this:dI=this,k0=this),this._call=n,this._time=t,tN()},stop:function(){this._call&&(this._call=null,this._time=1/0,tN())}};var EQ=Fz("start","end","cancel","interrupt"),CQ=[],$z=0,jz=1,nN=2,gI=3,zz=4,rN=5,mI=6;function _I(n,e,t,r,i,s){var l=n.__transition;if(l){if(t in l)return}else n.__transition={};!function DQ(n,e,t){var i,r=n.__transition;function l(m){var y,C,T,A;if(t.state!==jz)return p();for(y in r)if((A=r[y]).name===t.name){if(A.state===gI)return Hz(l);A.state===zz?(A.state=mI,A.timer.stop(),A.on.call("interrupt",n,n.__data__,A.index,A.group),delete r[y]):+y<e&&(A.state=mI,A.timer.stop(),A.on.call("cancel",n,n.__data__,A.index,A.group),delete r[y])}if(Hz(function(){t.state===gI&&(t.state=zz,t.timer.restart(d,t.delay,t.time),d(m))}),t.state=nN,t.on.call("start",n,n.__data__,t.index,t.group),t.state===nN){for(t.state=gI,i=new Array(T=t.tween.length),y=0,C=-1;y<T;++y)(A=t.tween[y].value.call(n,n.__data__,t.index,t.group))&&(i[++C]=A);i.length=C+1}}function d(m){for(var y=m<t.duration?t.ease.call(null,m/t.duration):(t.timer.restart(p),t.state=rN,1),C=-1,T=i.length;++C<T;)i[C].call(n,y);t.state===rN&&(t.on.call("end",n,n.__data__,t.index,t.group),p())}function p(){for(var m in t.state=mI,t.timer.stop(),delete r[e],r)return;delete n.__transition}r[e]=t,t.timer=Bz(function s(m){t.state=jz,t.timer.restart(l,t.delay,t.time),t.delay<=m&&l(m-t.delay)},0,t.time)}(n,t,{name:e,index:r,group:i,on:EQ,tween:CQ,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:$z})}function iN(n,e){var t=zo(n,e);if(t.state>$z)throw new Error("too late; already scheduled");return t}function Va(n,e){var t=zo(n,e);if(t.state>gI)throw new Error("too late; already running");return t}function zo(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function yI(n,e){var r,i,l,t=n.__transition,s=!0;if(t){for(l in e=null==e?null:e+"",t)(r=t[l]).name===e?(i=r.state>nN&&r.state<rN,r.state=mI,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[l]):s=!1;s&&delete n.__transition}}function Lu(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var vI,Gz=180/Math.PI,sN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wz(n,e,t,r,i,s){var l,d,p;return(l=Math.sqrt(n*n+e*e))&&(n/=l,e/=l),(p=n*t+e*r)&&(t-=n*p,r-=e*p),(d=Math.sqrt(t*t+r*r))&&(t/=d,r/=d,p/=d),n*r<e*t&&(n=-n,e=-e,p=-p,l=-l),{translateX:i,translateY:s,rotate:Math.atan2(e,n)*Gz,skewX:Math.atan(p)*Gz,scaleX:l,scaleY:d}}function qz(n,e,t,r){function i(m){return m.length?m.pop()+" ":""}return function(m,y){var C=[],T=[];return m=n(m),y=n(y),function s(m,y,C,T,A,O){if(m!==C||y!==T){var V=A.push("translate(",null,e,null,t);O.push({i:V-4,x:Lu(m,C)},{i:V-2,x:Lu(y,T)})}else(C||T)&&A.push("translate("+C+e+T+t)}(m.translateX,m.translateY,y.translateX,y.translateY,C,T),function l(m,y,C,T){m!==y?(m-y>180?y+=360:y-m>180&&(m+=360),T.push({i:C.push(i(C)+"rotate(",null,r)-2,x:Lu(m,y)})):y&&C.push(i(C)+"rotate("+y+r)}(m.rotate,y.rotate,C,T),function d(m,y,C,T){m!==y?T.push({i:C.push(i(C)+"skewX(",null,r)-2,x:Lu(m,y)}):y&&C.push(i(C)+"skewX("+y+r)}(m.skewX,y.skewX,C,T),function p(m,y,C,T,A,O){if(m!==C||y!==T){var V=A.push(i(A)+"scale(",null,",",null,")");O.push({i:V-4,x:Lu(m,C)},{i:V-2,x:Lu(y,T)})}else(1!==C||1!==T)&&A.push(i(A)+"scale("+C+","+T+")")}(m.scaleX,m.scaleY,y.scaleX,y.scaleY,C,T),m=y=null,function(A){for(var P,O=-1,V=T.length;++O<V;)C[(P=T[O]).i]=P.x(A);return C.join("")}}}var AQ=qz(function TQ(n){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?sN:Wz(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),xQ=qz(function SQ(n){return null!=n&&(vI||(vI=document.createElementNS("http://www.w3.org/2000/svg","g")),vI.setAttribute("transform",n),n=vI.transform.baseVal.consolidate())?Wz((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):sN},", ",")",")");function MQ(n,e){var t,r;return function(){var i=Va(this,n),s=i.tween;if(s!==t)for(var l=0,d=(r=t=s).length;l<d;++l)if(r[l].name===e){(r=r.slice()).splice(l,1);break}i.tween=r}}function RQ(n,e,t){var r,i;if("function"!=typeof t)throw new Error;return function(){var s=Va(this,n),l=s.tween;if(l!==r){i=(r=l).slice();for(var d={name:e,value:t},p=0,m=i.length;p<m;++p)if(i[p].name===e){i[p]=d;break}p===m&&i.push(d)}s.tween=i}}function oN(n,e,t){var r=n._id;return n.each(function(){var i=Va(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return zo(i,r).value[e]}}function aN(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Kz(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function N0(){}var wI=1/.7,lm="\\s*([+-]?\\d+)\\s*",L0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kQ=/^#([0-9a-f]{3,8})$/,PQ=new RegExp(`^rgb\\(${lm},${lm},${lm}\\)$`),NQ=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),FQ=new RegExp(`^rgba\\(${lm},${lm},${lm},${L0}\\)$`),LQ=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${L0}\\)$`),VQ=new RegExp(`^hsl\\(${L0},${Ba},${Ba}\\)$`),BQ=new RegExp(`^hsla\\(${L0},${Ba},${Ba},${L0}\\)$`),Yz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zz(){return this.rgb().formatHex()}function Qz(){return this.rgb().formatRgb()}function V0(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=kQ.exec(n))?(t=e[1].length,e=parseInt(e[1],16),6===t?Xz(e):3===t?new ms(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===t?bI(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===t?bI(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=PQ.exec(n))?new ms(e[1],e[2],e[3],1):(e=NQ.exec(n))?new ms(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=FQ.exec(n))?bI(e[1],e[2],e[3],e[4]):(e=LQ.exec(n))?bI(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=VQ.exec(n))?tG(e[1],e[2]/100,e[3]/100,1):(e=BQ.exec(n))?tG(e[1],e[2]/100,e[3]/100,e[4]):Yz.hasOwnProperty(n)?Xz(Yz[n]):"transparent"===n?new ms(NaN,NaN,NaN,0):null}function Xz(n){return new ms(n>>16&255,n>>8&255,255&n,1)}function bI(n,e,t,r){return r<=0&&(n=e=t=NaN),new ms(n,e,t,r)}function EI(n,e,t,r){return 1===arguments.length?function $Q(n){return n instanceof N0||(n=V0(n)),n?new ms((n=n.rgb()).r,n.g,n.b,n.opacity):new ms}(n):new ms(n,e,t,r??1)}function ms(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}function Jz(){return`#${Xh(this.r)}${Xh(this.g)}${Xh(this.b)}`}function eG(){const n=CI(this.opacity);return`${1===n?"rgb(":"rgba("}${Qh(this.r)}, ${Qh(this.g)}, ${Qh(this.b)}${1===n?")":`, ${n})`}`}function CI(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Qh(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Xh(n){return((n=Qh(n))<16?"0":"")+n.toString(16)}function tG(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Go(n,e,t,r)}function nG(n){if(n instanceof Go)return new Go(n.h,n.s,n.l,n.opacity);if(n instanceof N0||(n=V0(n)),!n)return new Go;if(n instanceof Go)return n;var e=(n=n.rgb()).r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),l=NaN,d=s-i,p=(s+i)/2;return d?(l=e===s?(t-r)/d+6*(t<r):t===s?(r-e)/d+2:(e-t)/d+4,d/=p<.5?s+i:2-s-i,l*=60):d=p>0&&p<1?0:l,new Go(l,d,p,n.opacity)}function Go(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}function rG(n){return(n=(n||0)%360)<0?n+360:n}function DI(n){return Math.max(0,Math.min(1,n||0))}function lN(n,e,t){return 255*(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)}function iG(n,e,t,r,i){var s=n*n,l=s*n;return((1-3*n+3*s-l)*e+(4-6*s+3*l)*t+(1+3*n+3*s-3*l)*r+l*i)/6}aN(N0,V0,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Zz,formatHex:Zz,formatHex8:function UQ(){return this.rgb().formatHex8()},formatHsl:function HQ(){return nG(this).formatHsl()},formatRgb:Qz,toString:Qz}),aN(ms,EI,Kz(N0,{brighter(n){return n=null==n?wI:Math.pow(wI,n),new ms(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new ms(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ms(Qh(this.r),Qh(this.g),Qh(this.b),CI(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jz,formatHex:Jz,formatHex8:function jQ(){return`#${Xh(this.r)}${Xh(this.g)}${Xh(this.b)}${Xh(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:eG,toString:eG})),aN(Go,function zQ(n,e,t,r){return 1===arguments.length?nG(n):new Go(n,e,t,r??1)},Kz(N0,{brighter(n){return n=null==n?wI:Math.pow(wI,n),new Go(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Go(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new ms(lN(n>=240?n-240:n+120,i,r),lN(n,i,r),lN(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Go(rG(this.h),DI(this.s),DI(this.l),CI(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=CI(this.opacity);return`${1===n?"hsl(":"hsla("}${rG(this.h)}, ${100*DI(this.s)}%, ${100*DI(this.l)}%${1===n?")":`, ${n})`}`}}));const sG=n=>()=>n;function aG(n,e){var t=e-n;return t?function oG(n,e){return function(t){return n+t*e}}(n,t):sG(isNaN(n)?e:n)}const lG=function n(e){var t=function KQ(n){return 1==(n=+n)?aG:function(e,t){return t-e?function qQ(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}(e,t,n):sG(isNaN(e)?t:e)}}(e);function r(i,s){var l=t((i=EI(i)).r,(s=EI(s)).r),d=t(i.g,s.g),p=t(i.b,s.b),m=aG(i.opacity,s.opacity);return function(y){return i.r=l(y),i.g=d(y),i.b=p(y),i.opacity=m(y),i+""}}return r.gamma=n,r}(1);function cG(n){return function(e){var l,d,t=e.length,r=new Array(t),i=new Array(t),s=new Array(t);for(l=0;l<t;++l)d=EI(e[l]),r[l]=d.r||0,i[l]=d.g||0,s[l]=d.b||0;return r=n(r),i=n(i),s=n(s),d.opacity=1,function(p){return d.r=r(p),d.g=i(p),d.b=s(p),d+""}}}cG(function GQ(n){var e=n.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),i=n[r],s=n[r+1];return iG((t-r/e)*e,r>0?n[r-1]:2*i-s,i,s,r<e-1?n[r+2]:2*s-i)}}),cG(function WQ(n){var e=n.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e);return iG((t-r/e)*e,n[(r+e-1)%e],n[r%e],n[(r+1)%e],n[(r+2)%e])}});var cN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uN=new RegExp(cN.source,"g");function QQ(n,e){var r,i,s,t=cN.lastIndex=uN.lastIndex=0,l=-1,d=[],p=[];for(n+="",e+="";(r=cN.exec(n))&&(i=uN.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),d[l]?d[l]+=s:d[++l]=s),(r=r[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,p.push({i:l,x:Lu(r,i)})),t=uN.lastIndex;return t<e.length&&(s=e.slice(t),d[l]?d[l]+=s:d[++l]=s),d.length<2?p[0]?function ZQ(n){return function(e){return n(e)+""}}(p[0].x):function YQ(n){return function(){return n}}(e):(e=p.length,function(m){for(var C,y=0;y<e;++y)d[(C=p[y]).i]=C.x(m);return d.join("")})}function uG(n,e){var t;return("number"==typeof e?Lu:e instanceof V0?lG:(t=V0(e))?(e=t,lG):QQ)(n,e)}function XQ(n){return function(){this.removeAttribute(n)}}function JQ(n){return function(){this.removeAttributeNS(n.space,n.local)}}function eX(n,e,t){var r,s,i=t+"";return function(){var l=this.getAttribute(n);return l===i?null:l===r?s:s=e(r=l,t)}}function tX(n,e,t){var r,s,i=t+"";return function(){var l=this.getAttributeNS(n.space,n.local);return l===i?null:l===r?s:s=e(r=l,t)}}function nX(n,e,t){var r,i,s;return function(){var l,p,d=t(this);return null==d?void this.removeAttribute(n):(l=this.getAttribute(n))===(p=d+"")?null:l===r&&p===i?s:(i=p,s=e(r=l,d))}}function rX(n,e,t){var r,i,s;return function(){var l,p,d=t(this);return null==d?void this.removeAttributeNS(n.space,n.local):(l=this.getAttributeNS(n.space,n.local))===(p=d+"")?null:l===r&&p===i?s:(i=p,s=e(r=l,d))}}function aX(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&function oX(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}(n,s)),t}return i._value=e,i}function lX(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&function sX(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}(n,s)),t}return i._value=e,i}function uX(n,e){return function(){iN(this,n).delay=+e.apply(this,arguments)}}function dX(n,e){return e=+e,function(){iN(this,n).delay=e}}function fX(n,e){return function(){Va(this,n).duration=+e.apply(this,arguments)}}function pX(n,e){return e=+e,function(){Va(this,n).duration=e}}var xX=M0.prototype.constructor;function dG(n){return function(){this.style.removeProperty(n)}}var qX=0;function zl(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function hG(){return++qX}var Gl=M0.prototype;zl.prototype=function KX(n){return M0().transition(n)}.prototype={constructor:zl,select:function SX(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=Q1(n));for(var r=this._groups,i=r.length,s=new Array(i),l=0;l<i;++l)for(var y,C,d=r[l],p=d.length,m=s[l]=new Array(p),T=0;T<p;++T)(y=d[T])&&(C=n.call(y,y.__data__,T,d))&&("__data__"in y&&(C.__data__=y.__data__),m[T]=C,_I(m[T],e,t,T,m,zo(y,t)));return new zl(s,this._parents,e,t)},selectAll:function AX(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=wz(n));for(var r=this._groups,i=r.length,s=[],l=[],d=0;d<i;++d)for(var y,p=r[d],m=p.length,C=0;C<m;++C)if(y=p[C]){for(var A,T=n.call(y,y.__data__,C,p),O=zo(y,t),V=0,P=T.length;V<P;++V)(A=T[V])&&_I(A,e,t,V,T,O);s.push(T),l.push(y)}return new zl(s,l,e,t)},selectChild:Gl.selectChild,selectChildren:Gl.selectChildren,filter:function wX(n){"function"!=typeof n&&(n=bz(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var p,s=e[i],l=s.length,d=r[i]=[],m=0;m<l;++m)(p=s[m])&&n.call(p,p.__data__,m,s)&&d.push(p);return new zl(r,this._parents,this._name,this._id)},merge:function bX(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,s=Math.min(r,t.length),l=new Array(r),d=0;d<s;++d)for(var T,p=e[d],m=t[d],y=p.length,C=l[d]=new Array(y),A=0;A<y;++A)(T=p[A]||m[A])&&(C[A]=T);for(;d<r;++d)l[d]=e[d];return new zl(l,this._parents,this._name,this._id)},selection:function MX(){return new xX(this._groups,this._parents)},transition:function GX(){for(var n=this._name,e=this._id,t=hG(),r=this._groups,i=r.length,s=0;s<i;++s)for(var p,l=r[s],d=l.length,m=0;m<d;++m)if(p=l[m]){var y=zo(p,e);_I(p,n,t,m,l,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new zl(r,this._parents,n,t)},call:Gl.call,nodes:Gl.nodes,node:Gl.node,size:Gl.size,empty:Gl.empty,each:Gl.each,on:function DX(n,e){var t=this._id;return arguments.length<2?zo(this.node(),t).on.on(n):this.each(function CX(n,e,t){var r,i,s=function EX(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(e)?iN:Va;return function(){var l=s(this,n),d=l.on;d!==r&&(i=(r=d).copy()).on(e,t),l.on=i}}(t,n,e))},attr:function iX(n,e){var t=cI(n),r="transform"===t?xQ:uG;return this.attrTween(n,"function"==typeof e?(t.local?rX:nX)(t,r,oN(this,"attr."+n,e)):null==e?(t.local?JQ:XQ)(t):(t.local?tX:eX)(t,r,e))},attrTween:function cX(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;var r=cI(n);return this.tween(t,(r.local?aX:lX)(r,e))},style:function NX(n,e,t){var r="transform"==(n+="")?AQ:uG;return null==e?this.styleTween(n,function RX(n,e){var t,r,i;return function(){var s=om(this,n),l=(this.style.removeProperty(n),om(this,n));return s===l?null:s===t&&l===r?i:i=e(t=s,r=l)}}(n,r)).on("end.style."+n,dG(n)):"function"==typeof e?this.styleTween(n,function kX(n,e,t){var r,i,s;return function(){var l=om(this,n),d=t(this),p=d+"";return null==d&&(this.style.removeProperty(n),p=d=om(this,n)),l===p?null:l===r&&p===i?s:(i=p,s=e(r=l,d))}}(n,r,oN(this,"style."+n,e))).each(function PX(n,e){var t,r,i,d,s="style."+e,l="end."+s;return function(){var p=Va(this,n),m=p.on,y=null==p.value[s]?d||(d=dG(e)):void 0;(m!==t||i!==y)&&(r=(t=m).copy()).on(l,i=y),p.on=r}}(this._id,n)):this.styleTween(n,function OX(n,e,t){var r,s,i=t+"";return function(){var l=om(this,n);return l===i?null:l===r?s:s=e(r=l,t)}}(n,r,e),t).on("end.style."+n,null)},styleTween:function VX(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function LX(n,e,t){var r,i;function s(){var l=e.apply(this,arguments);return l!==i&&(r=(i=l)&&function FX(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}(n,l,t)),r}return s._value=e,s}(n,e,t??""))},text:function HX(n){return this.tween("text","function"==typeof n?function UX(n){return function(){var e=n(this);this.textContent=e??""}}(oN(this,"text",n)):function BX(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function zX(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,function jX(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&function $X(n){return function(e){this.textContent=n.call(this,e)}}(i)),e}return r._value=n,r}(n))},remove:function TX(){return this.on("end.remove",function IX(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}(this._id))},tween:function OQ(n,e){var t=this._id;if(n+="",arguments.length<2){for(var l,r=zo(this.node(),t).tween,i=0,s=r.length;i<s;++i)if((l=r[i]).name===n)return l.value;return null}return this.each((null==e?MQ:RQ)(t,n,e))},delay:function hX(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?uX:dX)(e,n)):zo(this.node(),e).delay},duration:function gX(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?fX:pX)(e,n)):zo(this.node(),e).duration},ease:function _X(n){var e=this._id;return arguments.length?this.each(function mX(n,e){if("function"!=typeof e)throw new Error;return function(){Va(this,n).ease=e}}(e,n)):zo(this.node(),e).ease},easeVarying:function vX(n){if("function"!=typeof n)throw new Error;return this.each(function yX(n,e){return function(){var t=e.apply(this,arguments);if("function"!=typeof t)throw new Error;Va(this,n).ease=t}}(this._id,n))},end:function WX(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(s,l){var d={value:l},p={value:function(){0==--i&&s()}};t.each(function(){var m=Va(this,r),y=m.on;y!==n&&((e=(n=y).copy())._.cancel.push(d),e._.interrupt.push(d),e._.end.push(p)),m.on=e}),0===i&&s()})},[Symbol.iterator]:Gl[Symbol.iterator]};var ZX={time:null,delay:0,duration:250,ease:function YX(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function QX(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}M0.prototype.interrupt=function IQ(n){return this.each(function(){yI(this,n)})},M0.prototype.transition=function XX(n){var e,t;n instanceof zl?(e=n._id,n=n._name):(e=hG(),(t=ZX).time=eN(),n=null==n?null:n+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var p,l=r[s],d=l.length,m=0;m<d;++m)(p=l[m])&&_I(p,n,e,m,l,t||QX(p,e));return new zl(r,this._parents,n,e)};Math;function B0(n){return{type:n}}function oJ(n){var e=0,t=n.children,r=t&&t.length;if(r)for(;--r>=0;)e+=t[r].value;else e=1;n.value=e}function dm(n,e){n instanceof Map?(n=[void 0,n],void 0===e&&(e=CJ)):void 0===e&&(e=EJ);for(var r,s,l,d,p,t=new U0(n),i=[t];r=i.pop();)if((l=e(r.data))&&(p=(l=Array.from(l)).length))for(r.children=l,d=p-1;d>=0;--d)i.push(s=l[d]=new U0(l[d])),s.parent=r,s.depth=r.depth+1;return t.eachBefore(IJ)}function EJ(n){return n.children}function CJ(n){return Array.isArray(n)?n[1]:null}function DJ(n){void 0!==n.data.value&&(n.value=n.data.value),n.data=n.data.data}function IJ(n){var e=0;do{n.height=e}while((n=n.parent)&&n.height<++e)}function U0(n){this.data=n,this.depth=this.height=0,this.parent=null}function TJ(n,e){return n.parent===e.parent?1:2}function gN(n){var e=n.children;return e?e[0]:n.t}function mN(n){var e=n.children;return e?e[e.length-1]:n.t}function SJ(n,e,t){var r=t/(e.i-n.i);e.c-=r,e.s+=t,n.c+=r,e.z+=t,e.m+=t}function xJ(n,e,t){return n.a.parent===e.parent?n.a:t}function SI(n,e){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function yG(){var n=TJ,e=1,t=1,r=null;function i(m){var y=function MJ(n){for(var t,i,s,l,d,e=new SI(n,0),r=[e];t=r.pop();)if(s=t._.children)for(t.children=new Array(d=s.length),l=d-1;l>=0;--l)r.push(i=t.children[l]=new SI(s[l],l)),i.parent=t;return(e.parent=new SI(null,0)).children=[e],e}(m);if(y.eachAfter(s),y.parent.m=-y.z,y.eachBefore(l),r)m.eachBefore(p);else{var C=m,T=m,A=m;m.eachBefore(function(se){se.x<C.x&&(C=se),se.x>T.x&&(T=se),se.depth>A.depth&&(A=se)});var O=C===T?1:n(C,T)/2,V=O-C.x,P=e/(T.x+O+V),z=t/(A.depth||1);m.eachBefore(function(se){se.x=(se.x+V)*P,se.y=se.depth*z})}return m}function s(m){var y=m.children,C=m.parent.children,T=m.i?C[m.i-1]:null;if(y){!function AJ(n){for(var s,e=0,t=0,r=n.children,i=r.length;--i>=0;)(s=r[i]).z+=e,s.m+=e,e+=s.s+(t+=s.c)}(m);var A=(y[0].z+y[y.length-1].z)/2;T?(m.z=T.z+n(m._,T._),m.m=m.z-A):m.z=A}else T&&(m.z=T.z+n(m._,T._));m.parent.A=function d(m,y,C){if(y){for(var Se,T=m,A=m,O=y,V=T.parent.children[0],P=T.m,z=A.m,se=O.m,ue=V.m;O=mN(O),T=gN(T),O&&T;)V=gN(V),(A=mN(A)).a=m,(Se=O.z+se-T.z-P+n(O._,T._))>0&&(SJ(xJ(O,m,C),m,Se),P+=Se,z+=Se),se+=O.m,P+=T.m,ue+=V.m,z+=A.m;O&&!mN(A)&&(A.t=O,A.m+=se-z),T&&!gN(V)&&(V.t=T,V.m+=P-ue,C=m)}return C}(m,T,m.parent.A||C[0])}function l(m){m._.x=m.z+m.parent.m,m.m+=m.parent.m}function p(m){m.x*=e,m.y=m.depth*t}return i.separation=function(m){return arguments.length?(n=m,i):n},i.size=function(m){return arguments.length?(r=!1,e=+m[0],t=+m[1],i):r?null:[e,t]},i.nodeSize=function(m){return arguments.length?(r=!0,e=+m[0],t=+m[1],i):r?[e,t]:null},i}function Vu(n){return"string"==typeof n?new Hs([[document.querySelector(n)]],[document.documentElement]):new Hs([[n]],Oz)}["w","e"].map(B0),["n","s"].map(B0),["n","w","e","s","nw","ne","sw","se"].map(B0),U0.prototype=dm.prototype={constructor:U0,count:function aJ(){return this.eachAfter(oJ)},each:function lJ(n,e){let t=-1;for(const r of this)n.call(e,r,++t,this);return this},eachAfter:function uJ(n,e){for(var s,l,d,t=this,r=[t],i=[],p=-1;t=r.pop();)if(i.push(t),s=t.children)for(l=0,d=s.length;l<d;++l)r.push(s[l]);for(;t=i.pop();)n.call(e,t,++p,this);return this},eachBefore:function cJ(n,e){for(var i,s,t=this,r=[t],l=-1;t=r.pop();)if(n.call(e,t,++l,this),i=t.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this},find:function dJ(n,e){let t=-1;for(const r of this)if(n.call(e,r,++t,this))return r},sum:function hJ(n){return this.eachAfter(function(e){for(var t=+n(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)t+=r[i].value;e.value=t})},sort:function fJ(n){return this.eachBefore(function(e){e.children&&e.children.sort(n)})},path:function pJ(n){for(var e=this,t=function gJ(n,e){if(n===e)return n;var t=n.ancestors(),r=e.ancestors(),i=null;for(n=t.pop(),e=r.pop();n===e;)i=n,n=t.pop(),e=r.pop();return i}(e,n),r=[e];e!==t;)r.push(e=e.parent);for(var i=r.length;n!==t;)r.splice(i,0,n),n=n.parent;return r},ancestors:function mJ(){for(var n=this,e=[n];n=n.parent;)e.push(n);return e},descendants:function _J(){return Array.from(this)},leaves:function yJ(){var n=[];return this.eachBefore(function(e){e.children||n.push(e)}),n},links:function vJ(){var n=this,e=[];return n.each(function(t){t!==n&&e.push({source:t.parent,target:t})}),e},copy:function bJ(){return dm(this).eachBefore(DJ)},[Symbol.iterator]:function*wJ(){var e,r,i,s,n=this,t=[n];do{for(e=t.reverse(),t=[];n=e.pop();)if(yield n,r=n.children)for(i=0,s=r.length;i<s;++i)t.push(r[i])}while(t.length)}},SI.prototype=Object.create(U0.prototype);var RJ=Array.prototype.slice;function vG(n){return function(){return n}}class wG{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function kJ(n){return new wG(n,!1)}const _N=Math.PI,yN=2*_N,Jh=1e-6,PJ=yN-Jh;function bG(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}class AI{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?bG:function NJ(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return bG;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,l){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,(s=+s)<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,p=r-e,m=i-t,y=l-e,C=d-t,T=y*y+C*C;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(T>Jh)if(Math.abs(C*p-m*y)>Jh&&s){let A=r-l,O=i-d,V=p*p+m*m,P=A*A+O*O,z=Math.sqrt(V),se=Math.sqrt(T),ue=s*Math.tan((_N-Math.acos((V+T-P)/(2*z*se)))/2),Se=ue/se,He=ue/z;Math.abs(Se-1)>Jh&&this._append`L${e+Se*y},${t+Se*C}`,this._append`A${s},${s},0,0,${+(C*A>y*O)},${this._x1=e+He*p},${this._y1=t+He*m}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,i,s,l){if(e=+e,t=+t,l=!!l,(r=+r)<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),p=r*Math.sin(i),m=e+d,y=t+p,C=1^l,T=l?i-s:s-i;null===this._x1?this._append`M${m},${y}`:(Math.abs(this._x1-m)>Jh||Math.abs(this._y1-y)>Jh)&&this._append`L${m},${y}`,r&&(T<0&&(T=T%yN+yN),T>PJ?this._append`A${r},${r},0,1,${C},${e-d},${t-p}A${r},${r},0,1,${C},${this._x1=m},${this._y1=y}`:T>Jh&&this._append`A${r},${r},0,${+(T>=_N)},${C},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function VJ(n){return n[0]}function BJ(n){return n[1]}function UJ(n){return n.source}function HJ(n){return n.target}function EG(){return function vN(n){let e=UJ,t=HJ,r=VJ,i=BJ,s=null,l=null,d=function LJ(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(null==t)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new AI(e)}(p);function p(){let m;const y=RJ.call(arguments),C=e.apply(this,y),T=t.apply(this,y);if(null==s&&(l=n(m=d())),l.lineStart(),y[0]=C,l.point(+r.apply(this,y),+i.apply(this,y)),y[0]=T,l.point(+r.apply(this,y),+i.apply(this,y)),l.lineEnd(),m)return l=null,m+""||null}return p.source=function(m){return arguments.length?(e=m,p):e},p.target=function(m){return arguments.length?(t=m,p):t},p.x=function(m){return arguments.length?(r="function"==typeof m?m:vG(+m),p):r},p.y=function(m){return arguments.length?(i="function"==typeof m?m:vG(+m),p):i},p.context=function(m){return arguments.length?(null==m?s=l=null:l=n(s=m),p):s},p}(kJ)}const wN={capture:!0,passive:!1};function bN(n){n.preventDefault(),n.stopImmediatePropagation()}var zJ=1e-12;function CG(n){return((n=Math.exp(n))+1/n)/2}const qJ=function n(e,t,r){function i(s,l){var P,z,d=s[0],p=s[1],m=s[2],T=l[2],A=l[0]-d,O=l[1]-p,V=A*A+O*O;if(V<zJ)z=Math.log(T/m)/e,P=function(xt){return[d+xt*A,p+xt*O,m*Math.exp(e*xt*z)]};else{var se=Math.sqrt(V),ue=(T*T-m*m+r*V)/(2*m*t*se),Se=(T*T-m*m-r*V)/(2*T*t*se),He=Math.log(Math.sqrt(ue*ue+1)-ue),et=Math.log(Math.sqrt(Se*Se+1)-Se);z=(et-He)/e,P=function(xt){var Gt=xt*z,yn=CG(He),rn=m/(t*se)*(yn*function WJ(n){return((n=Math.exp(2*n))-1)/(n+1)}(e*Gt+He)-function GJ(n){return((n=Math.exp(n))-1/n)/2}(He));return[d+rn*A,p+rn*O,m*yn/CG(e*Gt+He)]}}return P.duration=1e3*z*e/Math.SQRT2,P}return i.rho=function(s){var l=Math.max(.001,+s),d=l*l;return n(l,d,d*d)},i}(Math.SQRT2,2,4);function ef(n,e){if(n=function KJ(n){let e;for(;e=n.sourceEvent;)n=e;return n}(n),void 0===e&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop]}}return[n.pageX,n.pageY]}const xI=n=>()=>n;function YJ(n,{sourceEvent:e,target:t,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ql(n,e,t){this.k=n,this.x=e,this.y=t}ql.prototype={constructor:ql,scale:function(n){return 1===n?this:new ql(this.k*n,this.x,this.y)},translate:function(n,e){return 0===n&0===e?this:new ql(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var MI=new ql(1,0,0);function EN(n){n.stopImmediatePropagation()}function H0(n){n.preventDefault(),n.stopImmediatePropagation()}function QJ(n){return!(n.ctrlKey&&"wheel"!==n.type||n.button)}function XJ(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n).hasAttribute("viewBox")?[[(n=n.viewBox.baseVal).x,n.y],[n.x+n.width,n.y+n.height]]:[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]:[[0,0],[n.clientWidth,n.clientHeight]]}function DG(){return this.__zoom||MI}function JJ(n){return-n.deltaY*(1===n.deltaMode?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function eee(){return navigator.maxTouchPoints||"ontouchstart"in this}function tee(n,e,t){var r=n.invertX(e[0][0])-t[0][0],i=n.invertX(e[1][0])-t[1][0],s=n.invertY(e[0][1])-t[0][1],l=n.invertY(e[1][1])-t[1][1];return n.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>s?(s+l)/2:Math.min(0,s)||Math.max(0,l))}let ree=(()=>{const e=class{constructor(r){this.platformId=r,this.treeInfo={nr_people:0,inverted:!1},this.width=0,this.height=0,this.innerWidth=0,this.innerHeight=0,this.margin={top:0,right:0,bottom:0,left:0},ym(this.platformId)&&(this.width=document.body.clientWidth,this.height=document.body.clientHeight,this.innerWidth=this.width-this.margin.left-this.margin.right,this.innerHeight=this.height-this.margin.top-this.margin.bottom)}ngAfterViewInit(){this.svg=Vu("svg#tree-svg").attr("width",this.width).attr("height",this.height),this.svg.append("defs").append("pattern").attr("id","grid-pattern").attr("width",20).attr("height",20).append("path").attr("d","M 20 0 L 0 0 0 20").attr("fill","none").attr("stroke","#ddd").attr("stroke-width",.5),this.svg.append("rect").attr("width",this.width).attr("height",this.height).attr("fill","url(#grid-pattern)"),this.g=this.svg.append("g").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`);const i=function nee(){var y,C,T,n=QJ,e=XJ,t=tee,r=JJ,i=eee,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],d=250,p=qJ,m=Fz("start","zoom","end"),A=500,O=150,V=0,P=10;function z(ae){ae.property("__zoom",DG).on("wheel.zoom",Gt,{passive:!1}).on("mousedown.zoom",yn).on("dblclick.zoom",rn).filter(i).on("touchstart.zoom",fr).on("touchmove.zoom",Hi).on("touchend.zoom touchcancel.zoom",Tn).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function se(ae,tt){return(tt=Math.max(s[0],Math.min(s[1],tt)))===ae.k?ae:new ql(tt,ae.x,ae.y)}function ue(ae,tt,Z){var ge=tt[0]-Z[0]*ae.k,Me=tt[1]-Z[1]*ae.k;return ge===ae.x&&Me===ae.y?ae:new ql(ae.k,ge,Me)}function Se(ae){return[(+ae[0][0]+ +ae[1][0])/2,(+ae[0][1]+ +ae[1][1])/2]}function He(ae,tt,Z,ge){ae.on("start.zoom",function(){et(this,arguments).event(ge).start()}).on("interrupt.zoom end.zoom",function(){et(this,arguments).event(ge).end()}).tween("zoom",function(){var Me=this,Fe=arguments,Qe=et(Me,Fe).event(ge),vt=e.apply(Me,Fe),Ct=null==Z?Se(vt):"function"==typeof Z?Z.apply(Me,Fe):Z,er=Math.max(vt[1][0]-vt[0][0],vt[1][1]-vt[0][1]),Ut=Me.__zoom,zr="function"==typeof tt?tt.apply(Me,Fe):tt,$i=p(Ut.invert(Ct).concat(er/Ut.k),zr.invert(Ct).concat(er/zr.k));return function(Yt){if(1===Yt)Yt=zr;else{var tr=$i(Yt),Gr=er/tr[2];Yt=new ql(Gr,Ct[0]-tr[0]*Gr,Ct[1]-tr[1]*Gr)}Qe.zoom(null,Yt)}})}function et(ae,tt,Z){return!Z&&ae.__zooming||new xt(ae,tt)}function xt(ae,tt){this.that=ae,this.args=tt,this.active=0,this.sourceEvent=null,this.extent=e.apply(ae,tt),this.taps=0}function Gt(ae,...tt){if(n.apply(this,arguments)){var Z=et(this,tt).event(ae),ge=this.__zoom,Me=Math.max(s[0],Math.min(s[1],ge.k*Math.pow(2,r.apply(this,arguments)))),Fe=ef(ae);if(Z.wheel)(Z.mouse[0][0]!==Fe[0]||Z.mouse[0][1]!==Fe[1])&&(Z.mouse[1]=ge.invert(Z.mouse[0]=Fe)),clearTimeout(Z.wheel);else{if(ge.k===Me)return;Z.mouse=[Fe,ge.invert(Fe)],yI(this),Z.start()}H0(ae),Z.wheel=setTimeout(function Qe(){Z.wheel=null,Z.end()},O),Z.zoom("mouse",t(ue(se(ge,Me),Z.mouse[0],Z.mouse[1]),Z.extent,l))}}function yn(ae,...tt){if(!T&&n.apply(this,arguments)){var Z=ae.currentTarget,ge=et(this,tt,!0).event(ae),Me=Vu(ae.view).on("mousemove.zoom",function Ct(Ut){if(H0(Ut),!ge.moved){var zr=Ut.clientX-Qe,$i=Ut.clientY-vt;ge.moved=zr*zr+$i*$i>V}ge.event(Ut).zoom("mouse",t(ue(ge.that.__zoom,ge.mouse[0]=ef(Ut,Z),ge.mouse[1]),ge.extent,l))},!0).on("mouseup.zoom",function er(Ut){Me.on("mousemove.zoom mouseup.zoom",null),function jJ(n,e){var t=n.document.documentElement,r=Vu(n).on("dragstart.drag",null);e&&(r.on("click.drag",bN,wN),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}(Ut.view,ge.moved),H0(Ut),ge.event(Ut).end()},!0),Fe=ef(ae,Z),Qe=ae.clientX,vt=ae.clientY;(function $J(n){var e=n.document.documentElement,t=Vu(n).on("dragstart.drag",bN,wN);"onselectstart"in e?t.on("selectstart.drag",bN,wN):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")})(ae.view),EN(ae),ge.mouse=[Fe,this.__zoom.invert(Fe)],yI(this),ge.start()}}function rn(ae,...tt){if(n.apply(this,arguments)){var Z=this.__zoom,ge=ef(ae.changedTouches?ae.changedTouches[0]:ae,this),Me=Z.invert(ge),Qe=t(ue(se(Z,Z.k*(ae.shiftKey?.5:2)),ge,Me),e.apply(this,tt),l);H0(ae),d>0?Vu(this).transition().duration(d).call(He,Qe,ge,ae):Vu(this).call(z.transform,Qe,ge,ae)}}function fr(ae,...tt){if(n.apply(this,arguments)){var Fe,Qe,vt,Ct,Z=ae.touches,ge=Z.length,Me=et(this,tt,ae.changedTouches.length===ge).event(ae);for(EN(ae),Qe=0;Qe<ge;++Qe)Ct=[Ct=ef(vt=Z[Qe],this),this.__zoom.invert(Ct),vt.identifier],Me.touch0?!Me.touch1&&Me.touch0[2]!==Ct[2]&&(Me.touch1=Ct,Me.taps=0):(Me.touch0=Ct,Fe=!0,Me.taps=1+!!y);y&&(y=clearTimeout(y)),Fe&&(Me.taps<2&&(C=Ct[0],y=setTimeout(function(){y=null},A)),yI(this),Me.start())}}function Hi(ae,...tt){if(this.__zooming){var Fe,Qe,vt,Ct,Z=et(this,tt).event(ae),ge=ae.changedTouches,Me=ge.length;for(H0(ae),Fe=0;Fe<Me;++Fe)vt=ef(Qe=ge[Fe],this),Z.touch0&&Z.touch0[2]===Qe.identifier?Z.touch0[0]=vt:Z.touch1&&Z.touch1[2]===Qe.identifier&&(Z.touch1[0]=vt);if(Qe=Z.that.__zoom,Z.touch1){var er=Z.touch0[0],Ut=Z.touch0[1],zr=Z.touch1[0],$i=Z.touch1[1],Yt=(Yt=zr[0]-er[0])*Yt+(Yt=zr[1]-er[1])*Yt,tr=(tr=$i[0]-Ut[0])*tr+(tr=$i[1]-Ut[1])*tr;Qe=se(Qe,Math.sqrt(Yt/tr)),vt=[(er[0]+zr[0])/2,(er[1]+zr[1])/2],Ct=[(Ut[0]+$i[0])/2,(Ut[1]+$i[1])/2]}else{if(!Z.touch0)return;vt=Z.touch0[0],Ct=Z.touch0[1]}Z.zoom("touch",t(ue(Qe,vt,Ct),Z.extent,l))}}function Tn(ae,...tt){if(this.__zooming){var Fe,Qe,Z=et(this,tt).event(ae),ge=ae.changedTouches,Me=ge.length;for(EN(ae),T&&clearTimeout(T),T=setTimeout(function(){T=null},A),Fe=0;Fe<Me;++Fe)Qe=ge[Fe],Z.touch0&&Z.touch0[2]===Qe.identifier?delete Z.touch0:Z.touch1&&Z.touch1[2]===Qe.identifier&&delete Z.touch1;if(Z.touch1&&!Z.touch0&&(Z.touch0=Z.touch1,delete Z.touch1),Z.touch0)Z.touch0[1]=this.__zoom.invert(Z.touch0[0]);else if(Z.end(),2===Z.taps&&(Qe=ef(Qe,this),Math.hypot(C[0]-Qe[0],C[1]-Qe[1])<P)){var vt=Vu(this).on("dblclick.zoom");vt&&vt.apply(this,arguments)}}}return z.transform=function(ae,tt,Z,ge){var Me=ae.selection?ae.selection():ae;Me.property("__zoom",DG),ae!==Me?He(ae,tt,Z,ge):Me.interrupt().each(function(){et(this,arguments).event(ge).start().zoom(null,"function"==typeof tt?tt.apply(this,arguments):tt).end()})},z.scaleBy=function(ae,tt,Z,ge){z.scaleTo(ae,function(){return this.__zoom.k*("function"==typeof tt?tt.apply(this,arguments):tt)},Z,ge)},z.scaleTo=function(ae,tt,Z,ge){z.transform(ae,function(){var Me=e.apply(this,arguments),Fe=this.__zoom,Qe=null==Z?Se(Me):"function"==typeof Z?Z.apply(this,arguments):Z,vt=Fe.invert(Qe),Ct="function"==typeof tt?tt.apply(this,arguments):tt;return t(ue(se(Fe,Ct),Qe,vt),Me,l)},Z,ge)},z.translateBy=function(ae,tt,Z,ge){z.transform(ae,function(){return t(this.__zoom.translate("function"==typeof tt?tt.apply(this,arguments):tt,"function"==typeof Z?Z.apply(this,arguments):Z),e.apply(this,arguments),l)},null,ge)},z.translateTo=function(ae,tt,Z,ge,Me){z.transform(ae,function(){var Fe=e.apply(this,arguments),Qe=this.__zoom,vt=null==ge?Se(Fe):"function"==typeof ge?ge.apply(this,arguments):ge;return t(MI.translate(vt[0],vt[1]).scale(Qe.k).translate("function"==typeof tt?-tt.apply(this,arguments):-tt,"function"==typeof Z?-Z.apply(this,arguments):-Z),Fe,l)},ge,Me)},xt.prototype={event:function(ae){return ae&&(this.sourceEvent=ae),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(ae,tt){return this.mouse&&"mouse"!==ae&&(this.mouse[1]=tt.invert(this.mouse[0])),this.touch0&&"touch"!==ae&&(this.touch0[1]=tt.invert(this.touch0[0])),this.touch1&&"touch"!==ae&&(this.touch1[1]=tt.invert(this.touch1[0])),this.that.__zoom=tt,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(ae){var tt=Vu(this.that).datum();m.call(ae,this.that,new YJ(ae,{sourceEvent:this.sourceEvent,target:z,type:ae,transform:this.that.__zoom,dispatch:m}),tt)}},z.wheelDelta=function(ae){return arguments.length?(r="function"==typeof ae?ae:xI(+ae),z):r},z.filter=function(ae){return arguments.length?(n="function"==typeof ae?ae:xI(!!ae),z):n},z.touchable=function(ae){return arguments.length?(i="function"==typeof ae?ae:xI(!!ae),z):i},z.extent=function(ae){return arguments.length?(e="function"==typeof ae?ae:xI([[+ae[0][0],+ae[0][1]],[+ae[1][0],+ae[1][1]]]),z):e},z.scaleExtent=function(ae){return arguments.length?(s[0]=+ae[0],s[1]=+ae[1],z):[s[0],s[1]]},z.translateExtent=function(ae){return arguments.length?(l[0][0]=+ae[0][0],l[1][0]=+ae[1][0],l[0][1]=+ae[0][1],l[1][1]=+ae[1][1],z):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},z.constrain=function(ae){return arguments.length?(t=ae,z):t},z.duration=function(ae){return arguments.length?(d=+ae,z):d},z.interpolate=function(ae){return arguments.length?(p=ae,z):p},z.on=function(){var ae=m.on.apply(m,arguments);return ae===m?z:ae},z.clickDistance=function(ae){return arguments.length?(V=(ae=+ae)*ae,z):Math.sqrt(V)},z.tapDistance=function(ae){return arguments.length?(P=+ae,z):P},z}().on("zoom",p=>{this.g.attr("transform",p.transform)});if(this.svg.call(i),this.svg.call(i.transform,MI.translate(this.width/25,this.height/3).scale(.4)),this.treeData){const m=dm(this.treeData).height,y=Math.max(30*m,200),C=10*this.innerWidth;this.treeLayout=yG().size([y,C]);const T=this.treeData.info;console.log("Info Data:",T),T.inverted?(console.log("rendering inverted tree"),this.renderInvertedTree()):(console.log("rendering not inverted tree"),this.renderTree())}}ngOnChanges(){if(this.treeData){const i=dm(this.treeData).height,s=900*i,l=60*i;this.treeLayout=yG().size([s,l]);const d=this.treeData.info;console.log("Info Data:",d),console.log(d.inverted),console.log(d.nr_people),d.inverted?(console.log("rendering inverted tree"),this.renderInvertedTree()):(console.log("rendering not inverted tree"),this.renderTree())}}renderTree(){console.log("Rendering tree with data:",this.treeData),this.g.selectAll("path").remove(),this.g.selectAll("g.node").remove();const r=dm(this.treeData),i=this.treeLayout(r),s=i.links(),l=i.descendants(),d=EG().x(m=>m.x).y(m=>m.y);console.log("Links:",s),console.log("Nodes:",l),this.g.selectAll("path").data(s).enter().append("path").attr("d",m=>d(m)).attr("stroke","#add8e6").attr("fill","none");const p=this.g.selectAll("g.node").data(r.descendants(),m=>m.data.name).enter().append("g").attr("class","node").attr("transform",m=>`translate(${m.x}, ${m.y})`);p.append("text").attr("dy","0.32em").style("font-size",m=>1-.1*m.depth+"em").text(m=>`${m.data?.data?.name||"missing"} & ${m.data?.data?.pname||""}`),p.append("text").attr("dy","1.5em").style("font-size",m=>1-.1*m.depth+"em").attr("fill","gray").text(m=>`${m.data?.data?.by||""} - ${m.data?.data?.dy||""}, ${m.data?.data?.pby||""} - ${m.data?.data?.pdy||""}`)}renderInvertedTree(){console.log("Rendering inverted tree with data:",this.treeData),this.g.selectAll("path").remove(),this.g.selectAll("g.node").remove();const r=dm(this.treeData),i=this.treeLayout(r),s=i.links(),l=i.descendants(),d=EG().x(m=>m.x).y(m=>-m.y);console.log("Links:",s),console.log("Nodes:",l),this.g.selectAll("path").data(s).enter().append("path").attr("d",m=>d(m)).attr("stroke","#add8e6").attr("fill","none");const p=this.g.selectAll("g.node").data(r.descendants(),m=>m.data.name).enter().append("g").attr("class","node").attr("transform",m=>`translate(${m.x}, ${-(m.y??0)})`);p.append("text").attr("dy","0.32em").style("font-size",m=>1-.1*m.depth+"em").text(m=>`${m.data?.data?.name||"missing"}`),p.append("text").attr("dy","1.5em").style("font-size",m=>1-.1*m.depth+"em").attr("fill","gray").text(m=>`${m.data?.data?.by||""} - ${m.data?.data?.dy||""} `)}};let n=e;return e.\u0275fac=function(i){return new(i||e)(f.Y36(f.Lbi))},e.\u0275cmp=f.Xpm({type:e,selectors:[["ftapp-tree-area"]],inputs:{treeData:"treeData",treeInfo:"treeInfo"},features:[f.TTD],decls:3,vars:0,consts:[[1,"scrollable-container"],["id","bar"],["id","tree-svg"]],template:function(i,s){1&i&&(f.TgZ(0,"div",0)(1,"figure",1),f.O4$(),f._UZ(2,"svg",2),f.qZA()())},styles:[".scrollable-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative;border:3px solid #ccc;background-color:#fff}svg[_ngcontent-%COMP%]{width:100%;height:100%;overflow:visible}path[_ngcontent-%COMP%]{fill:none;stroke:#57bdc3}text[_ngcontent-%COMP%]{text-shadow:-1px -1px 3px white,-1px 1px 3px white,1px -1px 3px white,1px 1px 3px white}@media screen and (max-width: 768px){.scrollable-container[_ngcontent-%COMP%]{height:auto;max-height:70vh;overflow-y:auto;padding:10px}}"]}),n})();function iee(n,e){if(1&n){const t=f.EpF();f.ynx(0),f.TgZ(1,"mat-grid-tile",8),f.NdJ("click",function(){const s=f.CHM(t).$implicit,l=f.oxw();return f.KtG(l.onTileClick(s))}),f._uU(2),f.qZA(),f.BQk()}if(2&n){const t=e.$implicit;f.xp6(1),f.Udp("background",t.color),f.Q6J("colspan",t.cols)("rowspan",t.rows),f.xp6(1),f.hij(" ",t.text," ")}}let see=(()=>{const e=class{constructor(){this.parentId=1,this.firestore=(0,f.f3M)(aI),this.tiletext="Inverted",this.tiles=[]}ngOnInit(){this.fetchAvailableCollections().subscribe(r=>{this.tiles=r.map((i,s)=>({text:i,cols:2,rows:1,color:this.getRandomColor()})),console.log(this.tiles)}),this.fetchPersonWithChildren(this.parentId,"Inverted").subscribe(r=>{this.jsonData=r,console.log("Final JSON Data:",JSON.stringify(this.jsonData,null,2))})}fetchPersonWithChildren(r,i,s=!0){const l=W1(this.firestore,`${i}/${r}`),d=s?W1(this.firestore,`${i}/information`):null;return new ar.y(p=>{const m=()=>new ar.y(y=>{q1(l).then(C=>{if(C.exists()){const T=C.data();T.children&&0!==T.children.length?rg(T.children.map(O=>this.fetchPersonWithChildren(O,i,!1).pipe(Zi(V=>(console.error(`Error fetching child ${O}:`,V),it(null)))))).subscribe(O=>{const V=O.filter(P=>null!==P);y.next({data:{...T,children:void 0},children:V}),y.complete()}):(y.next({data:T,children:[]}),y.complete())}else console.error(`No such document for person ID: ${r}`),y.next(null),y.complete()}).catch(C=>{console.error(`Error fetching person ${r}:`,C),y.next(null),y.complete()})});s?q1(d).then(y=>{if(!y.exists())return console.error(`No such document for collection info in: ${i}`),p.next(null),void p.complete();const C=y.data();m().subscribe(T=>{p.next({info:C,...T}),p.complete()})}).catch(y=>{console.error(`Error fetching collection info: ${y}`),p.next(null),p.complete()}):m().subscribe(y=>{p.next(y),p.complete()})})}fetchAvailableCollections(){const r=W1(this.firestore,"Collections_metadata","1");return console.log("Fetching available collections..."),new ar.y(i=>{q1(r).then(s=>{if(s.exists()){console.log("Firestore document received:",s.data());const l=s.data().Collections;l&&l.length>0?(console.log("Collections found:",l),i.next(l)):(console.warn("No collections found in the document."),i.next([]))}else console.warn("Document not found."),i.next([]);i.complete()}).catch(s=>{console.error("Error fetching collections metadata:",s),i.next([]),i.complete()})})}getRandomColor(){const r=["#0000FF","#00FFFF","#33FFFF","#66FFFF","#3333FF","#000066","#000088","#000099","#1E90FF","#4682B4","#5F9EA0"];return r[Math.floor(Math.random()*r.length)]}onTileClick(r){this.tiletext=r.text,console.log("Tile clicked:",r.text),this.fetchPersonWithChildren(this.parentId,r.text).subscribe(i=>{this.jsonData=i,console.log("Final JSON Data:",JSON.stringify(this.jsonData,null,2))})}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["ftapp-desktop"]],decls:12,vars:4,consts:[[1,"table-grid"],["hideToggle","",1,"table-expansion-panel"],[1,"exp-panel-title"],["cols","4","rowHeight","100px"],[4,"ngFor","ngForOf"],[1,"scrollable-container"],[3,"treeData"],[1,"tree-info"],[3,"colspan","rowspan","click"]],template:function(i,s){1&i&&(f.TgZ(0,"div",0)(1,"mat-accordion")(2,"mat-expansion-panel",1)(3,"mat-expansion-panel-header")(4,"mat-panel-title",2),f._uU(5," See other trees "),f.qZA()(),f.TgZ(6,"mat-grid-list",3),f.YNc(7,iee,3,5,"ng-container",4),f.qZA()()()(),f.TgZ(8,"div",5),f._UZ(9,"ftapp-tree-area",6),f.qZA(),f.TgZ(10,"p",7),f._uU(11),f.qZA()),2&i&&(f.xp6(7),f.Q6J("ngForOf",s.tiles),f.xp6(2),f.Q6J("treeData",s.jsonData),f.xp6(2),f.AsE("",s.tiletext," tree: ",null==s.jsonData||null==s.jsonData.info?null:s.jsonData.info.nr_people," people"))},dependencies:[qo,IY,pz,gz,DY,NY,yz,ree],styles:[".mat-tab-group[_ngcontent-%COMP%], .mat-tab[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]{width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{width:100%;min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:16px;text-align:left;min-width:120px}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{flex:1 1 auto;word-wrap:break-word}.table-expansion-panel[_ngcontent-%COMP%]{background-color:#fff;color:#fff;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;cursor:pointer}.exp-panel-title[_ngcontent-%COMP%]{color:#000;text-shadow:none}.table-grid[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:20px}.tree-info[_ngcontent-%COMP%]{color:#9b9b9bc2;font-size:12px;margin:10px}.horizontal-layout[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;justify-content:flex-start}.expansion-panel-label[_ngcontent-%COMP%]{margin-right:20px;font-weight:700}.slider-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.button-container[_ngcontent-%COMP%], .button-primary[_ngcontent-%COMP%]{margin-left:20px}@media screen and (max-width: 768px){.horizontal-layout[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px;padding:10px;width:100%;max-height:50vh;overflow-y:auto}.button-container[_ngcontent-%COMP%], .button-primary[_ngcontent-%COMP%]{margin-left:0;margin-top:10px;width:100%;box-sizing:border-box}.slider-container[_ngcontent-%COMP%]{width:100%;margin-top:10px}.some-text-class[_ngcontent-%COMP%]{font-size:14px;line-height:1.4}}@media (hover: none){.mat-expansion-panel[_ngcontent-%COMP%]:not(.mat-expanded)   .mat-expansion-panel-header[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:#fff!important}}"]}),n})(),oee=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["ftapp-footer"]],decls:4,vars:0,consts:[[1,"bottom-card"],[1,"footer-content"]],template:function(i,s){1&i&&(f.TgZ(0,"footer",0)(1,"div",1)(2,"p"),f._uU(3,"Boros Titusz - 2024"),f.qZA()()())},styles:[".bottom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#333;color:#fff;border-top:1px solid #444;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:center;align-items:center;padding:10px}.footer-content[_ngcontent-%COMP%]{text-align:center}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.footer-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:14px;cursor:pointer;transition:background-color .3s ease}.footer-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),n})();const aee=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["ftapp-home"]],decls:3,vars:0,template:function(i,s){1&i&&f._UZ(0,"ftapp-header")(1,"ftapp-desktop")(2,"ftapp-footer")},dependencies:[C4,see,oee],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;overflow:hidden}ftapp-top-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#fff;color:#fff;z-index:1000;height:64px}ftapp-bottom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#333;color:#fff;border-top:1px solid #444;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:center;align-items:center;padding:10px;height:60px}ftapp-desktop[_ngcontent-%COMP%]{margin-top:400px;margin-bottom:400px;padding:16px;height:calc(100vh - 124px);overflow:auto}"]}),n})()},{path:"**",component:R_}];let lee=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[rS.forRoot(aee),rS]}),n})(),cee=(()=>{const e=class{constructor(){this.title="familytreeapp"}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["ftapp-root"]],decls:1,vars:0,template:function(i,s){1&i&&f._UZ(0,"router-outlet")},dependencies:[r_],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;overflow:hidden}ftapp-top-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#fff;color:#fff;z-index:1000;height:64px}ftapp-bottom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#333;color:#fff;border-top:1px solid #444;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:center;align-items:center;padding:10px;height:60px}ftapp-desktop[_ngcontent-%COMP%]{margin-top:400px;margin-bottom:400px;padding:16px;height:calc(100vh - 124px);overflow:auto}"]}),n})();var uee=R(6386);function IG(n){return new f.vHH(3e3,!1)}function Gee(){return typeof window<"u"&&typeof window.document<"u"}function CN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Bu(n){switch(n.length){case 0:return new ou;case 1:return n[0];default:return new Yp(n)}}function TG(n,e,t,r,i=new Map,s=new Map){const l=[],d=[];let p=-1,m=null;if(r.forEach(y=>{const C=y.get("offset"),T=C==p,A=T&&m||new Map;y.forEach((O,V)=>{let P=V,z=O;if("offset"!==V)switch(P=e.normalizePropertyName(P,l),z){case Zp:z=i.get(V);break;case Lo:z=s.get(V);break;default:z=e.normalizeStyleValue(V,P,z,l)}A.set(P,z)}),T||d.push(A),m=A,p=C}),l.length)throw function kee(n){return new f.vHH(3502,!1)}();return d}function DN(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&IN(t,"start",n)));break;case"done":n.onDone(()=>r(t&&IN(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&IN(t,"destroy",n)))}}function IN(n,e,t){const s=TN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function TN(n,e,t,r,i="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!l}}function $s(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function SG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let SN=(n,e)=>!1,AG=(n,e,t)=>[],xG=null;function AN(n){const e=n.parentNode||n.host;return e===xG?null:e}(CN()||typeof Element<"u")&&(Gee()?(xG=(()=>document.documentElement)(),SN=(n,e)=>{for(;e;){if(e===n)return!0;e=AN(e)}return!1}):SN=(n,e)=>n.contains(e),AG=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let tf=null,MG=!1;const RG=SN,OG=AG;let kG=(()=>{class n{validateStyleProperty(t){return function qee(n){tf||(tf=function Kee(){return typeof document<"u"?document.body:null}()||{},MG=!!tf.style&&"WebkitAppearance"in tf.style);let e=!0;return tf.style&&!function Wee(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in tf.style,!e&&MG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in tf.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return RG(t,r)}getParentElement(t){return AN(t)}query(t,r,i){return OG(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,l,d=[],p){return new ou(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),xN=(()=>{class n{}return n.NOOP=new kG,n})();const Yee=1e3,MN="ng-enter",RI="ng-leave",OI="ng-trigger",kI=".ng-trigger",NG="ng-animating",RN=".ng-animating";function Kl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ON(parseFloat(e[1]),e[2])}function ON(n,e){return"s"===e?n*Yee:n}function PI(n,e,t){return n.hasOwnProperty("duration")?n:function Qee(n,e,t){let i,s=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(IG()),{duration:0,delay:0,easing:""};i=ON(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=ON(parseFloat(p),d[4]));const m=d[5];m&&(l=m)}else i=n;if(!t){let d=!1,p=e.length;i<0&&(e.push(function dee(){return new f.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function hee(){return new f.vHH(3101,!1)}()),d=!0),d&&e.splice(p,0,IG())}return{duration:i,delay:s,easing:l}}(n,e,t)}function $0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function FG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Uu(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function VG(n,e,t){return t?e+":"+t+";":""}function BG(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=VG(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=VG(0,tte(t),n.style[t]));n.setAttribute("style",e)}function Ua(n,e,t){n.style&&(e.forEach((r,i)=>{const s=PN(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),CN()&&BG(n))}function nf(n,e){n.style&&(e.forEach((t,r)=>{const i=PN(r);n.style[i]=""}),CN()&&BG(n))}function j0(n){return Array.isArray(n)?1==n.length?n[0]:qp(n):n}const kN=new RegExp("{{\\s*(.+?)\\s*}}","g");function UG(n){let e=[];if("string"==typeof n){let t;for(;t=kN.exec(n);)e.push(t[1]);kN.lastIndex=0}return e}function z0(n,e,t){const r=n.toString(),i=r.replace(kN,(s,l)=>{let d=e[l];return null==d&&(t.push(function pee(n){return new f.vHH(3003,!1)}()),d=""),d.toString()});return i==r?n:i}function NI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ete=/-+([a-z0-9])/g;function PN(n){return n.replace(ete,(...e)=>e[1].toUpperCase())}function tte(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function js(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gee(n){return new f.vHH(3004,!1)}()}}function HG(n,e){return window.getComputedStyle(n)[e]}const VI="*";function ate(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function lte(n,e,t){if(":"==n[0]){const p=function cte(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function xee(n){return new f.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Aee(n){return new f.vHH(3015,!1)}()),e;const i=r[1],s=r[2],l=r[3];e.push($G(i,l));"<"==s[0]&&!(i==VI&&l==VI)&&e.push($G(l,i))}(r,t,e)):t.push(n),t}const BI=new Set(["true","1"]),UI=new Set(["false","0"]);function $G(n,e){const t=BI.has(n)||UI.has(n),r=BI.has(e)||UI.has(e);return(i,s)=>{let l=n==VI||n==i,d=e==VI||e==s;return!l&&t&&"boolean"==typeof i&&(l=i?BI.has(n):UI.has(n)),!d&&r&&"boolean"==typeof s&&(d=s?BI.has(e):UI.has(e)),l&&d}}const ute=new RegExp("s*:selfs*,?","g");function NN(n,e,t,r){return new dte(n).build(e,t,r)}class dte{constructor(e){this._driver=e}build(e,t,r){const i=new pte(t);return this._resetContextStyleTimingState(i),js(this,j0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function _ee(){return new f.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const p=d,m=p.name;m.toString().split(/\s*,\s*/).forEach(y=>{p.name=y,s.push(this.visitState(p,t))}),p.name=m}else if(1==d.type){const p=this.visitTransition(d,t);r+=p.queryCount,i+=p.depCount,l.push(p)}else t.errors.push(function yee(){return new f.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,l=i||{};r.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{UG(p).forEach(m=>{l.hasOwnProperty(m)||s.add(m)})})}),s.size&&(NI(s.values()),t.errors.push(function vee(n,e){return new f.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=js(this,j0(e.animation),t);return{type:1,matchers:ate(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:rf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>js(this,r,t)),options:rf(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(l=>{t.currentTime=r;const d=js(this,l,t);return i=Math.max(i,t.currentTime),d});return t.currentTime=i,{type:3,steps:s,options:rf(e.options)}}visitAnimate(e,t){const r=function mte(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return FN(PI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=FN(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=PI(t,e);return FN(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ps({});if(5==s.type)i=this.visitKeyframes(s,t);else{let l=e.styles,d=!1;if(!l){d=!0;const m={};r.easing&&(m.easing=r.easing),l=Ps(m)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(l,t);p.isEmptyStep=d,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of i)"string"==typeof d?d===Lo?r.push(d):t.errors.push(new f.vHH(3002,!1)):r.push(FG(d));let s=!1,l=null;return r.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,p)=>{const m=t.collectedStyles.get(t.currentQuerySelector),y=m.get(p);let C=!0;y&&(s!=i&&s>=y.startTime&&i<=y.endTime&&(t.errors.push(function bee(n,e,t,r,i){return new f.vHH(3010,!1)}()),C=!1),s=y.startTime),C&&m.set(p,{startTime:s,endTime:i}),t.options&&function Jee(n,e,t){const r=e.params||{},i=UG(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function fee(n){return new f.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Eee(){return new f.vHH(3011,!1)}()),r;let s=0;const l=[];let d=!1,p=!1,m=0;const y=e.steps.map(z=>{const se=this._makeStyleAst(z,t);let ue=null!=se.offset?se.offset:function gte(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(se.styles),Se=0;return null!=ue&&(s++,Se=se.offset=ue),p=p||Se<0||Se>1,d=d||Se<m,m=Se,l.push(Se),se});p&&t.errors.push(function Cee(){return new f.vHH(3012,!1)}()),d&&t.errors.push(function Dee(){return new f.vHH(3200,!1)}());const C=e.steps.length;let T=0;s>0&&s<C?t.errors.push(function Iee(){return new f.vHH(3202,!1)}()):0==s&&(T=1/(C-1));const A=C-1,O=t.currentTime,V=t.currentAnimateTimings,P=V.duration;return y.forEach((z,se)=>{const ue=T>0?se==A?1:T*se:l[se],Se=ue*P;t.currentTime=O+V.delay+Se,V.duration=Se,this._validateStyleAst(z,t),z.offset=ue,r.styles.push(z)}),r}visitReference(e,t){return{type:8,animation:js(this,j0(e.animation),t),options:rf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rf(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function hte(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ute,"")),n=n.replace(/@\*/g,kI).replace(/@\w+/g,t=>kI+"-"+t.slice(1)).replace(/:animating/g,RN),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,$s(t.collectedStyles,t.currentQuerySelector,new Map);const d=js(this,j0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:d,originalSelector:e.selector,options:rf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Tee(){return new f.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:PI(e.timings,t.errors,!0);return{type:12,animation:js(this,j0(e.animation),t),timings:r,options:null}}}class pte{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rf(n){return n?(n=$0(n)).params&&(n.params=function fte(n){return n?$0(n):null}(n.params)):n={},n}function FN(n,e,t){return{duration:n,delay:e,easing:t}}function LN(n,e,t,r,i,s,l=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:l,subTimeline:d}}class HI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const vte=new RegExp(":enter","g"),bte=new RegExp(":leave","g");function VN(n,e,t,r,i,s=new Map,l=new Map,d,p,m=[]){return(new Ete).buildKeyframes(n,e,t,r,i,s,l,d,p,m)}class Ete{buildKeyframes(e,t,r,i,s,l,d,p,m,y=[]){m=m||new HI;const C=new BN(e,t,m,i,s,y,[]);C.options=p;const T=p.delay?Kl(p.delay):0;C.currentTimeline.delayNextStep(T),C.currentTimeline.setStyles([l],null,C.errors,p),js(this,r,C);const A=C.timelines.filter(O=>O.containsAnimation());if(A.length&&d.size){let O;for(let V=A.length-1;V>=0;V--){const P=A[V];if(P.element===t){O=P;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([d],null,C.errors,p)}return A.length?A.map(O=>O.buildKeyframes()):[LN(t,[],[],[],0,T,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const l="number"==typeof s?s:Kl(z0(s,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const l=null!=r.duration?Kl(r.duration):null,d=null!=r.delay?Kl(r.delay):null;return 0!==l&&e.forEach(p=>{const m=t.appendInstructionToTimeline(p,l,d);s=Math.max(s,m.duration+m.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),js(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=$I);const l=Kl(s.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>js(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Kl(e.options.delay):0;e.steps.forEach(l=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),js(this,l,d),i=Math.max(i,d.currentTimeline.currentTime),r.push(d.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return PI(t.params?z0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,d=t.createSubContext().currentTimeline;d.easing=r.easing,e.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Kl(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$I);let l=r;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=d.length;let p=null;d.forEach((m,y)=>{t.currentQueryIndex=y;const C=t.createSubContext(e.options,m);s&&C.delayNextStep(s),m===t.element&&(p=C.currentTimeline),js(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),d=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=r.currentStaggerTime}const y=t.currentTimeline;p&&y.delayNextStep(p);const C=y.currentTime;js(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-C+(i.startTime-r.currentTimeline.startTime)}}const $I={};class BN{constructor(e,t,r,i,s,l,d,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$I,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new jI(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Kl(r.duration)),null!=r.delay&&(i.delay=Kl(r.delay));const s=r.params;if(s){let l=i.params;l||(l=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!l.hasOwnProperty(d))&&(l[d]=z0(s[d],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new BN(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=$I,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Cte(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,l){let d=[];if(i&&d.push(this.element),e.length>0){e=(e=e.replace(vte,"."+this._enterClassName)).replace(bte,"."+this._leaveClassName);let m=this._driver.query(this.element,e,1!=r);0!==r&&(m=r<0?m.slice(m.length+r,m.length):m.slice(0,r)),d.push(...m)}return!s&&0==d.length&&l.push(function See(n){return new f.vHH(3014,!1)}()),d}}class jI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new jI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Lo),this._currentKeyframe.set(t,Lo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},l=function Dte(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Lo)}else Uu(i,t)}),t}(e,this._globalTimelineStyles);for(let[d,p]of l){const m=z0(p,s,r);this._pendingStyles.set(d,m),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Lo),this._updateStyle(d,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((d,p)=>{const m=Uu(d,new Map,this._backFill);m.forEach((y,C)=>{y===Zp?e.add(C):y===Lo&&t.add(C)}),r||m.set("offset",p/this.duration),i.push(m)});const s=e.size?NI(e.values()):[],l=t.size?NI(t.values()):[];if(r){const d=i[0],p=new Map(d);d.set("offset",0),p.set("offset",1),i=[d,p]}return LN(this.element,i,s,l,this.duration,this.startTime,this.easing,!1)}}class Cte extends jI{constructor(e,t,r,i,s,l,d=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=r+t,d=t/l,p=Uu(e[0]);p.set("offset",0),s.push(p);const m=Uu(e[0]);m.set("offset",GG(d)),s.push(m);const y=e.length-1;for(let C=1;C<=y;C++){let T=Uu(e[C]);const A=T.get("offset");T.set("offset",GG((t+A*r)/l)),s.push(T)}r=l,t=0,i="",e=s}return LN(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function GG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class UN{}const Ite=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tte extends UN{normalizePropertyName(e,t){return PN(e)}normalizeStyleValue(e,t,r,i){let s="";const l=r.toString().trim();if(Ite.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const d=r.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&i.push(function mee(n,e){return new f.vHH(3005,!1)}())}return l+s}}function WG(n,e,t,r,i,s,l,d,p,m,y,C,T){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:l,timelines:d,queriedElements:p,preStyleProps:m,postStyleProps:y,totalTime:C,errors:T}}const HN={};class qG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Ste(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,l,d,p,m,y){const C=[],T=this.ast.options&&this.ast.options.params||HN,O=this.buildStyles(r,d&&d.params||HN,C),V=p&&p.params||HN,P=this.buildStyles(i,V,C),z=new Set,se=new Map,ue=new Map,Se="void"===i,He={params:Ate(V,T),delay:this.ast.options?.delay},et=y?[]:VN(e,t,this.ast.animation,s,l,O,P,He,m,C);let xt=0;if(et.forEach(yn=>{xt=Math.max(yn.duration+yn.delay,xt)}),C.length)return WG(t,this._triggerName,r,i,Se,O,P,[],[],se,ue,xt,C);et.forEach(yn=>{const rn=yn.element,fr=$s(se,rn,new Set);yn.preStyleProps.forEach(Tn=>fr.add(Tn));const Hi=$s(ue,rn,new Set);yn.postStyleProps.forEach(Tn=>Hi.add(Tn)),rn!==t&&z.add(rn)});const Gt=NI(z.values());return WG(t,this._triggerName,r,i,Se,O,P,et,Gt,se,ue,xt)}}function Ate(n,e){const t=$0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class xte{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=$0(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(i[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,d)=>{l&&(l=z0(l,i,t));const p=this.normalizer.normalizePropertyName(d,t);l=this.normalizer.normalizeStyleValue(d,p,l,t),r.set(d,l)})}),r}}class Rte{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new xte(i.style,i.options&&i.options.params||{},r))}),KG(this.states,"true","1"),KG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new qG(e,i,this.states))}),this.fallbackTransition=function Ote(n,e,t){return new qG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function KG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const kte=new HI;class Pte{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=NN(this._driver,t,r,i);if(r.length)throw function Pee(n){return new f.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=TG(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let l;const d=new Map;if(s?(l=VN(this._driver,t,s,MN,RI,new Map,new Map,r,kte,i),l.forEach(y=>{const C=$s(d,y.element,new Map);y.postStyleProps.forEach(T=>C.set(T,null))})):(i.push(function Nee(){return new f.vHH(3300,!1)}()),l=[]),i.length)throw function Fee(n){return new f.vHH(3504,!1)}();d.forEach((y,C)=>{y.forEach((T,A)=>{y.set(A,this._driver.computeStyle(C,A,Lo))})});const m=Bu(l.map(y=>{const C=d.get(y.element);return this._buildPlayer(y,new Map,C)}));return this._playersById.set(e,m),m.onDestroy(()=>this.destroy(e)),this.players.push(m),m}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Lee(n){return new f.vHH(3301,!1)}();return t}listen(e,t,r,i){const s=TN(t,"","","");return DN(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const YG="ng-animate-queued",$N="ng-animate-disabled",Bte=[],ZG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ute={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ho="__ng_removed";class jN{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function zte(n){return n??null}(r?e.value:e),r){const s=$0(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const G0="void",zN=new jN(G0);class Hte{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Vee(n,e){return new f.vHH(3302,!1)}();if(null==r||0==r.length)throw function Bee(n){return new f.vHH(3303,!1)}();if(!function Gte(n){return"start"==n||"done"==n}(r))throw function Uee(n,e){return new f.vHH(3400,!1)}();const s=$s(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};s.push(l);const d=$s(this._engine.statesByElement,e,new Map);return d.has(t)||(fo(e,OI),fo(e,OI+"-"+t),d.set(t,zN)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Hee(n){return new f.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),l=new GN(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(fo(e,OI),fo(e,OI+"-"+t),this._engine.statesByElement.set(e,d=new Map));let p=d.get(t);const m=new jN(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&m.absorbOptions(p.options),d.set(t,m),p||(p=zN),m.value!==G0&&p.value===m.value){if(!function Kte(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,m.params)){const V=[],P=s.matchStyles(p.value,p.params,V),z=s.matchStyles(m.value,m.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{nf(e,P),Ua(e,z)})}return}const T=$s(this._engine.playersByElement,e,[]);T.forEach(V=>{V.namespaceId==this.id&&V.triggerName==t&&V.queued&&V.destroy()});let A=s.matchTransition(p.value,m.value,e,m.params),O=!1;if(!A){if(!i)return;A=s.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:A,fromState:p,toState:m,player:l,isFallbackTransition:O}),O||(fo(e,YG),l.onStart(()=>{hm(e,YG)})),l.onDone(()=>{let V=this.players.indexOf(l);V>=0&&this.players.splice(V,1);const P=this._engine.playersByElement.get(e);if(P){let z=P.indexOf(l);z>=0&&P.splice(z,1)}}),this.players.push(l),T.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,kI,!0);r.forEach(i=>{if(i[ho])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const d=[];if(s.forEach((p,m)=>{if(l.set(m,p.value),this._triggers.has(m)){const y=this.trigger(e,m,G0,i);y&&d.push(y)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&Bu(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const l=s.name;if(i.has(l))return;i.add(l);const p=this._triggers.get(l).fallbackTransition,m=r.get(l)||zN,y=new jN(G0),C=new GN(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:m,toState:y,player:C,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ho];(!s||s===ZG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){fo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,l=this._elementListeners.get(s);l&&l.forEach(d=>{if(d.name==r.triggerName){const p=TN(s,r.triggerName,r.fromState.value,r.toState.value);p._data=e,DN(r.player,d.phase,p,d.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class $te{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Hte(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,d=this.driver.getParentElement(t);for(;d;){const p=i.get(d);if(p){const m=r.indexOf(p);r.splice(m+1,0,e),l=!0;break}d=this.driver.getParentElement(d)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(zI(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!zI(t))return;const s=t[ho];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fo(e,$N)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),hm(e,$N))}removeNode(e,t,r,i){if(zI(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[ho]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return zI(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,kI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,RN,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Bu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ho];if(t&&t.setForRemoval){if(e[ho]=ZG,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains($N)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)fo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Bu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function $ee(n){return new f.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new HI,i=[],s=new Map,l=[],d=new Map,p=new Map,m=new Map,y=new Set;this.disabledNodes.forEach(Z=>{y.add(Z);const ge=this.driver.query(Z,".ng-animate-queued",!0);for(let Me=0;Me<ge.length;Me++)y.add(ge[Me])});const C=this.bodyNode,T=Array.from(this.statesByElement.keys()),A=JG(T,this.collectedEnterElements),O=new Map;let V=0;A.forEach((Z,ge)=>{const Me=MN+V++;O.set(ge,Me),Z.forEach(Fe=>fo(Fe,Me))});const P=[],z=new Set,se=new Set;for(let Z=0;Z<this.collectedLeaveElements.length;Z++){const ge=this.collectedLeaveElements[Z],Me=ge[ho];Me&&Me.setForRemoval&&(P.push(ge),z.add(ge),Me.hasAnimation?this.driver.query(ge,".ng-star-inserted",!0).forEach(Fe=>z.add(Fe)):se.add(ge))}const ue=new Map,Se=JG(T,Array.from(z));Se.forEach((Z,ge)=>{const Me=RI+V++;ue.set(ge,Me),Z.forEach(Fe=>fo(Fe,Me))}),e.push(()=>{A.forEach((Z,ge)=>{const Me=O.get(ge);Z.forEach(Fe=>hm(Fe,Me))}),Se.forEach((Z,ge)=>{const Me=ue.get(ge);Z.forEach(Fe=>hm(Fe,Me))}),P.forEach(Z=>{this.processLeaveNode(Z)})});const He=[],et=[];for(let Z=this._namespaceList.length-1;Z>=0;Z--)this._namespaceList[Z].drainQueuedTransitions(t).forEach(Me=>{const Fe=Me.player,Qe=Me.element;if(He.push(Fe),this.collectedEnterElements.length){const Yt=Qe[ho];if(Yt&&Yt.setForMove){if(Yt.previousTriggersValues&&Yt.previousTriggersValues.has(Me.triggerName)){const tr=Yt.previousTriggersValues.get(Me.triggerName),Gr=this.statesByElement.get(Me.element);if(Gr&&Gr.has(Me.triggerName)){const Ha=Gr.get(Me.triggerName);Ha.value=tr,Gr.set(Me.triggerName,Ha)}}return void Fe.destroy()}}const vt=!C||!this.driver.containsElement(C,Qe),Ct=ue.get(Qe),er=O.get(Qe),Ut=this._buildInstruction(Me,r,er,Ct,vt);if(Ut.errors&&Ut.errors.length)return void et.push(Ut);if(vt)return Fe.onStart(()=>nf(Qe,Ut.fromStyles)),Fe.onDestroy(()=>Ua(Qe,Ut.toStyles)),void i.push(Fe);if(Me.isFallbackTransition)return Fe.onStart(()=>nf(Qe,Ut.fromStyles)),Fe.onDestroy(()=>Ua(Qe,Ut.toStyles)),void i.push(Fe);const zr=[];Ut.timelines.forEach(Yt=>{Yt.stretchStartingKeyframe=!0,this.disabledNodes.has(Yt.element)||zr.push(Yt)}),Ut.timelines=zr,r.append(Qe,Ut.timelines),l.push({instruction:Ut,player:Fe,element:Qe}),Ut.queriedElements.forEach(Yt=>$s(d,Yt,[]).push(Fe)),Ut.preStyleProps.forEach((Yt,tr)=>{if(Yt.size){let Gr=p.get(tr);Gr||p.set(tr,Gr=new Set),Yt.forEach((Ha,fm)=>Gr.add(fm))}}),Ut.postStyleProps.forEach((Yt,tr)=>{let Gr=m.get(tr);Gr||m.set(tr,Gr=new Set),Yt.forEach((Ha,fm)=>Gr.add(fm))})});if(et.length){const Z=[];et.forEach(ge=>{Z.push(function jee(n,e){return new f.vHH(3505,!1)}())}),He.forEach(ge=>ge.destroy()),this.reportError(Z)}const xt=new Map,Gt=new Map;l.forEach(Z=>{const ge=Z.element;r.has(ge)&&(Gt.set(ge,ge),this._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,xt))}),i.forEach(Z=>{const ge=Z.element;this._getPreviousPlayers(ge,!1,Z.namespaceId,Z.triggerName,null).forEach(Fe=>{$s(xt,ge,[]).push(Fe),Fe.destroy()})});const yn=P.filter(Z=>t3(Z,p,m)),rn=new Map;XG(rn,this.driver,se,m,Lo).forEach(Z=>{t3(Z,p,m)&&yn.push(Z)});const Hi=new Map;A.forEach((Z,ge)=>{XG(Hi,this.driver,new Set(Z),p,Zp)}),yn.forEach(Z=>{const ge=rn.get(Z),Me=Hi.get(Z);rn.set(Z,new Map([...Array.from(ge?.entries()??[]),...Array.from(Me?.entries()??[])]))});const Tn=[],ae=[],tt={};l.forEach(Z=>{const{element:ge,player:Me,instruction:Fe}=Z;if(r.has(ge)){if(y.has(ge))return Me.onDestroy(()=>Ua(ge,Fe.toStyles)),Me.disabled=!0,Me.overrideTotalTime(Fe.totalTime),void i.push(Me);let Qe=tt;if(Gt.size>1){let Ct=ge;const er=[];for(;Ct=Ct.parentNode;){const Ut=Gt.get(Ct);if(Ut){Qe=Ut;break}er.push(Ct)}er.forEach(Ut=>Gt.set(Ut,Qe))}const vt=this._buildAnimation(Me.namespaceId,Fe,xt,s,Hi,rn);if(Me.setRealPlayer(vt),Qe===tt)Tn.push(Me);else{const Ct=this.playersByElement.get(Qe);Ct&&Ct.length&&(Me.parentPlayer=Bu(Ct)),i.push(Me)}}else nf(ge,Fe.fromStyles),Me.onDestroy(()=>Ua(ge,Fe.toStyles)),ae.push(Me),y.has(ge)&&i.push(Me)}),ae.forEach(Z=>{const ge=s.get(Z.element);if(ge&&ge.length){const Me=Bu(ge);Z.setRealPlayer(Me)}}),i.forEach(Z=>{Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(let Z=0;Z<P.length;Z++){const ge=P[Z],Me=ge[ho];if(hm(ge,RI),Me&&Me.hasAnimation)continue;let Fe=[];if(d.size){let vt=d.get(ge);vt&&vt.length&&Fe.push(...vt);let Ct=this.driver.query(ge,RN,!0);for(let er=0;er<Ct.length;er++){let Ut=d.get(Ct[er]);Ut&&Ut.length&&Fe.push(...Ut)}}const Qe=Fe.filter(vt=>!vt.destroyed);Qe.length?Wte(this,ge,Qe):this.processLeaveNode(ge)}return P.length=0,Tn.forEach(Z=>{this.players.push(Z),Z.onDone(()=>{Z.destroy();const ge=this.players.indexOf(Z);this.players.splice(ge,1)}),Z.play()}),Tn}elementContainsData(e,t){let r=!1;const i=t[ho];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let l=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(l=d)}else{const d=this.playersByElement.get(e);if(d){const p=!s||s==G0;d.forEach(m=>{m.queued||!p&&m.triggerName!=i||l.push(m)})}}return(r||i)&&(l=l.filter(d=>!(r&&r!=d.namespaceId||i&&i!=d.triggerName))),l}_beforeAnimationBuild(e,t,r){const s=t.element,l=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const m=p.element,y=m!==s,C=$s(r,m,[]);this._getPreviousPlayers(m,y,l,d,t.toState).forEach(A=>{const O=A.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),A.destroy(),C.push(A)})}nf(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,l){const d=t.triggerName,p=t.element,m=[],y=new Set,C=new Set,T=t.timelines.map(O=>{const V=O.element;y.add(V);const P=V[ho];if(P&&P.removedBeforeQueried)return new ou(O.duration,O.delay);const z=V!==p,se=function qte(n){const e=[];return e3(n,e),e}((r.get(V)||Bte).map(xt=>xt.getRealPlayer())).filter(xt=>!!xt.element&&xt.element===V),ue=s.get(V),Se=l.get(V),He=TG(0,this._normalizer,0,O.keyframes,ue,Se),et=this._buildPlayer(O,He,se);if(O.subTimeline&&i&&C.add(V),z){const xt=new GN(e,d,V);xt.setRealPlayer(et),m.push(xt)}return et});m.forEach(O=>{$s(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function jte(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,O.element,O))}),y.forEach(O=>fo(O,NG));const A=Bu(T);return A.onDestroy(()=>{y.forEach(O=>hm(O,NG)),Ua(p,t.toStyles)}),C.forEach(O=>{$s(i,O,[]).push(A)}),A}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ou(e.duration,e.delay)}}class GN{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ou,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>DN(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$s(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function zI(n){return n&&1===n.nodeType}function QG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function XG(n,e,t,r,i){const s=[];t.forEach(p=>s.push(QG(p)));const l=[];r.forEach((p,m)=>{const y=new Map;p.forEach(C=>{const T=e.computeStyle(m,C,i);y.set(C,T),(!T||0==T.length)&&(m[ho]=Ute,l.push(m))}),n.set(m,y)});let d=0;return t.forEach(p=>QG(p,s[d++])),l}function JG(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function l(d){if(!d)return r;let p=s.get(d);if(p)return p;const m=d.parentNode;return p=t.has(m)?m:i.has(m)?r:l(m),s.set(d,p),p}return e.forEach(d=>{const p=l(d);p!==r&&t.get(p).push(d)}),t}function fo(n,e){n.classList?.add(e)}function hm(n,e){n.classList?.remove(e)}function Wte(n,e,t){Bu(t).onDone(()=>n.processLeaveNode(e))}function e3(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Yp?e3(r.players,e):e.push(r)}}function t3(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class GI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new $te(e,t,r),this._timelineEngine=new Pte(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const l=e+"-"+i;let d=this._triggerCache[l];if(!d){const p=[],m=[],y=NN(this._driver,s,p,m);if(p.length)throw function Oee(n,e){return new f.vHH(3404,!1)}();d=function Mte(n,e,t){return new Rte(n,e,t)}(i,y,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(t,i,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,l]=SG(r);this._timelineEngine.command(s,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[l,d]=SG(r);return this._timelineEngine.listen(l,t,d,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Zte=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ua(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ua(this._element,this._initialStyles),this._endStyles&&(Ua(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(nf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nf(this._element,this._endStyles),this._endStyles=null),Ua(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function WN(n){let e=null;return n.forEach((t,r)=>{(function Qte(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class n3{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:HG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Xte{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return RG(e,t)}getParentElement(e){return AN(e)}query(e,t,r){return OG(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,l=[]){const p={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(p.easing=s);const m=new Map,y=l.filter(A=>A instanceof n3);(function nte(n,e){return 0===n||0===e})(r,i)&&y.forEach(A=>{A.currentSnapshot.forEach((O,V)=>m.set(V,O))});let C=function Xee(n){return n.length?n[0]instanceof Map?n:n.map(e=>FG(e)):[]}(t).map(A=>Uu(A));C=function rte(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,l)=>{r.has(l)||i.push(l),r.set(l,s)}),i.length)for(let s=1;s<e.length;s++){let l=e[s];i.forEach(d=>l.set(d,HG(n,d)))}}return e}(e,C,m);const T=function Yte(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=WN(e[0]),e.length>1&&(r=WN(e[e.length-1]))):e instanceof Map&&(t=WN(e)),t||r?new Zte(n,t,r):null}(e,C);return new n3(e,C,p,T)}}let Jte=(()=>{class n extends fh{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?qp(t):t;return r3(this._renderer,null,r,"register",[i]),new ene(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(K))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class ene extends Wp{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new tne(this._id,e,t||{},this._renderer)}}class tne{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return r3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function r3(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const s3="@.disabled";let nne=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,l)=>{const d=l?.parentNode(s);d&&l.removeChild(d,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let y=this._rendererCache.get(s);return y||(y=new o3("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,y)),y}const l=r.id,d=r.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const p=y=>{Array.isArray(y)?y.forEach(p):this.engine.registerTrigger(l,d,t,y.name,y)};return r.data.animation.forEach(p),new rne(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,d]=s;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(GI),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class o3{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==s3?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class rne extends o3{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==s3?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function ine(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function sne(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,r,d)})}return this.delegate.listen(e,t,r)}}let one=(()=>{class n extends GI{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(K),f.LFG(xN),f.LFG(UN),f.LFG(f.z2F))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const a3=[{provide:fh,useClass:Jte},{provide:UN,useFactory:function ane(){return new Tte}},{provide:GI,useClass:one},{provide:f.FYo,useFactory:function lne(n,e,t){return new nne(n,e,t)},deps:[di,GI,f.R0b]}],qN=[{provide:xN,useFactory:()=>new Xte},{provide:f.QbO,useValue:"BrowserAnimations"},...a3],l3=[{provide:xN,useClass:kG},{provide:f.QbO,useValue:"NoopAnimations"},...a3];let cne=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?l3:qN}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:qN,imports:[Co]}),n})();const c3_firebase={apiKey:"AIzaSyBMJV1Vv0VH0Umvs2-rAqTg2c5ptH__rd8",authDomain:"familytreedatabase-c8bf3.firebaseapp.com",projectId:"familytreedatabase-c8bf3",storageBucket:"familytreedatabase-c8bf3.appspot.com",messagingSenderId:"83738970274",appId:"1:83738970274:web:106a6037cd0f8a9e7daffb",measurementId:"G-WC419XRBP5"};let une=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=f.oAB({type:e,bootstrap:[cee]}),e.\u0275inj=f.cJS({imports:[Co,lee,uee.hO.initializeApp(c3_firebase),x4(()=>M4(c3_firebase)),h5(()=>f5()),oY(()=>aY()),tg,Fx,w4,qs,d4,TY,FY,cne]}),n})();Pm().bootstrapModule(une).catch(n=>console.error(n))},9751:(mt,Ee,R)=>{R.d(Ee,{y:()=>_e});var f=R(930),q=R(727),W=R(8822),re=R(9635),oe=R(2416),K=R(576),ye=R(2806);let _e=(()=>{class G{constructor(be){be&&(this._subscribe=be)}lift(be){const $e=new G;return $e.source=this,$e.operator=be,$e}subscribe(be,$e,yt){const Ie=function L(G){return G&&G instanceof f.Lv||function U(G){return G&&(0,K.m)(G.next)&&(0,K.m)(G.error)&&(0,K.m)(G.complete)}(G)&&(0,q.Nn)(G)}(be)?be:new f.Hp(be,$e,yt);return(0,ye.x)(()=>{const{operator:dt,source:je}=this;Ie.add(dt?dt.call(Ie,je):je?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(be){try{return this._subscribe(be)}catch($e){be.error($e)}}forEach(be,$e){return new($e=me($e))((yt,Ie)=>{const dt=new f.Hp({next:je=>{try{be(je)}catch(at){Ie(at),dt.unsubscribe()}},error:Ie,complete:yt});this.subscribe(dt)})}_subscribe(be){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(be)}[W.L](){return this}pipe(...be){return(0,re.U)(be)(this)}toPromise(be){return new(be=me(be))(($e,yt)=>{let Ie;this.subscribe(dt=>Ie=dt,dt=>yt(dt),()=>$e(Ie))})}}return G.create=Le=>new G(Le),G})();function me(G){var Le;return null!==(Le=G??oe.v.Promise)&&void 0!==Le?Le:Promise}},7579:(mt,Ee,R)=>{R.d(Ee,{x:()=>ye});var f=R(9751),q=R(727);const re=(0,R(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=R(8737),K=R(2806);let ye=(()=>{class me extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(L){const G=new _e(this,this);return G.operator=L,G}_throwIfClosed(){if(this.closed)throw new re}next(L){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(L)}})}error(L){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=L;const{observers:G}=this;for(;G.length;)G.shift().error(L)}})}complete(){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:L}=this;for(;L.length;)L.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var L;return(null===(L=this.observers)||void 0===L?void 0:L.length)>0}_trySubscribe(L){return this._throwIfClosed(),super._trySubscribe(L)}_subscribe(L){return this._throwIfClosed(),this._checkFinalizedStatuses(L),this._innerSubscribe(L)}_innerSubscribe(L){const{hasError:G,isStopped:Le,observers:be}=this;return G||Le?q.Lc:(this.currentObservers=null,be.push(L),new q.w0(()=>{this.currentObservers=null,(0,oe.P)(be,L)}))}_checkFinalizedStatuses(L){const{hasError:G,thrownError:Le,isStopped:be}=this;G?L.error(Le):be&&L.complete()}asObservable(){const L=new f.y;return L.source=this,L}}return me.create=(U,L)=>new _e(U,L),me})();class _e extends ye{constructor(U,L){super(),this.destination=U,this.source=L}next(U){var L,G;null===(G=null===(L=this.destination)||void 0===L?void 0:L.next)||void 0===G||G.call(L,U)}error(U){var L,G;null===(G=null===(L=this.destination)||void 0===L?void 0:L.error)||void 0===G||G.call(L,U)}complete(){var U,L;null===(L=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===L||L.call(U)}_subscribe(U){var L,G;return null!==(G=null===(L=this.source)||void 0===L?void 0:L.subscribe(U))&&void 0!==G?G:q.Lc}}},930:(mt,Ee,R)=>{R.d(Ee,{Hp:()=>yt,Lv:()=>G});var f=R(576),q=R(727),W=R(2416),re=R(7849),oe=R(5032);const K=me("C",void 0,void 0);function me(Be,Oe,ke){return{kind:Be,value:Oe,error:ke}}var U=R(3410),L=R(2806);class G extends q.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,q.Nn)(Oe)&&Oe.add(this)):this.destination=at}static create(Oe,ke,We){return new yt(Oe,ke,We)}next(Oe){this.isStopped?je(function _e(Be){return me("N",Be,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?je(function ye(Be){return me("E",void 0,Be)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?je(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function be(Be,Oe){return Le.call(Be,Oe)}class $e{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Oe)}catch(We){Ie(We)}}error(Oe){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Oe)}catch(We){Ie(We)}else Ie(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(ke){Ie(ke)}}}class yt extends G{constructor(Oe,ke,We){let st;if(super(),(0,f.m)(Oe)||!Oe)st={next:Oe??void 0,error:ke??void 0,complete:We??void 0};else{let Et;this&&W.v.useDeprecatedNextContext?(Et=Object.create(Oe),Et.unsubscribe=()=>this.unsubscribe(),st={next:Oe.next&&be(Oe.next,Et),error:Oe.error&&be(Oe.error,Et),complete:Oe.complete&&be(Oe.complete,Et)}):st=Oe}this.destination=new $e(st)}}function Ie(Be){W.v.useDeprecatedSynchronousErrorHandling?(0,L.O)(Be):(0,re.h)(Be)}function je(Be,Oe){const{onStoppedNotification:ke}=W.v;ke&&U.z.setTimeout(()=>ke(Be,Oe))}const at={closed:!0,next:oe.Z,error:function dt(Be){throw Be},complete:oe.Z}},727:(mt,Ee,R)=>{R.d(Ee,{Lc:()=>K,w0:()=>oe,Nn:()=>ye});var f=R(576);const W=(0,R(3888).d)(me=>function(L){me(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((G,Le)=>`${Le+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L});var re=R(8737);class oe{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:L}=this;if(L)if(this._parentage=null,Array.isArray(L))for(const be of L)be.remove(this);else L.remove(this);const{initialTeardown:G}=this;if((0,f.m)(G))try{G()}catch(be){U=be instanceof W?be.errors:[be]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const be of Le)try{_e(be)}catch($e){U=U??[],$e instanceof W?U=[...U,...$e.errors]:U.push($e)}}if(U)throw new W(U)}}add(U){var L;if(U&&U!==this)if(this.closed)_e(U);else{if(U instanceof oe){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(L=this._finalizers)&&void 0!==L?L:[]).push(U)}}_hasParent(U){const{_parentage:L}=this;return L===U||Array.isArray(L)&&L.includes(U)}_addParent(U){const{_parentage:L}=this;this._parentage=Array.isArray(L)?(L.push(U),L):L?[L,U]:U}_removeParent(U){const{_parentage:L}=this;L===U?this._parentage=null:Array.isArray(L)&&(0,re.P)(L,U)}remove(U){const{_finalizers:L}=this;L&&(0,re.P)(L,U),U instanceof oe&&U._removeParent(this)}}oe.EMPTY=(()=>{const me=new oe;return me.closed=!0,me})();const K=oe.EMPTY;function ye(me){return me instanceof oe||me&&"closed"in me&&(0,f.m)(me.remove)&&(0,f.m)(me.add)&&(0,f.m)(me.unsubscribe)}function _e(me){(0,f.m)(me)?me():me.unsubscribe()}},2416:(mt,Ee,R)=>{R.d(Ee,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Ee,R)=>{R.d(Ee,{E:()=>q});const q=new(R(9751).y)(oe=>oe.complete())},8996:(mt,Ee,R)=>{R.d(Ee,{D:()=>Oe});var f=R(8421),q=R(5363),W=R(9468),K=R(9751),_e=R(2202),me=R(576),U=R(9672);function G(ke,We){if(!ke)throw new Error("Iterable cannot be null");return new K.y(st=>{(0,U.f)(st,We,()=>{const Et=ke[Symbol.asyncIterator]();(0,U.f)(st,We,()=>{Et.next().then(Wt=>{Wt.done?st.complete():st.next(Wt.value)})},0,!0)})})}var Le=R(3670),be=R(8239),$e=R(1144),yt=R(6495),Ie=R(2206),dt=R(4532),je=R(3260);function Oe(ke,We){return We?function Be(ke,We){if(null!=ke){if((0,Le.c)(ke))return function re(ke,We){return(0,f.Xf)(ke).pipe((0,W.R)(We),(0,q.Q)(We))}(ke,We);if((0,$e.z)(ke))return function ye(ke,We){return new K.y(st=>{let Et=0;return We.schedule(function(){Et===ke.length?st.complete():(st.next(ke[Et++]),st.closed||this.schedule())})})}(ke,We);if((0,be.t)(ke))return function oe(ke,We){return(0,f.Xf)(ke).pipe((0,W.R)(We),(0,q.Q)(We))}(ke,We);if((0,Ie.D)(ke))return G(ke,We);if((0,yt.T)(ke))return function L(ke,We){return new K.y(st=>{let Et;return(0,U.f)(st,We,()=>{Et=ke[_e.h](),(0,U.f)(st,We,()=>{let Wt,sn;try{({value:Wt,done:sn}=Et.next())}catch(_t){return void st.error(_t)}sn?st.complete():st.next(Wt)},0,!0)}),()=>(0,me.m)(Et?.return)&&Et.return()})}(ke,We);if((0,je.L)(ke))return function at(ke,We){return G((0,je.Q)(ke),We)}(ke,We)}throw(0,dt.z)(ke)}(ke,We):(0,f.Xf)(ke)}},8421:(mt,Ee,R)=>{R.d(Ee,{Xf:()=>Le});var f=R(7582),q=R(1144),W=R(8239),re=R(9751),oe=R(3670),K=R(2206),ye=R(4532),_e=R(6495),me=R(3260),U=R(576),L=R(7849),G=R(8822);function Le(Be){if(Be instanceof re.y)return Be;if(null!=Be){if((0,oe.c)(Be))return function be(Be){return new re.y(Oe=>{const ke=Be[G.L]();if((0,U.m)(ke.subscribe))return ke.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,q.z)(Be))return function $e(Be){return new re.y(Oe=>{for(let ke=0;ke<Be.length&&!Oe.closed;ke++)Oe.next(Be[ke]);Oe.complete()})}(Be);if((0,W.t)(Be))return function yt(Be){return new re.y(Oe=>{Be.then(ke=>{Oe.closed||(Oe.next(ke),Oe.complete())},ke=>Oe.error(ke)).then(null,L.h)})}(Be);if((0,K.D)(Be))return dt(Be);if((0,_e.T)(Be))return function Ie(Be){return new re.y(Oe=>{for(const ke of Be)if(Oe.next(ke),Oe.closed)return;Oe.complete()})}(Be);if((0,me.L)(Be))return function je(Be){return dt((0,me.Q)(Be))}(Be)}throw(0,ye.z)(Be)}function dt(Be){return new re.y(Oe=>{(function at(Be,Oe){var ke,We,st,Et;return(0,f.mG)(this,void 0,void 0,function*(){try{for(ke=(0,f.KL)(Be);!(We=yield ke.next()).done;)if(Oe.next(We.value),Oe.closed)return}catch(Wt){st={error:Wt}}finally{try{We&&!We.done&&(Et=ke.return)&&(yield Et.call(ke))}finally{if(st)throw st.error}}Oe.complete()})})(Be,Oe).catch(ke=>Oe.error(ke))})}},6451:(mt,Ee,R)=>{R.d(Ee,{T:()=>K});var f=R(8189),q=R(8421),W=R(515),re=R(3269),oe=R(8996);function K(...ye){const _e=(0,re.yG)(ye),me=(0,re._6)(ye,1/0),U=ye;return U.length?1===U.length?(0,q.Xf)(U[0]):(0,f.J)(me)((0,oe.D)(U,_e)):W.E}},5403:(mt,Ee,R)=>{R.d(Ee,{x:()=>q});var f=R(930);function q(re,oe,K,ye,_e){return new W(re,oe,K,ye,_e)}class W extends f.Lv{constructor(oe,K,ye,_e,me,U){super(oe),this.onFinalize=me,this.shouldUnsubscribe=U,this._next=K?function(L){try{K(L)}catch(G){oe.error(G)}}:super._next,this._error=_e?function(L){try{_e(L)}catch(G){oe.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(L){oe.error(L)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(mt,Ee,R)=>{R.d(Ee,{U:()=>W});var f=R(4482),q=R(5403);function W(re,oe){return(0,f.e)((K,ye)=>{let _e=0;K.subscribe((0,q.x)(ye,me=>{ye.next(re.call(oe,me,_e++))}))})}},8189:(mt,Ee,R)=>{R.d(Ee,{J:()=>W});var f=R(5577),q=R(4671);function W(re=1/0){return(0,f.z)(q.y,re)}},5577:(mt,Ee,R)=>{R.d(Ee,{z:()=>_e});var f=R(4004),q=R(8421),W=R(4482),re=R(9672),oe=R(5403),ye=R(576);function _e(me,U,L=1/0){return(0,ye.m)(U)?_e((G,Le)=>(0,f.U)((be,$e)=>U(G,be,Le,$e))((0,q.Xf)(me(G,Le))),L):("number"==typeof U&&(L=U),(0,W.e)((G,Le)=>function K(me,U,L,G,Le,be,$e,yt){const Ie=[];let dt=0,je=0,at=!1;const Be=()=>{at&&!Ie.length&&!dt&&U.complete()},Oe=We=>dt<G?ke(We):Ie.push(We),ke=We=>{be&&U.next(We),dt++;let st=!1;(0,q.Xf)(L(We,je++)).subscribe((0,oe.x)(U,Et=>{Le?.(Et),be?Oe(Et):U.next(Et)},()=>{st=!0},void 0,()=>{if(st)try{for(dt--;Ie.length&&dt<G;){const Et=Ie.shift();$e?(0,re.f)(U,$e,()=>ke(Et)):ke(Et)}Be()}catch(Et){U.error(Et)}}))};return me.subscribe((0,oe.x)(U,Oe,()=>{at=!0,Be()})),()=>{yt?.()}}(G,Le,me,L)))}},5363:(mt,Ee,R)=>{R.d(Ee,{Q:()=>re});var f=R(9672),q=R(4482),W=R(5403);function re(oe,K=0){return(0,q.e)((ye,_e)=>{ye.subscribe((0,W.x)(_e,me=>(0,f.f)(_e,oe,()=>_e.next(me),K),()=>(0,f.f)(_e,oe,()=>_e.complete(),K),me=>(0,f.f)(_e,oe,()=>_e.error(me),K)))})}},3099:(mt,Ee,R)=>{R.d(Ee,{B:()=>oe});var f=R(8421),q=R(7579),W=R(930),re=R(4482);function oe(ye={}){const{connector:_e=(()=>new q.x),resetOnError:me=!0,resetOnComplete:U=!0,resetOnRefCountZero:L=!0}=ye;return G=>{let Le,be,$e,yt=0,Ie=!1,dt=!1;const je=()=>{be?.unsubscribe(),be=void 0},at=()=>{je(),Le=$e=void 0,Ie=dt=!1},Be=()=>{const Oe=Le;at(),Oe?.unsubscribe()};return(0,re.e)((Oe,ke)=>{yt++,!dt&&!Ie&&je();const We=$e=$e??_e();ke.add(()=>{yt--,0===yt&&!dt&&!Ie&&(be=K(Be,L))}),We.subscribe(ke),!Le&&yt>0&&(Le=new W.Hp({next:st=>We.next(st),error:st=>{dt=!0,je(),be=K(at,me,st),We.error(st)},complete:()=>{Ie=!0,je(),be=K(at,U),We.complete()}}),(0,f.Xf)(Oe).subscribe(Le))})(G)}}function K(ye,_e,...me){if(!0===_e)return void ye();if(!1===_e)return;const U=new W.Hp({next:()=>{U.unsubscribe(),ye()}});return(0,f.Xf)(_e(...me)).subscribe(U)}},9468:(mt,Ee,R)=>{R.d(Ee,{R:()=>q});var f=R(4482);function q(W,re=0){return(0,f.e)((oe,K)=>{K.add(W.schedule(()=>oe.subscribe(K),re))})}},8505:(mt,Ee,R)=>{R.d(Ee,{b:()=>oe});var f=R(576),q=R(4482),W=R(5403),re=R(4671);function oe(K,ye,_e){const me=(0,f.m)(K)||ye||_e?{next:K,error:ye,complete:_e}:K;return me?(0,q.e)((U,L)=>{var G;null===(G=me.subscribe)||void 0===G||G.call(me);let Le=!0;U.subscribe((0,W.x)(L,be=>{var $e;null===($e=me.next)||void 0===$e||$e.call(me,be),L.next(be)},()=>{var be;Le=!1,null===(be=me.complete)||void 0===be||be.call(me),L.complete()},be=>{var $e;Le=!1,null===($e=me.error)||void 0===$e||$e.call(me,be),L.error(be)},()=>{var be,$e;Le&&(null===(be=me.unsubscribe)||void 0===be||be.call(me)),null===($e=me.finalize)||void 0===$e||$e.call(me)}))}):re.y}},4408:(mt,Ee,R)=>{R.d(Ee,{o:()=>oe});var f=R(727);class q extends f.w0{constructor(ye,_e){super()}schedule(ye,_e=0){return this}}const W={setInterval(K,ye,..._e){const{delegate:me}=W;return me?.setInterval?me.setInterval(K,ye,..._e):setInterval(K,ye,..._e)},clearInterval(K){const{delegate:ye}=W;return(ye?.clearInterval||clearInterval)(K)},delegate:void 0};var re=R(8737);class oe extends q{constructor(ye,_e){super(ye,_e),this.scheduler=ye,this.work=_e,this.pending=!1}schedule(ye,_e=0){var me;if(this.closed)return this;this.state=ye;const U=this.id,L=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(L,U,_e)),this.pending=!0,this.delay=_e,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(L,this.id,_e),this}requestAsyncId(ye,_e,me=0){return W.setInterval(ye.flush.bind(ye,this),me)}recycleAsyncId(ye,_e,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return _e;null!=_e&&W.clearInterval(_e)}execute(ye,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ye,_e);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,_e){let U,me=!1;try{this.work(ye)}catch(L){me=!0,U=L||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:ye,scheduler:_e}=this,{actions:me}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(me,this),null!=ye&&(this.id=this.recycleAsyncId(_e,ye,null)),this.delay=null,super.unsubscribe()}}}},640:(mt,Ee,R)=>{R.d(Ee,{v:()=>W});const f={now:()=>(f.delegate||Date).now(),delegate:void 0};class q{constructor(oe,K=q.now){this.schedulerActionCtor=oe,this.now=K}schedule(oe,K=0,ye){return new this.schedulerActionCtor(this,oe).schedule(ye,K)}}q.now=f.now;class W extends q{constructor(oe,K=q.now){super(oe,K),this.actions=[],this._active=!1}flush(oe){const{actions:K}=this;if(this._active)return void K.push(oe);let ye;this._active=!0;do{if(ye=oe.execute(oe.state,oe.delay))break}while(oe=K.shift());if(this._active=!1,ye){for(;oe=K.shift();)oe.unsubscribe();throw ye}}}},4986:(mt,Ee,R)=>{R.d(Ee,{P:()=>re,z:()=>W});var f=R(4408);const W=new(R(640).v)(f.o),re=W},3410:(mt,Ee,R)=>{R.d(Ee,{z:()=>f});const f={setTimeout(q,W,...re){const{delegate:oe}=f;return oe?.setTimeout?oe.setTimeout(q,W,...re):setTimeout(q,W,...re)},clearTimeout(q){const{delegate:W}=f;return(W?.clearTimeout||clearTimeout)(q)},delegate:void 0}},2202:(mt,Ee,R)=>{R.d(Ee,{h:()=>q});const q=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Ee,R)=>{R.d(Ee,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Ee,R)=>{R.d(Ee,{_6:()=>K,jO:()=>re,yG:()=>oe});var f=R(576),q=R(3532);function W(ye){return ye[ye.length-1]}function re(ye){return(0,f.m)(W(ye))?ye.pop():void 0}function oe(ye){return(0,q.K)(W(ye))?ye.pop():void 0}function K(ye,_e){return"number"==typeof W(ye)?ye.pop():_e}},8737:(mt,Ee,R)=>{function f(q,W){if(q){const re=q.indexOf(W);0<=re&&q.splice(re,1)}}R.d(Ee,{P:()=>f})},3888:(mt,Ee,R)=>{function f(q){const re=q(oe=>{Error.call(oe),oe.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}R.d(Ee,{d:()=>f})},2806:(mt,Ee,R)=>{R.d(Ee,{O:()=>re,x:()=>W});var f=R(2416);let q=null;function W(oe){if(f.v.useDeprecatedSynchronousErrorHandling){const K=!q;if(K&&(q={errorThrown:!1,error:null}),oe(),K){const{errorThrown:ye,error:_e}=q;if(q=null,ye)throw _e}}else oe()}function re(oe){f.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=oe)}},9672:(mt,Ee,R)=>{function f(q,W,re,oe=0,K=!1){const ye=W.schedule(function(){re(),K?q.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(q.add(ye),!K)return ye}R.d(Ee,{f:()=>f})},4671:(mt,Ee,R)=>{function f(q){return q}R.d(Ee,{y:()=>f})},1144:(mt,Ee,R)=>{R.d(Ee,{z:()=>f});const f=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(mt,Ee,R)=>{R.d(Ee,{D:()=>q});var f=R(576);function q(W){return Symbol.asyncIterator&&(0,f.m)(W?.[Symbol.asyncIterator])}},576:(mt,Ee,R)=>{function f(q){return"function"==typeof q}R.d(Ee,{m:()=>f})},3670:(mt,Ee,R)=>{R.d(Ee,{c:()=>W});var f=R(8822),q=R(576);function W(re){return(0,q.m)(re[f.L])}},6495:(mt,Ee,R)=>{R.d(Ee,{T:()=>W});var f=R(2202),q=R(576);function W(re){return(0,q.m)(re?.[f.h])}},8239:(mt,Ee,R)=>{R.d(Ee,{t:()=>q});var f=R(576);function q(W){return(0,f.m)(W?.then)}},3260:(mt,Ee,R)=>{R.d(Ee,{L:()=>re,Q:()=>W});var f=R(7582),q=R(576);function W(oe){return(0,f.FC)(this,arguments,function*(){const ye=oe.getReader();try{for(;;){const{value:_e,done:me}=yield(0,f.qq)(ye.read());if(me)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(_e)}}finally{ye.releaseLock()}})}function re(oe){return(0,q.m)(oe?.getReader)}},3532:(mt,Ee,R)=>{R.d(Ee,{K:()=>q});var f=R(576);function q(W){return W&&(0,f.m)(W.schedule)}},4482:(mt,Ee,R)=>{R.d(Ee,{A:()=>q,e:()=>W});var f=R(576);function q(re){return(0,f.m)(re?.lift)}function W(re){return oe=>{if(q(oe))return oe.lift(function(K){try{return re(K,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Ee,R)=>{function f(){}R.d(Ee,{Z:()=>f})},9635:(mt,Ee,R)=>{R.d(Ee,{U:()=>W,z:()=>q});var f=R(4671);function q(...re){return W(re)}function W(re){return 0===re.length?f.y:1===re.length?re[0]:function(K){return re.reduce((ye,_e)=>_e(ye),K)}}},7849:(mt,Ee,R)=>{R.d(Ee,{h:()=>W});var f=R(2416),q=R(3410);function W(re){q.z.setTimeout(()=>{const{onUnhandledError:oe}=f.v;if(!oe)throw re;oe(re)})}},4532:(mt,Ee,R)=>{function f(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ee,{z:()=>f})},4650:(mt,Ee,R)=>{R.d(Ee,{$8M:()=>Ec,$WT:()=>Vr,$Z:()=>db,AFp:()=>HE,AaK:()=>_e,AsE:()=>Yb,BQk:()=>io,CHM:()=>Tm,CRH:()=>Qp,CZH:()=>ag,CqO:()=>X_,D6c:()=>rv,EJc:()=>jE,EiD:()=>vT,EpF:()=>Q_,F$t:()=>Nb,F4k:()=>LS,FYo:()=>y_,FiY:()=>rl,Gf:()=>xE,GfV:()=>Gw,Gpc:()=>L,Hsn:()=>Fb,Ikx:()=>Zb,JOm:()=>bt,JVY:()=>Dw,JZr:()=>yt,KtG:()=>Yu,L6k:()=>Iw,LAX:()=>Bc,LFG:()=>_n,Lbi:()=>g2,Lck:()=>_E,MAs:()=>PS,MMx:()=>Xi,NdJ:()=>J_,O4$:()=>ed,OlP:()=>en,P3R:()=>Fw,PXZ:()=>Nx,Q6J:()=>Pp,QGY:()=>Ob,QbO:()=>By,Qsj:()=>RT,R0b:()=>Ns,RDi:()=>uT,Rgc:()=>Gp,SBq:()=>qc,Sil:()=>cu,Suo:()=>mh,TTD:()=>pf,TgZ:()=>Dl,Udp:()=>sy,X6Q:()=>JE,XFs:()=>ht,Xpm:()=>zi,Xts:()=>l_,Y36:()=>Xc,YKP:()=>ex,YNc:()=>Rb,Yjl:()=>Kt,Yz7:()=>Re,Z0I:()=>dn,ZZ4:()=>aC,_Bn:()=>JA,_UZ:()=>Np,_Vd:()=>Wc,_c5:()=>eM,_uU:()=>qb,aQg:()=>lC,c2e:()=>Sx,cJS:()=>Xe,cg1:()=>Qb,dDg:()=>ug,dqk:()=>mn,eBb:()=>pT,eFA:()=>Fs,eJc:()=>Ay,ekj:()=>Gb,eoX:()=>qE,f3M:()=>qr,g9A:()=>Ix,h0i:()=>ch,hGG:()=>tM,hij:()=>ay,iGM:()=>Zp,ifc:()=>pe,ip1:()=>Dx,jDz:()=>rx,kL8:()=>CA,lG2:()=>Tt,lqb:()=>pl,lri:()=>jy,mCW:()=>Uc,n5z:()=>Hf,n_E:()=>Cy,oAB:()=>J,oxw:()=>US,pB0:()=>Tw,q3G:()=>Fn,q4F:()=>Ww,qLn:()=>Pd,qOj:()=>Jc,qZA:()=>ba,qzn:()=>Ri,rWj:()=>Ia,sBO:()=>eC,s_b:()=>Wp,soG:()=>lg,tBr:()=>Sc,tb:()=>YE,tp0:()=>It,uIk:()=>G_,vHH:()=>Ie,vpe:()=>Fo,wAp:()=>St,xp6:()=>rb,ynx:()=>Fp,z2F:()=>_r,z3N:()=>As,zSh:()=>ga,zs3:()=>Yc});var f=R(7579),q=R(727),W=R(9751),re=R(6451),oe=R(3099);function K(o){for(let a in o)if(o[a]===K)return a;throw Error("Could not find renamed property on target object.")}function ye(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function _e(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(_e).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function me(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const U=K({__forward_ref__:K});function L(o){return o.__forward_ref__=L,o.toString=function(){return _e(this())},o}function G(o){return Le(o)?o():o}function Le(o){return"function"==typeof o&&o.hasOwnProperty(U)&&o.__forward_ref__===L}function be(o){return o&&!!o.\u0275providers}const yt="https://g.co/ng/security#xss";class Ie extends Error{constructor(a,c){super(dt(a,c)),this.code=a}}function dt(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}function je(o){return"string"==typeof o?o:null==o?"":String(o)}function We(o,a){throw new Ie(-201,!1)}function ie(o,a){null==o&&function Q(o,a,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${a} <=Actual]`))}(a,o,null,"!=")}function Re(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Xe(o){return{providers:o.providers||[],imports:o.imports||[]}}function Nt(o){return ii(o,An)||ii(o,si)}function dn(o){return null!==Nt(o)}function ii(o,a){return o.hasOwnProperty(a)?o[a]:null}function Sn(o){return o&&(o.hasOwnProperty(Dr)||o.hasOwnProperty(Fr))?o[Dr]:null}const An=K({\u0275prov:K}),Dr=K({\u0275inj:K}),si=K({ngInjectableDef:K}),Fr=K({ngInjectorDef:K});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let ys;function Ir(o){const a=ys;return ys=o,a}function ji(o,a,c){const u=Nt(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&ht.Optional?null:void 0!==a?a:void We(_e(o))}const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wi={},oi="__NG_DI_FLAG__",Tr="ngTempTokenPath",ts="ngTokenPath",jn=/\n/gm,ai="\u0275",vn="__source";let zs;function Jt(o){const a=zs;return zs=o,a}function ns(o,a=ht.Default){if(void 0===zs)throw new Ie(-203,!1);return null===zs?ji(o,void 0,a):zs.get(o,a&ht.Optional?null:void 0,a)}function _n(o,a=ht.Default){return(function Yl(){return ys}()||ns)(G(o),a)}function qr(o,a=ht.Default){return _n(o,li(a))}function li(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function rs(o){const a=[];for(let c=0;c<o.length;c++){const u=G(o[c]);if(Array.isArray(u)){if(0===u.length)throw new Ie(900,!1);let h,g=ht.Default;for(let _=0;_<u.length;_++){const w=u[_],E=Ei(w);"number"==typeof E?-1===E?h=w.token:g|=E:h=w}a.push(_n(h,g))}else a.push(_n(u))}return a}function bi(o,a){return o[oi]=a,o.prototype[oi]=a,o}function Ei(o){return o[oi]}function k(o){return{toString:o}.toString()}var H=(()=>((H=H||{})[H.OnPush=0]="OnPush",H[H.Default=1]="Default",H))(),pe=(()=>{return(o=pe||(pe={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",pe;var o})();const X={},xe=[],Mt=K({\u0275cmp:K}),fn=K({\u0275dir:K}),Kn=K({\u0275pipe:K}),xn=K({\u0275mod:K}),En=K({\u0275fac:K}),Qt=K({__NG_ELEMENT_ID__:K});let Lr=0;function zi(o){return k(()=>{const a=Zl(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===H.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||pe.Emulated,id:"c"+Lr++,styles:o.styles||xe,_:null,schemas:o.schemas||null,tView:null};pm(c);const u=o.dependencies;return c.directiveDefs=Wo(u,!1),c.pipeDefs=Wo(u,!0),c})}function $a(o){return ut(o)||cn(o)}function de(o){return null!==o}function J(o){return k(()=>({type:o.type,bootstrap:o.bootstrap||xe,declarations:o.declarations||xe,imports:o.imports||xe,exports:o.exports||xe,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ct(o,a){if(null==o)return X;const c={};for(const u in o)if(o.hasOwnProperty(u)){let h=o[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=u,a&&(a[h]=g)}return c}function Tt(o){return k(()=>{const a=Zl(o);return pm(a),a})}function Kt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function ut(o){return o[Mt]||null}function cn(o){return o[fn]||null}function nn(o){return o[Kn]||null}function Vr(o){const a=ut(o)||cn(o)||nn(o);return null!==a&&a.standalone}function nr(o,a){const c=o[xn]||null;if(!c&&!0===a)throw new Error(`Type ${_e(o)} does not have '\u0275mod' property.`);return c}function Zl(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||xe,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ct(o.inputs,a),outputs:ct(o.outputs)}}function pm(o){o.features?.forEach(a=>a(o))}function Wo(o,a){if(!o)return null;const c=a?nn:$a;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(de)}const Gi=0,Ye=1,Ht=2,Cn=3,Ci=4,go=5,rr=6,qo=7,Pn=8,Ql=9,Ws=10,$t=11,Xl=12,mo=13,Jl=14,Ko=15,ir=16,ja=17,_o=18,is=19,ec=20,Kr=21,Dn=22,$u=1,ju=2,tc=7,Yo=8,za=9,Br=10;function ci(o){return Array.isArray(o)&&"object"==typeof o[$u]}function Wi(o){return Array.isArray(o)&&!0===o[$u]}function Ga(o){return 0!=(4&o.flags)}function nc(o){return o.componentOffset>-1}function zu(o){return 1==(1&o.flags)}function os(o){return!!o.template}function q0(o){return 0!=(256&o[Ht])}function Wa(o,a){return o.hasOwnProperty(En)?o[En]:null}class ff{constructor(a,c,u){this.previousValue=a,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function pf(){return rc}function rc(o){return o.type.prototype.ngOnChanges&&(o.setInput=Wu),vm}function vm(){const o=wm(this),a=o?.current;if(a){const c=o.previous;if(c===X)o.previous=a;else for(let u in a)c[u]=a[u];o.current=null,this.ngOnChanges(a)}}function Wu(o,a,c,u){const h=this.declaredInputs[c],g=wm(o)||function bm(o,a){return o[qu]=a}(o,{previous:X,current:null}),_=g.current||(g.current={}),w=g.previous,E=w[h];_[h]=new ff(E&&E.currentValue,a,w===X),o[u]=a}pf.ngInherit=!0;const qu="__ngSimpleChanges__";function wm(o){return o[qu]||null}const Di=function(o,a,c){},ic="svg";function pr(o){for(;Array.isArray(o);)o=o[Gi];return o}function Zo(o,a){return pr(a[o])}function Sr(o,a){return pr(a[o.index])}function gf(o,a){return o.data[a]}function Ar(o,a){const c=a[o];return ci(c)?c:c[Gi]}function Qo(o){return 64==(64&o[Ht])}function yo(o,a){return null==a?null:o[a]}function ac(o){o[_o]=0}function lc(o,a){o[go]+=a;let c=o,u=o[Cn];for(;null!==u&&(1===a&&1===c[go]||-1===a&&0===c[go]);)u[go]+=a,c=u,u=u[Cn]}const Lt={lFrame:Xu(null),bindingsEnabled:!0};function vf(){return Lt.bindingsEnabled}function he(){return Lt.lFrame.lView}function jt(){return Lt.lFrame.tView}function Tm(o){return Lt.lFrame.contextLView=o,o[Pn]}function Yu(o){return Lt.lFrame.contextLView=null,o}function xr(){let o=wf();for(;null!==o&&64===o.type;)o=o.parent;return o}function wf(){return Lt.lFrame.currentTNode}function Ii(o,a){const c=Lt.lFrame;c.currentTNode=o,c.isParent=a}function bf(){return Lt.lFrame.isParent}function Ef(){Lt.lFrame.isParent=!1}function wo(){return Lt.lFrame.bindingIndex++}function as(o){const a=Lt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Df(o,a){const c=Lt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Yn(a)}function Yn(o){Lt.lFrame.currentDirectiveIndex=o}function Zu(){return Lt.lFrame.currentQueryIndex}function If(o){Lt.lFrame.currentQueryIndex=o}function Tf(o){const a=o[Ye];return 2===a.type?a.declTNode:1===a.type?o[rr]:null}function Sf(o,a,c){if(c&ht.SkipSelf){let h=a,g=o;for(;!(h=h.parent,null!==h||c&ht.Host||(h=Tf(g),null===h||(g=g[Ko],10&h.type))););if(null===h)return!1;a=h,o=g}const u=Lt.lFrame=Qu();return u.currentTNode=a,u.lView=o,!0}function hc(o){const a=Qu(),c=o[Ye];Lt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Qu(){const o=Lt.lFrame,a=null===o?null:o.child;return null===a?Xu(o):a}function Xu(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Ju(){const o=Lt.lFrame;return Lt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Af=Ju;function xf(){const o=Ju();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Mr(){return Lt.lFrame.selectedIndex}function bs(o){Lt.lFrame.selectedIndex=o}function Mn(){const o=Lt.lFrame;return gf(o.tView,o.selectedIndex)}function ed(){Lt.lFrame.currentNamespace=ic}function fc(o,a){for(let c=a.directiveStart,u=a.directiveEnd;c<u;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:D,ngOnDestroy:S}=g;_&&(o.contentHooks??(o.contentHooks=[])).push(-c,_),w&&((o.contentHooks??(o.contentHooks=[])).push(c,w),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(c,w)),E&&(o.viewHooks??(o.viewHooks=[])).push(-c,E),D&&((o.viewHooks??(o.viewHooks=[])).push(c,D),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(c,D)),null!=S&&(o.destroyHooks??(o.destroyHooks=[])).push(c,S)}}function td(o,a,c){pc(o,a,3,c)}function nd(o,a,c,u){(3&o[Ht])===c&&pc(o,a,c,u)}function rd(o,a){let c=o[Ht];(3&c)===a&&(c&=2047,c+=1,o[Ht]=c)}function pc(o,a,c,u){const g=u??-1,_=a.length-1;let w=0;for(let E=void 0!==u?65535&o[_o]:0;E<_;E++)if("number"==typeof a[E+1]){if(w=a[E],null!=u&&w>=u)break}else a[E]<0&&(o[_o]+=65536),(w<g||-1==g)&&(Xo(o,c,a,E),o[_o]=(4294901760&o[_o])+E+2),E++}function Xo(o,a,c,u){const h=c[u]<0,g=c[u+1],w=o[h?-c[u]:c[u]];if(h){if(o[Ht]>>11<o[_o]>>16&&(3&o[Ht])===a){o[Ht]+=2048,Di(4,w,g);try{g.call(w)}finally{Di(5,w,g)}}}else{Di(4,w,g);try{g.call(w)}finally{Di(5,w,g)}}}const Jo=-1;class ls{constructor(a,c,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function ea(o,a,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const g=c[u++],_=c[u++],w=c[u++];o.setAttribute(a,_,w,g)}else{const g=h,_=c[++u];Ys(g)?o.setProperty(a,g,_):o.setAttribute(a,g,_),u++}}return u}function sd(o){return 3===o||4===o||6===o}function Ys(o){return 64===o.charCodeAt(0)}function bo(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let u=0;u<a.length;u++){const h=a[u];"number"==typeof h?c=h:0===c||mc(o,c,h,null,-1===c||2===c?a[++u]:null)}}return o}function mc(o,a,c,u,h){let g=0,_=o.length;if(-1===a)_=-1;else for(;g<o.length;){const w=o[g++];if("number"==typeof w){if(w===a){_=-1;break}if(w>a){_=g-1;break}}}for(;g<o.length;){const w=o[g];if("number"==typeof w)break;if(w===c){if(null===u)return void(null!==h&&(o[g+1]=h));if(u===o[g+1])return void(o[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==_&&(o.splice(_,0,a),g=_+1),o.splice(g++,0,c),null!==u&&o.splice(g++,0,u),null!==h&&o.splice(g++,0,h)}function Qa(o){return o!==Jo}function ta(o){return 32767&o}function _c(o,a){let c=function Pf(o){return o>>16}(o),u=a;for(;c>0;)u=u[Ko],c--;return u}let od=!0;function Xa(o){const a=od;return od=o,a}const yc=255,ad=5;let vc=0;const di={};function ld(o,a){const c=Ff(o,a);if(-1!==c)return c;const u=a[Ye];u.firstCreatePass&&(o.injectorIndex=a.length,na(u.data,o),na(a,null),na(u.blueprint,null));const h=Lf(o,a),g=o.injectorIndex;if(Qa(h)){const _=ta(h),w=_c(h,a),E=w[Ye].data;for(let D=0;D<8;D++)a[g+D]=w[_+D]|E[_+D]}return a[g+8]=h,g}function na(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ff(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Lf(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,h=a;for(;null!==h;){if(u=Ja(h),null===u)return Jo;if(c++,h=h[Ko],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return Jo}function Zs(o,a,c){!function Nf(o,a,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Qt)&&(u=c[Qt]),null==u&&(u=c[Qt]=vc++);const h=u&yc;a.data[o+(h>>ad)]|=1<<h}(o,a,c)}function Bf(o,a,c){if(c&ht.Optional||void 0!==o)return o;We()}function cd(o,a,c,u){if(c&ht.Optional&&void 0===u&&(u=null),!(c&(ht.Self|ht.Host))){const h=o[Ql],g=Ir(void 0);try{return h?h.get(a,u,c&ht.Optional):ji(a,u,c&ht.Optional)}finally{Ir(g)}}return Bf(u,0,c)}function Uf(o,a,c,u=ht.Default,h){if(null!==o){if(1024&a[Ht]){const _=function Pm(o,a,c,u,h){let g=o,_=a;for(;null!==g&&null!==_&&1024&_[Ht]&&!(256&_[Ht]);){const w=wc(g,_,c,u|ht.Self,di);if(w!==di)return w;let E=g.parent;if(!E){const D=_[Kr];if(D){const S=D.get(c,di,u);if(S!==di)return S}E=Ja(_),_=_[Ko]}g=E}return h}(o,a,c,u,di);if(_!==di)return _}const g=wc(o,a,c,u,di);if(g!==di)return g}return cd(a,c,u,h)}function wc(o,a,c,u,h){const g=function cw(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Qt)?o[Qt]:void 0;return"number"==typeof a?a>=0?a&yc:km:a}(c);if("function"==typeof g){if(!Sf(a,o,u))return u&ht.Host?Bf(h,0,u):cd(a,c,u,h);try{const _=g(u);if(null!=_||u&ht.Optional)return _;We()}finally{Af()}}else if("number"==typeof g){let _=null,w=Ff(o,a),E=Jo,D=u&ht.Host?a[ir][rr]:null;for((-1===w||u&ht.SkipSelf)&&(E=-1===w?Lf(o,a):a[w+8],E!==Jo&&Om(u,!1)?(_=a[Ye],w=ta(E),a=_c(E,a)):w=-1);-1!==w;){const S=a[Ye];if(bc(g,w,S.data)){const M=sr(w,a,c,_,u,D);if(M!==di)return M}E=a[w+8],E!==Jo&&Om(u,a[Ye].data[w+8]===D)&&bc(g,w,a)?(_=S,w=ta(E),a=_c(E,a)):w=-1}}return h}function sr(o,a,c,u,h,g){const _=a[Ye],w=_.data[o+8],S=ra(w,_,c,null==u?nc(w)&&od:u!=_&&0!=(3&w.type),h&ht.Host&&g===w);return null!==S?zn(a,_,S,w):di}function ra(o,a,c,u,h){const g=o.providerIndexes,_=a.data,w=1048575&g,E=o.directiveStart,S=g>>20,B=h?w+S:o.directiveEnd;for(let Y=u?w:w+S;Y<B;Y++){const fe=_[Y];if(Y<E&&c===fe||Y>=E&&fe.type===c)return Y}if(h){const Y=_[E];if(Y&&os(Y)&&Y.type===c)return E}return null}function zn(o,a,c,u){let h=o[c];const g=a.data;if(function xm(o){return o instanceof ls}(h)){const _=h;_.resolving&&function Be(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${o}${c}`)}(function at(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():je(o)}(g[c]));const w=Xa(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?Ir(_.injectImpl):null;Sf(o,u,ht.Default);try{h=o[c]=_.factory(void 0,g,o,u),a.firstCreatePass&&c>=u.directiveStart&&function aw(o,a,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(u){const _=rc(a);(c.preOrderHooks??(c.preOrderHooks=[])).push(o,_),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,_)}h&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-o,h),g&&((c.preOrderHooks??(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],a)}finally{null!==E&&Ir(E),Xa(w),_.resolving=!1,Af()}}return h}function bc(o,a,c){return!!(c[a+(o>>ad)]&1<<o)}function Om(o,a){return!(o&ht.Self||o&ht.Host&&a)}class ia{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,u){return Uf(this._tNode,this._lView,a,li(u),c)}}function km(){return new ia(xr(),he())}function Hf(o){return k(()=>{const a=o.prototype.constructor,c=a[En]||sa(a),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const g=h[En]||sa(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function sa(o){return Le(o)?()=>{const a=sa(G(o));return a&&a()}:Wa(o)}function Ja(o){const a=o[Ye],c=a.type;return 2===c?a.declTNode:1===c?o[rr]:null}function Ec(o){return function Vf(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const g=c[h];if(sd(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(g===a)return c[h+1];h+=2}}}return null}(xr(),o)}const Co="__parameters__";function Do(o,a,c){return k(()=>{const u=function jf(o){return function(...c){if(o){const u=o(...c);for(const h in u)this[h]=u[h]}}}(a);function h(...g){if(this instanceof h)return u.apply(this,g),this;const _=new h(...g);return w.annotation=_,w;function w(E,D,S){const M=E.hasOwnProperty(Co)?E[Co]:Object.defineProperty(E,Co,{value:[]})[Co];for(;M.length<=S;)M.push(null);return(M[S]=M[S]||[]).push(_),E}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class en{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Re({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qs(o,a){o.forEach(c=>Array.isArray(c)?Qs(c,a):a(c))}function Lm(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function tl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ic(o,a){const c=[];for(let u=0;u<o;u++)c.push(a);return c}function Si(o,a,c){let u=Ki(o,a);return u>=0?o[1|u]=c:(u=~u,function qf(o,a,c,u){let h=o.length;if(h==a)o.push(c,u);else if(1===h)o.push(u,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=u}}(o,u,a,c)),u}function In(o,a){const c=Ki(o,a);if(c>=0)return o[1|c]}function Ki(o,a){return function tn(o,a,c){let u=0,h=o.length>>c;for(;h!==u;){const g=u+(h-u>>1),_=o[g<<c];if(a===_)return g<<c;_>a?h=g:u=g+1}return~(h<<c)}(o,a,1)}const Sc=bi(Do("Inject",o=>({token:o})),-1),rl=bi(Do("Optional"),8),It=bi(Do("SkipSelf"),4);var bt=(()=>((bt=bt||{})[bt.Important=1]="Important",bt[bt.DashCase=2]="DashCase",bt))();const tp=new Map;let Ts=0;const F="__ngContext__";function $(o,a){ci(a)?(o[F]=a[ec],function rp(o){tp.set(o[ec],o)}(a)):o[F]=a}let fi;function Yr(o,a){return fi(o,a)}function vd(o){const a=o[Cn];return Wi(a)?a[Cn]:a}function sp(o){return fw(o[mo])}function Pc(o){return fw(o[Ci])}function fw(o){for(;null!==o&&!Wi(o);)o=o[Ci];return o}function da(o,a,c,u,h){if(null!=u){let g,_=!1;Wi(u)?g=u:ci(u)&&(_=!0,u=u[Gi]);const w=pr(u);0===o&&null!==c?null==h?Gm(a,c,w):ha(a,c,w,h||null,!0):1===o&&null!==c?ha(a,c,w,h||null,!0):2===o?function Ym(o,a,c){const u=Ao(o,a);u&&function bd(o,a,c,u){o.removeChild(a,c,u)}(o,u,a,c)}(a,w,_):3===o&&a.destroyNode(w),null!=g&&function Id(o,a,c,u,h){const g=c[tc];g!==pr(c)&&da(a,o,u,g,h);for(let w=Br;w<c.length;w++){const E=c[w];Dd(E[Ye],E,o,a,u,g)}}(a,o,g,c,h)}}function jm(o,a,c){return o.createElement(a,c)}function gw(o,a){const c=o[za],u=c.indexOf(a),h=a[Cn];512&a[Ht]&&(a[Ht]&=-513,lc(h,-1)),c.splice(u,1)}function zm(o,a){if(o.length<=Br)return;const c=Br+a,u=o[c];if(u){const h=u[ja];null!==h&&h!==o&&gw(h,u),a>0&&(o[c-1][Ci]=u[Ci]);const g=tl(o,Br+a);!function eT(o,a){Dd(o,a,a[$t],2,null,null),a[Gi]=null,a[rr]=null}(u[Ye],u);const _=g[is];null!==_&&_.detachView(g[Ye]),u[Cn]=null,u[Ci]=null,u[Ht]&=-65}return u}function ap(o,a){if(!(128&a[Ht])){const c=a[$t];c.destroyNode&&Dd(o,a,c,3,null,null),function nT(o){let a=o[mo];if(!a)return Fc(o[Ye],o);for(;a;){let c=null;if(ci(a))c=a[mo];else{const u=a[Br];u&&(c=u)}if(!c){for(;a&&!a[Ci]&&a!==o;)ci(a)&&Fc(a[Ye],a),a=a[Cn];null===a&&(a=o),ci(a)&&Fc(a[Ye],a),c=a&&a[Ci]}a=c}}(a)}}function Fc(o,a){if(!(128&a[Ht])){a[Ht]&=-65,a[Ht]|=128,function cl(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const h=a[c[u]];if(!(h instanceof ls)){const g=c[u+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=h[g[_]],E=g[_+1];Di(4,w,E);try{E.call(w)}finally{Di(5,w,E)}}else{Di(4,h,g);try{g.call(h)}finally{Di(5,h,g)}}}}}(o,a),function sT(o,a){const c=o.cleanup,u=a[qo];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const _=c[g+3];_>=0?u[h=_]():u[h=-_].unsubscribe(),g+=2}else{const _=u[h=c[g+1]];c[g].call(_)}if(null!==u){for(let g=h+1;g<u.length;g++)(0,u[g])();a[qo]=null}}(o,a),1===a[Ye].type&&a[$t].destroy();const c=a[ja];if(null!==c&&Wi(a[Cn])){c!==a[Cn]&&gw(c,a);const u=a[is];null!==u&&u.detachView(o)}!function hw(o){tp.delete(o[ec])}(a)}}function lp(o,a,c){return function oT(o,a,c){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return c[Gi];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:g}=o.data[u.directiveStart+h];if(g===pe.None||g===pe.Emulated)return null}return Sr(u,c)}}(o,a.parent,c)}function ha(o,a,c,u,h){o.insertBefore(a,c,u,h)}function Gm(o,a,c){o.appendChild(a,c)}function mw(o,a,c,u,h){null!==u?ha(o,a,c,u,h):Gm(o,a,c)}function Ao(o,a){return o.parentNode(a)}function Wm(o,a,c){return ul(o,a,c)}let Km,dl,Xm,hp,ul=function qm(o,a,c){return 40&o.type?Sr(o,c):null};function Ed(o,a,c,u){const h=lp(o,u,a),g=a[$t],w=Wm(u.parent||a[rr],u,a);if(null!=h)if(Array.isArray(c))for(let E=0;E<c.length;E++)mw(g,h,c[E],w,!1);else mw(g,h,c,w,!1);void 0!==Km&&Km(g,u,a,c,h)}function up(o,a){if(null!==a){const c=a.type;if(3&c)return Sr(a,o);if(4&c)return fa(-1,o[a.index]);if(8&c){const u=a.child;if(null!==u)return up(o,u);{const h=o[a.index];return Wi(h)?fa(-1,h):pr(h)}}if(32&c)return Yr(a,o)()||pr(o[a.index]);{const u=dp(o,a);return null!==u?Array.isArray(u)?u[0]:up(vd(o[ir]),u):up(o,a.next)}}return null}function dp(o,a){return null!==a?o[ir][rr].projection[a.projection]:null}function fa(o,a){const c=Br+o+1;if(c<a.length){const u=a[c],h=u[Ye].firstChild;if(null!==h)return up(u,h)}return a[tc]}function Cd(o,a,c,u,h,g,_){for(;null!=c;){const w=u[c.index],E=c.type;if(_&&0===a&&(w&&$(pr(w),u),c.flags|=2),32!=(32&c.flags))if(8&E)Cd(o,a,c.child,u,h,g,!1),da(a,o,h,w,g);else if(32&E){const D=Yr(c,u);let S;for(;S=D();)da(a,o,h,S,g);da(a,o,h,w,g)}else 16&E?Zm(o,a,u,c,h,g):da(a,o,h,w,g);c=_?c.projectionNext:c.next}}function Dd(o,a,c,u,h,g){Cd(c,u,o.firstChild,a,h,g,!1)}function Zm(o,a,c,u,h,g){const _=c[ir],E=_[rr].projection[u.projection];if(Array.isArray(E))for(let D=0;D<E.length;D++)da(a,o,h,E[D],g);else Cd(o,a,E,_[Cn],h,g,!0)}function pa(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function Td(o,a,c){const{mergedAttrs:u,classes:h,styles:g}=c;null!==u&&ea(o,a,u),null!==h&&pa(o,a,h),null!==g&&function Qm(o,a,c){o.setAttribute(a,"style",c)}(o,a,g)}function Lc(o){return function Sd(){if(void 0===dl&&(dl=null,mn.trustedTypes))try{dl=mn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return dl}()?.createHTML(o)||o}function uT(o){Xm=o}function Ew(o){return function Jm(){if(void 0===hp&&(hp=null,mn.trustedTypes))try{hp=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return hp}()?.createScriptURL(o)||o}class hl{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yt})`}}class dT extends hl{getTypeName(){return"HTML"}}class hT extends hl{getTypeName(){return"Style"}}class fT extends hl{getTypeName(){return"Script"}}class Cw extends hl{getTypeName(){return"URL"}}class t_ extends hl{getTypeName(){return"ResourceURL"}}function As(o){return o instanceof hl?o.changingThisBreaksApplicationSecurity:o}function Ri(o,a){const c=function Vc(o){return o instanceof hl&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${yt})`)}return c===a}function Dw(o){return new dT(o)}function Iw(o){return new hT(o)}function pT(o){return new fT(o)}function Bc(o){return new Cw(o)}function Tw(o){return new t_(o)}class fp{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Lc(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Aw{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Lc(a),c}}const xw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Uc(o){return(o=String(o)).match(xw)?o:"unsafe:"+o}function xs(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Ad(...o){const a={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(a[u]=!0);return a}const Hc=xs("area,br,col,hr,img,wbr"),Mw=xs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rw=xs("rp,rt"),pp=Ad(Hc,Ad(Mw,xs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ad(Rw,xs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ad(Rw,Mw)),gp=xs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xd=Ad(gp,xs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),r_=xs("script,style,template");class _T{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!pp.hasOwnProperty(c))return this.sanitizedSomething=!0,!r_.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=a.attributes;for(let h=0;h<u.length;h++){const g=u.item(h),_=g.name,w=_.toLowerCase();if(!xd.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=g.value;gp[w]&&(E=Uc(E)),this.buf.push(" ",_,'="',s_(E),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();pp.hasOwnProperty(c)&&!Hc.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(s_(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const yT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i_=/([^\#-~ |!])/g;function s_(o){return o.replace(/&/g,"&amp;").replace(yT,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(i_,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let o_;function vT(o,a){let c=null;try{o_=o_||function Sw(o){const a=new Aw(o);return function n_(){try{return!!(new window.DOMParser).parseFromString(Lc(""),"text/html")}catch{return!1}}()?new fp(a):a}(o);let u=a?String(a):"";c=o_.getInertBodyElement(u);let h=5,g=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=g,g=c.innerHTML,c=o_.getInertBodyElement(u)}while(u!==g);return Lc((new _T).sanitizeChildren(kw(c)||c))}finally{if(c){const u=kw(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function kw(o){return"content"in o&&function ZN(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function Pw(o){const a=Rd();return a?a.sanitize(Fn.URL,o)||"":Ri(o,"URL")?As(o):Uc(je(o))}function _p(o){const a=Rd();if(a)return Ew(a.sanitize(Fn.RESOURCE_URL,o)||"");if(Ri(o,"ResourceURL"))return Ew(As(o));throw new Ie(904,!1)}function Fw(o,a,c){return function ET(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?_p:Pw}(a,c)(o)}function Rd(){const o=he();return o&&o[Xl]}const l_=new en("ENVIRONMENT_INITIALIZER"),fl=new en("INJECTOR",-1),$c=new en("INJECTOR_DEF_TYPES");class Lw{get(a,c=wi){if(c===wi){const u=new Error(`NullInjectorError: No provider for ${_e(a)}!`);throw u.name="NullInjectorError",u}return c}}function Od(...o){return{\u0275providers:jc(0,o),\u0275fromNgModule:!0}}function jc(o,...a){const c=[],u=new Set;let h;return Qs(a,g=>{const _=g;c_(_,c,[],u)&&(h||(h=[]),h.push(_))}),void 0!==h&&Vw(h,c),c}function Vw(o,a){for(let c=0;c<o.length;c++){const{providers:h}=o[c];u_(h,g=>{a.push(g)})}}function c_(o,a,c,u){if(!(o=G(o)))return!1;let h=null,g=Sn(o);const _=!g&&ut(o);if(g||_){if(_&&!_.standalone)return!1;h=o}else{const E=o.ngModule;if(g=Sn(E),!g)return!1;h=E}const w=u.has(h);if(_){if(w)return!1;if(u.add(h),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const D of E)c_(D,a,c,u)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let D;u.add(h);try{Qs(g.imports,S=>{c_(S,a,c,u)&&(D||(D=[]),D.push(S))})}finally{}void 0!==D&&Vw(D,a)}if(!w){const D=Wa(h)||(()=>new h);a.push({provide:h,useFactory:D,deps:xe},{provide:$c,useValue:h,multi:!0},{provide:l_,useValue:()=>_n(h),multi:!0})}const E=g.providers;null==E||w||u_(E,S=>{a.push(S)})}}return h!==o&&void 0!==o.providers}function u_(o,a){for(let c of o)be(c)&&(c=c.\u0275providers),Array.isArray(c)?u_(c,a):a(c)}const DT=K({provide:String,useValue:K});function d_(o){return null!==o&&"object"==typeof o&&DT in o}function xo(o){return"function"==typeof o}const ga=new en("Set Injector scope."),vp={},TT={};let h_;function wp(){return void 0===h_&&(h_=new Lw),h_}class pl{}class Uw extends pl{get destroyed(){return this._destroyed}constructor(a,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gc(a,_=>this.processProvider(_)),this.records.set(fl,zc(void 0,this)),h.has("environment")&&this.records.set(pl,zc(void 0,this));const g=this.records.get(ga);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get($c.multi,xe,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=Jt(this),u=Ir(void 0);try{return a()}finally{Jt(c),Ir(u)}}get(a,c=wi,u=ht.Default){this.assertNotDestroyed(),u=li(u);const h=Jt(this),g=Ir(void 0);try{if(!(u&ht.SkipSelf)){let w=this.records.get(a);if(void 0===w){const E=function m_(o){return"function"==typeof o||"object"==typeof o&&o instanceof en}(a)&&Nt(a);w=E&&this.injectableDefInScope(E)?zc(f_(a),vp):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(u&ht.Self?wp():this.parent).get(a,c=u&ht.Optional&&c===wi?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[Tr]=_[Tr]||[]).unshift(_e(a)),h)throw _;return function vs(o,a,c,u){const h=o[Tr];throw a[vn]&&h.unshift(a[vn]),o.message=function N(o,a,c,u=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==ai?o.slice(2):o;let h=_e(a);if(Array.isArray(a))h=a.map(_e).join(" -> ");else if("object"==typeof a){let g=[];for(let _ in a)if(a.hasOwnProperty(_)){let w=a[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):_e(w)))}h=`{${g.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${o.replace(jn,"\n  ")}`}("\n"+o.message,h,c,u),o[ts]=h,o[Tr]=null,o}(_,a,"R3InjectorError",this.source)}throw _}finally{Ir(g),Jt(h)}}resolveInjectorInitializers(){const a=Jt(this),c=Ir(void 0);try{const u=this.get(l_.multi,xe,ht.Self);for(const h of u)h()}finally{Jt(a),Ir(c)}}toString(){const a=[],c=this.records;for(const u of c.keys())a.push(_e(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(a){let c=xo(a=G(a))?a:G(a&&a.provide);const u=function AT(o){return d_(o)?zc(void 0,o.useValue):zc(p_(o),vp)}(a);if(xo(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=zc(void 0,vp,!0),h.factory=()=>rs(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,u)}hydrate(a,c){return c.value===vp&&(c.value=TT,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Hw(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=G(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function f_(o){const a=Nt(o),c=null!==a?a.factory:Wa(o);if(null!==c)return c;if(o instanceof en)throw new Ie(204,!1);if(o instanceof Function)return function ST(o){const a=o.length;if(a>0)throw Ic(a,"?"),new Ie(204,!1);const c=function hn(o){return o&&(o[An]||o[si])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Ie(204,!1)}function p_(o,a,c){let u;if(xo(o)){const h=G(o);return Wa(h)||f_(h)}if(d_(o))u=()=>G(o.useValue);else if(function Bw(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...rs(o.deps||[]));else if(function IT(o){return!(!o||!o.useExisting)}(o))u=()=>_n(G(o.useExisting));else{const h=G(o&&(o.useClass||o.provide));if(!function g_(o){return!!o.deps}(o))return Wa(h)||f_(h);u=()=>new h(...rs(o.deps))}return u}function zc(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Gc(o,a){for(const c of o)Array.isArray(c)?Gc(c,a):c&&be(c)?Gc(c.\u0275providers,a):a(c)}class xT{}class $w{}class zw{resolveComponentFactory(a){throw function MT(o){const a=Error(`No component factory found for ${_e(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Wc=(()=>{class o{}return o.NULL=new zw,o})();function bp(){return Mo(xr(),he())}function Mo(o,a){return new qc(Sr(o,a))}let qc=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=bp,o})();function kd(o){return o instanceof qc?o.nativeElement:o}class y_{}let RT=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function OT(){const o=he(),c=Ar(xr().index,o);return(ci(c)?c:o)[$t]}(),o})(),kT=(()=>{class o{}return o.\u0275prov=Re({token:o,providedIn:"root",factory:()=>null}),o})();class Gw{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Ww=new Gw("15.2.10"),Ep={},v_="ngOriginalError";function w_(o){return o[v_]}class Pd{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&w_(a);for(;c&&w_(c);)c=w_(c);return c||null}}function no(o){return o instanceof Function?o():o}function Xw(o,a,c){let u=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=a.length;if(h+g===u||o.charCodeAt(h+g)<=32)return h}c=h+1}}const b_="ng-template";function E_(o,a,c){let u=0,h=!0;for(;u<o.length;){let g=o[u++];if("string"==typeof g&&h){const _=o[u++];if(c&&"class"===g&&-1!==Xw(_.toLowerCase(),a,0))return!0}else{if(1===g){for(;u<o.length&&"string"==typeof(g=o[u++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function C_(o){return 4===o.type&&o.value!==b_}function Kc(o,a,c){return a===(4!==o.type||c?o.value:b_)}function D_(o,a,c){let u=4;const h=o.attrs||[],g=function eb(o){for(let a=0;a<o.length;a++)if(sd(o[a]))return a;return o.length}(h);let _=!1;for(let w=0;w<a.length;w++){const E=a[w];if("number"!=typeof E){if(!_)if(4&u){if(u=2|1&u,""!==E&&!Kc(o,E,c)||""===E&&1===a.length){if(Ms(u))return!1;_=!0}}else{const D=8&u?E:a[++w];if(8&u&&null!==o.attrs){if(!E_(o.attrs,D,c)){if(Ms(u))return!1;_=!0}continue}const M=Jw(8&u?"class":E,h,C_(o),c);if(-1===M){if(Ms(u))return!1;_=!0;continue}if(""!==D){let B;B=M>g?"":h[M+1].toLowerCase();const Y=8&u?B:null;if(Y&&-1!==Xw(Y,D,0)||2&u&&D!==B){if(Ms(u))return!1;_=!0}}}}else{if(!_&&!Ms(u)&&!Ms(E))return!1;if(_&&Ms(E))continue;_=!1,u=E|1&u}}return Ms(u)||_}function Ms(o){return 0==(1&o)}function Jw(o,a,c,u){if(null===a)return-1;let h=0;if(u||!c){let g=!1;for(;h<a.length;){const _=a[h];if(_===o)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function tb(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===a)return c;c++}return-1}(a,o)}function Fd(o,a,c=!1){for(let u=0;u<a.length;u++)if(D_(o,a[u],c))return!0;return!1}function UT(o,a){e:for(let c=0;c<a.length;c++){const u=a[c];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function nb(o,a){return o?":not("+a.trim()+")":a}function HT(o){let a=o[0],c=1,u=2,h="",g=!1;for(;c<o.length;){let _=o[c];if("string"==typeof _)if(2&u){const w=o[++c];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+_:4&u&&(h+=" "+_);else""!==h&&!Ms(_)&&(a+=nb(g,h),h=""),u=_,g=g||!Ms(u);c++}return""!==h&&(a+=nb(g,h)),a}const Pt={};function rb(o){ib(jt(),he(),Mr()+o,!1)}function ib(o,a,c,u){if(!u)if(3==(3&a[Ht])){const g=o.preOrderCheckHooks;null!==g&&td(a,g,c)}else{const g=o.preOrderHooks;null!==g&&nd(a,g,0,c)}bs(c)}function ob(o,a=null,c=null,u){const h=T_(o,a,c,u);return h.resolveInjectorInitializers(),h}function T_(o,a=null,c=null,u,h=new Set){const g=[c||xe,Od(o)];return u=u||("object"==typeof o?void 0:_e(o)),new Uw(g,a||wp(),u||null,h)}let Yc=(()=>{class o{static create(c,u){if(Array.isArray(c))return ob({name:""},u,c,"");{const h=c.name??"";return ob({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=wi,o.NULL=new Lw,o.\u0275prov=Re({token:o,providedIn:"any",factory:()=>_n(fl)}),o.__NG_ELEMENT_ID__=-1,o})();function Xc(o,a=ht.Default){const c=he();return null===c?_n(o,a):Uf(xr(),c,G(o),a)}function db(){throw new Error("invalid")}function hb(o,a){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const g=c[u+1];if(-1!==g){const _=o.data[g];If(c[u]),_.contentQueries(2,a[g],g)}}}function Tp(o,a,c,u,h,g,_,w,E,D,S){const M=a.blueprint.slice();return M[Gi]=h,M[Ht]=76|u,(null!==S||o&&1024&o[Ht])&&(M[Ht]|=1024),ac(M),M[Cn]=M[Ko]=o,M[Pn]=c,M[Ws]=_||o&&o[Ws],M[$t]=w||o&&o[$t],M[Xl]=E||o&&o[Xl]||null,M[Ql]=D||o&&o[Ql]||null,M[rr]=g,M[ec]=function np(){return Ts++}(),M[Kr]=S,M[ir]=2==a.type?o[ir]:M,M}function Ud(o,a,c,u,h){let g=o.data[a];if(null===g)g=function R_(o,a,c,u,h){const g=wf(),_=bf(),E=o.data[a]=function mb(o,a,c,u,h,g){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,c,a,u,h);return null===o.firstChild&&(o.firstChild=E),null!==g&&(_?null==g.child&&null!==E.parent&&(g.child=E):null===g.next&&(g.next=E,E.prev=g)),E}(o,a,c,u,h),function Cf(){return Lt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=u,g.attrs=h;const _=function cc(){const o=Lt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return Ii(g,!0),g}function Rs(o,a,c,u){if(0===c)return-1;const h=a.length;for(let g=0;g<c;g++)a.push(u),o.blueprint.push(u),o.data.push(null);return h}function ma(o,a,c){hc(a);try{const u=o.viewQuery;null!==u&&_l(1,u,c);const h=o.template;null!==h&&Hd(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&hb(o,a),o.staticViewQueries&&_l(2,o.viewQuery,c);const g=o.components;null!==g&&function fb(o,a){for(let c=0;c<a.length;c++)V_(o,a[c])}(a,g)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[Ht]&=-5,xf()}}function Sp(o,a,c,u){const h=a[Ht];if(128!=(128&h)){hc(a);try{ac(a),function Ks(o){return Lt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Hd(o,a,c,2,u);const _=3==(3&h);if(_){const D=o.preOrderCheckHooks;null!==D&&td(a,D,null)}else{const D=o.preOrderHooks;null!==D&&nd(a,D,0,null),rd(a,0)}if(function L_(o){for(let a=sp(o);null!==a;a=Pc(a)){if(!a[ju])continue;const c=a[za];for(let u=0;u<c.length;u++){const h=c[u];512&h[Ht]||lc(h[Cn],1),h[Ht]|=512}}}(a),function vS(o){for(let a=sp(o);null!==a;a=Pc(a))for(let c=Br;c<a.length;c++){const u=a[c],h=u[Ye];Qo(u)&&Sp(h,u,h.template,u[Pn])}}(a),null!==o.contentQueries&&hb(o,a),_){const D=o.contentCheckHooks;null!==D&&td(a,D)}else{const D=o.contentHooks;null!==D&&nd(a,D,1),rd(a,1)}!function iS(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const h=c[u];if(h<0)bs(~h);else{const g=h,_=c[++u],w=c[++u];Df(_,g),w(2,a[g])}}}finally{bs(-1)}}(o,a);const w=o.components;null!==w&&function sS(o,a){for(let c=0;c<a.length;c++)wS(o,a[c])}(a,w);const E=o.viewQuery;if(null!==E&&_l(2,E,u),_){const D=o.viewCheckHooks;null!==D&&td(a,D)}else{const D=o.viewHooks;null!==D&&nd(a,D,2),rd(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Ht]&=-41,512&a[Ht]&&(a[Ht]&=-513,lc(a[Cn],-1))}finally{xf()}}}function Hd(o,a,c,u,h){const g=Mr(),_=2&u;try{bs(-1),_&&a.length>Dn&&ib(o,a,Dn,!1),Di(_?2:0,h),c(u,h)}finally{bs(g),Di(_?3:1,h)}}function Wn(o,a,c){if(Ga(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const _=o.data[g];_.contentQueries&&_.contentQueries(1,c[g],g)}}}function _a(o,a,c){vf()&&(function Ap(o,a,c,u){const h=c.directiveStart,g=c.directiveEnd;nc(c)&&function mS(o,a,c){const u=Sr(a,o),h=gb(c),g=o[Ws],_=B_(o,Tp(o,h,null,c.onPush?32:16,u,a,g,g.createRenderer(u,c),null,null,null));o[a.index]=_}(a,c,o.data[h+c.componentOffset]),o.firstCreatePass||ld(c,a),$(u,a);const _=c.initialInputs;for(let w=h;w<g;w++){const E=o.data[w],D=zn(a,o,w,c);$(D,a),null!==_&&_S(0,w-h,D,E,0,_),os(E)&&(Ar(c.index,a)[Pn]=zn(a,o,w,c))}}(o,a,c,Sr(c,a)),64==(64&c.flags)&&N_(o,a,c))}function pb(o,a,c=Sr){const u=a.localNames;if(null!==u){let h=a.index+1;for(let g=0;g<u.length;g+=2){const _=u[g+1],w=-1===_?c(a,o):o[_];o[h++]=w}}}function gb(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=O_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function O_(o,a,c,u,h,g,_,w,E,D){const S=Dn+u,M=S+h,B=function oS(o,a){const c=[];for(let u=0;u<a;u++)c.push(u<o?null:Pt);return c}(S,M),Y="function"==typeof D?D():D;return B[Ye]={type:o,blueprint:B,template:c,queries:null,viewQuery:w,declTNode:a,data:B.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:Y,incompleteFirstPass:!1}}function $d(o,a,c,u){const h=Gd(a);null===c?h.push(u):(h.push(c),o.firstCreatePass&&Wd(o).push(u,h.length-1))}function _b(o,a,c,u){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const g=o[h];null===u?yb(c,a,h,g):u.hasOwnProperty(h)&&yb(c,a,u[h],g)}return c}function yb(o,a,c,u){o.hasOwnProperty(c)?o[c].push(a,u):o[c]=[a,u]}function Ur(o,a,c,u,h,g,_,w){const E=Sr(a,c);let S,D=a.inputs;!w&&null!=D&&(S=D[u])?(yl(o,c,S,u,h),nc(a)&&function cS(o,a){const c=Ar(a,o);16&c[Ht]||(c[Ht]|=32)}(c,a.index)):3&a.type&&(u=function vb(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=_?_(h,a.value||"",u):h,g.setProperty(E,u,h))}function k_(o,a,c,u){if(vf()){const h=null===u?null:{"":-1},g=function cF(o,a){const c=o.directiveRegistry;let u=null,h=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];if(Fd(a,_.selectors,!1))if(u||(u=[]),os(_))if(null!==_.findHostDirectiveDefs){const w=[];h=h||new Map,_.findHostDirectiveDefs(_,w,h),u.unshift(...w,_),F_(o,a,w.length)}else u.unshift(_),F_(o,a,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,u,h),u.push(_)}return null===u?null:[u,h]}(o,c);let _,w;null===g?_=w=null:[_,w]=g,null!==_&&uS(o,a,c,_,h,w),h&&function fS(o,a,c){if(a){const u=o.localNames=[];for(let h=0;h<a.length;h+=2){const g=c[a[h+1]];if(null==g)throw new Ie(-301,!1);u.push(a[h],g)}}}(c,u,h)}c.mergedAttrs=bo(c.mergedAttrs,c.attrs)}function uS(o,a,c,u,h,g){for(let D=0;D<u.length;D++)Zs(ld(c,a),o,u[D].type);!function pS(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,u.length);for(let D=0;D<u.length;D++){const S=u[D];S.providersResolver&&S.providersResolver(S)}let _=!1,w=!1,E=Rs(o,a,u.length,null);for(let D=0;D<u.length;D++){const S=u[D];c.mergedAttrs=bo(c.mergedAttrs,S.hostAttrs),gS(o,c,a,E,S),xp(E,S,h),null!==S.contentQueries&&(c.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(c.flags|=64);const M=S.type.prototype;!_&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(c.index),_=!0),!w&&(M.ngOnChanges||M.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(c.index),w=!0),E++}!function lS(o,a,c){const h=a.directiveEnd,g=o.data,_=a.attrs,w=[];let E=null,D=null;for(let S=a.directiveStart;S<h;S++){const M=g[S],B=c?c.get(M):null,fe=B?B.outputs:null;E=_b(M.inputs,S,E,B?B.inputs:null),D=_b(M.outputs,S,D,fe);const Pe=null===E||null===_||C_(a)?null:yS(E,S,_);w.push(Pe)}null!==E&&(E.hasOwnProperty("class")&&(a.flags|=8),E.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=w,a.inputs=E,a.outputs=D}(o,c,g)}function N_(o,a,c){const u=c.directiveStart,h=c.directiveEnd,g=c.index,_=function sw(){return Lt.lFrame.currentDirectiveIndex}();try{bs(g);for(let w=u;w<h;w++){const E=o.data[w],D=a[w];Yn(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&hS(E,D)}}finally{bs(-1),Yn(_)}}function hS(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function F_(o,a,c){a.componentOffset=c,(o.components??(o.components=[])).push(a.index)}function xp(o,a,c){if(c){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)c[a.exportAs[u]]=o;os(a)&&(c[""]=o)}}function gS(o,a,c,u,h){o.data[u]=h;const g=h.factory||(h.factory=Wa(h.type)),_=new ls(g,os(h),Xc);o.blueprint[u]=_,c[u]=_,function dS(o,a,c,u,h){const g=h.hostBindings;if(g){let _=o.hostBindingOpCodes;null===_&&(_=o.hostBindingOpCodes=[]);const w=~a.index;(function P_(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(_)!=w&&_.push(w),_.push(c,u,g)}}(o,a,u,Rs(o,c,h.hostVars,Pt),h)}function Ro(o,a,c,u,h,g){const _=Sr(o,a);!function jd(o,a,c,u,h,g,_){if(null==g)o.removeAttribute(a,h,c);else{const w=null==_?je(g):_(g,u||"",h);o.setAttribute(a,h,w,c)}}(a[$t],_,g,o.value,c,u,h)}function _S(o,a,c,u,h,g){const _=g[a];if(null!==_){const w=u.setInput;for(let E=0;E<_.length;){const D=_[E++],S=_[E++],M=_[E++];null!==w?u.setInput(c,M,D,S):c[S]=M}}}function yS(o,a,c){let u=null,h=0;for(;h<c.length;){const g=c[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===u&&(u=[]);const _=o[g];for(let w=0;w<_.length;w+=2)if(_[w]===a){u.push(g,_[w+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function bb(o,a,c,u){return[o,!0,!1,a,null,0,u,c,null,null]}function wS(o,a){const c=Ar(a,o);if(Qo(c)){const u=c[Ye];48&c[Ht]?Sp(u,c,u.template,c[Pn]):c[go]>0&&ml(c)}}function ml(o){for(let u=sp(o);null!==u;u=Pc(u))for(let h=Br;h<u.length;h++){const g=u[h];if(Qo(g))if(512&g[Ht]){const _=g[Ye];Sp(_,g,_.template,g[Pn])}else g[go]>0&&ml(g)}const c=o[Ye].components;if(null!==c)for(let u=0;u<c.length;u++){const h=Ar(c[u],o);Qo(h)&&h[go]>0&&ml(h)}}function V_(o,a){const c=Ar(a,o),u=c[Ye];(function ds(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(u,c),ma(u,c,c[Pn])}function B_(o,a){return o[mo]?o[Jl][Ci]=a:o[mo]=a,o[Jl]=a,a}function Oo(o){for(;o;){o[Ht]|=32;const a=vd(o);if(q0(o)&&!a)return o;o=a}return null}function zd(o,a,c,u=!0){const h=a[Ws];h.begin&&h.begin();try{Sp(o,a,o.template,c)}catch(_){throw u&&U_(a,_),_}finally{h.end&&h.end()}}function _l(o,a,c){If(0),a(o,c)}function Gd(o){return o[qo]||(o[qo]=[])}function Wd(o){return o.cleanup||(o.cleanup=[])}function U_(o,a){const c=o[Ql],u=c?c.get(Pd,null):null;u&&u.handleError(a)}function yl(o,a,c,u,h){for(let g=0;g<c.length;){const _=c[g++],w=c[g++],E=a[_],D=o.data[_];null!==D.setInput?D.setInput(E,h,u,w):E[w]=h}}function Os(o,a,c){const u=Zo(a,o);!function $m(o,a,c){o.setValue(a,c)}(o[$t],u,c)}function Mp(o,a,c){let u=c?o.styles:null,h=c?o.classes:null,g=0;if(null!==a)for(let _=0;_<a.length;_++){const w=a[_];"number"==typeof w?g=w:1==g?h=me(h,w):2==g&&(u=me(u,w+": "+a[++_]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=h:o.classesWithoutHost=h}function Rp(o,a,c,u,h=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&u.push(pr(g)),Wi(g))for(let w=Br;w<g.length;w++){const E=g[w],D=E[Ye].firstChild;null!==D&&Rp(E[Ye],E,D,u)}const _=c.type;if(8&_)Rp(o,a,c.child,u);else if(32&_){const w=Yr(c,a);let E;for(;E=w();)u.push(E)}else if(16&_){const w=dp(a,c);if(Array.isArray(w))u.push(...w);else{const E=vd(a[ir]);Rp(E[Ye],E,w,u,!0)}}c=h?c.projectionNext:c.next}return u}class vl{get rootNodes(){const a=this._lView,c=a[Ye];return Rp(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pn]}set context(a){this._lView[Pn]=a}get destroyed(){return 128==(128&this._lView[Ht])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Cn];if(Wi(a)){const c=a[Yo],u=c?c.indexOf(this):-1;u>-1&&(zm(a,u),tl(c,u))}this._attachedToViewContainer=!1}ap(this._lView[Ye],this._lView)}onDestroy(a){$d(this._lView[Ye],this._lView,null,a)}markForCheck(){Oo(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ht]&=-65}reattach(){this._lView[Ht]|=64}detectChanges(){zd(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function op(o,a){Dd(o,a,a[$t],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=a}}class va extends vl{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;zd(a[Ye],a,a[Pn],!1)}checkNoChanges(){}get context(){return null}}class Op extends Wc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=ut(a);return new qd(c,this.ngModule)}}function Eb(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class ES{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,u){u=li(u);const h=this.injector.get(a,Ep,u);return h!==Ep||c===Ep?h:this.parentInjector.get(a,c,u)}}class qd extends $w{get inputs(){return Eb(this.componentDef.inputs)}get outputs(){return Eb(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function $T(o){return o.map(HT).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,u,h){let g=(h=h||this.ngModule)instanceof pl?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new ES(a,g):a,w=_.get(y_,null);if(null===w)throw new Ie(407,!1);const E=_.get(kT,null),D=w.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",M=u?function aS(o,a,c){return o.selectRootElement(a,c===pe.ShadowDom)}(D,u,this.componentDef.encapsulation):jm(D,S,function bS(o){const a=o.toLowerCase();return"svg"===a?ic:"math"===a?"math":null}(S)),B=this.componentDef.onPush?288:272,Y=O_(0,null,null,1,0,null,null,null,null,null),fe=Tp(null,Y,null,B,null,null,w,D,E,_,null);let Pe,ze;hc(fe);try{const Je=this.componentDef;let At,Ce=null;Je.findHostDirectiveDefs?(At=[],Ce=new Map,Je.findHostDirectiveDefs(Je,At,Ce),At.push(Je)):At=[Je];const Vt=function Kd(o,a){const c=o[Ye],u=Dn;return o[u]=a,Ud(c,u,2,"#host",null)}(fe,M),Vn=function CS(o,a,c,u,h,g,_,w){const E=h[Ye];!function DS(o,a,c,u){for(const h of o)a.mergedAttrs=bo(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Mp(a,a.mergedAttrs,!0),null!==c&&Td(u,c,a))}(u,o,a,_);const D=g.createRenderer(a,c),S=Tp(h,gb(c),null,c.onPush?32:16,h[o.index],o,g,D,w||null,null,null);return E.firstCreatePass&&F_(E,o,u.length-1),B_(h,S),h[o.index]=S}(Vt,M,Je,At,fe,w,D);ze=gf(Y,Dn),M&&function dF(o,a,c,u){if(u)ea(o,c,["ng-version",Ww.full]);else{const{attrs:h,classes:g}=function jT(o){const a=[],c=[];let u=1,h=2;for(;u<o.length;){let g=o[u];if("string"==typeof g)2===h?""!==g&&a.push(g,o[++u]):8===h&&c.push(g);else{if(!Ms(h))break;h=g}u++}return{attrs:a,classes:c}}(a.selectors[0]);h&&ea(o,c,h),g&&g.length>0&&pa(o,c,g.join(" "))}}(D,Je,M,u),void 0!==c&&function hF(o,a,c){const u=o.projection=[];for(let h=0;h<a.length;h++){const g=c[h];u.push(null!=g?Array.from(g):null)}}(ze,this.ngContentSelectors,c),Pe=function IS(o,a,c,u,h,g){const _=xr(),w=h[Ye],E=Sr(_,h);uS(w,h,_,c,null,u);for(let S=0;S<c.length;S++)$(zn(h,w,_.directiveStart+S,_),h);N_(w,h,_),E&&$(E,h);const D=zn(h,w,_.directiveStart+_.componentOffset,_);if(o[Pn]=h[Pn]=D,null!==g)for(const S of g)S(D,a);return Wn(w,_,o),D}(Vn,Je,At,Ce,fe,[fF]),ma(Y,fe,null)}finally{xf()}return new wl(this.componentType,Pe,Mo(ze,fe),fe,ze)}}class wl extends xT{constructor(a,c,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new va(h),this.componentType=a}setInput(a,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[a])){const g=this._rootLView;yl(g[Ye],g,h,a,c),Oo(Ar(this._tNode.index,g))}}get injector(){return new ia(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function fF(){const o=xr();fc(he()[Ye],o)}function Jc(o){let a=function Cb(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;a;){let h;if(os(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ie(903,!1);h=a.\u0275dir}if(h){if(c){u.push(h);const _=o;_.inputs=H_(o.inputs),_.declaredInputs=H_(o.declaredInputs),_.outputs=H_(o.outputs);const w=h.hostBindings;w&&TS(o,w);const E=h.viewQuery,D=h.contentQueries;if(E&&$_(o,E),D&&Ib(o,D),ye(o.inputs,h.inputs),ye(o.declaredInputs,h.declaredInputs),ye(o.outputs,h.outputs),os(h)&&h.data.animation){const S=o.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(o),w===Jc&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Db(o){let a=0,c=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=a+=h.hostVars,h.hostAttrs=bo(h.hostAttrs,c=bo(c,h.hostAttrs))}}(u)}function H_(o){return o===X?{}:o===xe?[]:o}function $_(o,a){const c=o.viewQuery;o.viewQuery=c?(u,h)=>{a(u,h),c(u,h)}:a}function Ib(o,a){const c=o.contentQueries;o.contentQueries=c?(u,h,g)=>{a(u,h,g),c(u,h,g)}:a}function TS(o,a){const c=o.hostBindings;o.hostBindings=c?(u,h)=>{a(u,h),c(u,h)}:a}function z_(o){return!!Tb(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Tb(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Rr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function G_(o,a,c,u){const h=he();return Rr(h,wo(),a)&&(jt(),Ro(Mn(),h,o,a,c,u)),G_}function Qd(o,a,c,u,h,g){const w=function El(o,a,c,u){const h=Rr(o,a,c);return Rr(o,a+1,u)||h}(o,function Ti(){return Lt.lFrame.bindingIndex}(),c,h);return as(2),w?a+je(c)+u+je(h)+g:Pt}function Rb(o,a,c,u,h,g,_,w){const E=he(),D=jt(),S=o+Dn,M=D.firstCreatePass?function wF(o,a,c,u,h,g,_,w,E){const D=a.consts,S=Ud(a,o,4,_||null,yo(D,w));k_(a,c,S,yo(D,E)),fc(a,S);const M=S.tView=O_(2,S,u,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,D);return null!==a.queries&&(a.queries.template(a,S),M.queries=a.queries.embeddedTView(S)),S}(S,D,E,a,c,u,h,g,_):D.data[S];Ii(M,!1);const B=E[$t].createComment("");Ed(D,E,B,M),$(B,E),B_(E,E[S]=bb(B,E,B,M)),zu(M)&&_a(D,E,M),null!=_&&pb(E,M,w)}function PS(o){return function ui(o,a){return o[a]}(function iw(){return Lt.lFrame.contextLView}(),Dn+o)}function Pp(o,a,c){const u=he();return Rr(u,wo(),a)&&Ur(jt(),Mn(),u,o,a,u[$t],c,!1),Pp}function Y_(o,a,c,u,h){const _=h?"class":"style";yl(o,c,a.inputs[_],_,u)}function Dl(o,a,c,u){const h=he(),g=jt(),_=Dn+o,w=h[$t],E=g.firstCreatePass?function NS(o,a,c,u,h,g){const _=a.consts,E=Ud(a,o,2,u,yo(_,h));return k_(a,c,E,yo(_,g)),null!==E.attrs&&Mp(E,E.attrs,!1),null!==E.mergedAttrs&&Mp(E,E.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,E),E}(_,g,h,a,c,u):g.data[_],D=h[_]=jm(w,a,function Of(){return Lt.lFrame.currentNamespace}()),S=zu(E);return Ii(E,!0),Td(w,D,E),32!=(32&E.flags)&&Ed(g,h,D,E),0===function Dm(){return Lt.lFrame.elementDepthCount}()&&$(D,h),function yf(){Lt.lFrame.elementDepthCount++}(),S&&(_a(g,h,E),Wn(g,E,h)),null!==u&&pb(h,E),Dl}function ba(){let o=xr();bf()?Ef():(o=o.parent,Ii(o,!1));const a=o;!function Im(){Lt.lFrame.elementDepthCount--}();const c=jt();return c.firstCreatePass&&(fc(c,o),Ga(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function id(o){return 0!=(8&o.flags)}(a)&&Y_(c,a,he(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Mm(o){return 0!=(16&o.flags)}(a)&&Y_(c,a,he(),a.stylesWithoutHost,!1),ba}function Np(o,a,c,u){return Dl(o,a,c,u),ba(),Np}function Fp(o,a,c){const u=he(),h=jt(),g=o+Dn,_=h.firstCreatePass?function FS(o,a,c,u,h){const g=a.consts,_=yo(g,u),w=Ud(a,o,8,"ng-container",_);return null!==_&&Mp(w,_,!0),k_(a,c,w,yo(g,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(g,h,u,a,c):h.data[g];Ii(_,!0);const w=u[g]=u[$t].createComment("");return Ed(h,u,w,_),$(w,u),zu(_)&&(_a(h,u,_),Wn(h,_,u)),null!=c&&pb(u,_),Fp}function io(){let o=xr();const a=jt();return bf()?Ef():(o=o.parent,Ii(o,!1)),a.firstCreatePass&&(fc(a,o),Ga(o)&&a.queries.elementEnd(o)),io}function Q_(){return he()}function Ob(o){return!!o&&"function"==typeof o.then}function LS(o){return!!o&&"function"==typeof o.subscribe}const X_=LS;function J_(o,a,c,u){const h=he(),g=jt(),_=xr();return function Il(o,a,c,u,h,g,_){const w=zu(u),D=o.firstCreatePass&&Wd(o),S=a[Pn],M=Gd(a);let B=!0;if(3&u.type||_){const Pe=Sr(u,a),ze=_?_(Pe):Pe,Je=M.length,At=_?Vt=>_(pr(Vt[u.index])):u.index;let Ce=null;if(!_&&w&&(Ce=function VS(o,a,c,u){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===c&&h[g+1]===u){const w=a[qo],E=h[g+2];return w.length>E?w[E]:null}"string"==typeof _&&(g+=2)}return null}(o,a,h,u.index)),null!==Ce)(Ce.__ngLastListenerFn__||Ce).__ngNextListenerFn__=g,Ce.__ngLastListenerFn__=g,B=!1;else{g=Pb(u,a,S,g,!1);const Vt=c.listen(ze,h,g);M.push(g,Vt),D&&D.push(h,At,Je,Je+1)}}else g=Pb(u,a,S,g,!1);const Y=u.outputs;let fe;if(B&&null!==Y&&(fe=Y[h])){const Pe=fe.length;if(Pe)for(let ze=0;ze<Pe;ze+=2){const Vn=a[fe[ze]][fe[ze+1]].subscribe(g),Qn=M.length;M.push(g,Vn),D&&D.push(h,u.index,Qn,-(Qn+1))}}}(g,h,h[$t],_,o,a,u),J_}function BS(o,a,c,u){try{return Di(6,a,c),!1!==c(u)}catch(h){return U_(o,h),!1}finally{Di(7,a,c)}}function Pb(o,a,c,u,h){return function g(_){if(_===Function)return u;Oo(o.componentOffset>-1?Ar(o.index,a):a);let E=BS(a,c,u,_),D=g.__ngNextListenerFn__;for(;D;)E=BS(a,c,D,_)&&E,D=D.__ngNextListenerFn__;return h&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function US(o=1){return function Sm(o){return(Lt.lFrame.contextLView=function Mf(o,a){for(;o>0;)a=a[Ko],o--;return a}(o,Lt.lFrame.contextLView))[Pn]}(o)}function EF(o,a){let c=null;const u=function Cp(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===u?Fd(o,g,!0):UT(u,g))return h}else c=h}return c}function Nb(o){const a=he()[ir][rr];if(!a.projection){const u=a.projection=Ic(o?o.length:1,null),h=u.slice();let g=a.child;for(;null!==g;){const _=o?EF(g,o):0;null!==_&&(h[_]?h[_].projectionNext=g:u[_]=g,h[_]=g),g=g.next}}}function Fb(o,a=0,c){const u=he(),h=jt(),g=Ud(h,Dn+o,16,null,c||null);null===g.projection&&(g.projection=a),Ef(),32!=(32&g.flags)&&function vw(o,a,c){Zm(a[$t],0,a,c,lp(o,c,a),Wm(c.parent||a[rr],c,a))}(h,u,g)}function ty(o,a){return o<<17|a<<2}function Tl(o){return o>>17&32767}function ny(o){return 2|o}function Sl(o){return(131068&o)>>2}function ry(o,a){return-131069&o|a<<2}function iy(o){return 1|o}function qS(o,a,c,u,h){const g=o[c+1],_=null===a;let w=u?Tl(g):Sl(g),E=!1;for(;0!==w&&(!1===E||_);){const S=o[w+1];TF(o[w],a)&&(E=!0,o[w+1]=u?iy(S):ny(S)),w=u?Tl(S):Sl(S)}E&&(o[c+1]=u?ny(g):iy(g))}function TF(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ki(o,a)>=0}function sy(o,a,c){return so(o,a,c,!1),sy}function Gb(o,a){return so(o,a,null,!0),Gb}function so(o,a,c,u){const h=he(),g=jt(),_=as(2);g.firstUpdatePass&&function tA(o,a,c,u){const h=o.data;if(null===h[c+1]){const g=h[Mr()],_=function eA(o,a){return a>=o.expandoStartIndex}(o,c);(function sA(o,a){return 0!=(o.flags&(a?8:16))})(g,u)&&null===a&&!_&&(a=!1),a=function PF(o,a,c,u){const h=function dc(o){const a=Lt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=u?a.residualClasses:a.residualStyles;if(null===h)0===(u?a.classBindings:a.styleBindings)&&(c=Lp(c=Wb(null,o,a,c,u),a.attrs,u),g=null);else{const _=a.directiveStylingLast;if(-1===_||o[_]!==h)if(c=Wb(h,o,a,c,u),null===g){let E=function NF(o,a,c){const u=c?a.classBindings:a.styleBindings;if(0!==Sl(u))return o[Tl(u)]}(o,a,u);void 0!==E&&Array.isArray(E)&&(E=Wb(null,o,a,E[1],u),E=Lp(E,a.attrs,u),function FF(o,a,c,u){o[Tl(c?a.classBindings:a.styleBindings)]=u}(o,a,u,E))}else g=function LF(o,a,c){let u;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)u=Lp(u,o[g].hostAttrs,c);return Lp(u,a.attrs,c)}(o,a,u)}return void 0!==g&&(u?a.residualClasses=g:a.residualStyles=g),c}(h,g,a,u),function WS(o,a,c,u,h,g){let _=g?a.classBindings:a.styleBindings,w=Tl(_),E=Sl(_);o[u]=c;let S,D=!1;if(Array.isArray(c)?(S=c[1],(null===S||Ki(c,S)>0)&&(D=!0)):S=c,h)if(0!==E){const B=Tl(o[w+1]);o[u+1]=ty(B,w),0!==B&&(o[B+1]=ry(o[B+1],u)),o[w+1]=function zS(o,a){return 131071&o|a<<17}(o[w+1],u)}else o[u+1]=ty(w,0),0!==w&&(o[w+1]=ry(o[w+1],u)),w=u;else o[u+1]=ty(E,0),0===w?w=u:o[E+1]=ry(o[E+1],u),E=u;D&&(o[u+1]=ny(o[u+1])),qS(o,S,u,!0),qS(o,S,u,!1),function IF(o,a,c,u,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Ki(g,a)>=0&&(c[u+1]=iy(c[u+1]))}(a,S,o,u,g),_=ty(w,E),g?a.classBindings=_:a.styleBindings=_}(h,g,a,c,_,u)}}(g,o,_,u),a!==Pt&&Rr(h,_,a)&&function rA(o,a,c,u,h,g,_,w){if(!(3&a.type))return;const E=o.data,D=E[w+1],S=function GS(o){return 1==(1&o)}(D)?iA(E,a,c,h,Sl(D),_):void 0;oy(S)||(oy(g)||function jb(o){return 2==(2&o)}(D)&&(g=iA(E,null,c,h,w,_)),function to(o,a,c,u,h){if(a)h?o.addClass(c,u):o.removeClass(c,u);else{let g=-1===u.indexOf("-")?void 0:bt.DashCase;null==h?o.removeStyle(c,u,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=bt.Important),o.setStyle(c,u,h,g))}}(u,_,Zo(Mr(),c),h,g))}(g,g.data[Mr()],h,h[$t],o,h[_+1]=function HF(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=_e(As(o)))),o}(a,c),u,_)}function Wb(o,a,c,u,h){let g=null;const _=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<_&&(g=a[w],u=Lp(u,g.hostAttrs,h),g!==o);)w++;return null!==o&&(c.directiveStylingLast=w),u}function Lp(o,a,c){const u=c?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const _=a[g];"number"==typeof _?h=_:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Si(o,_,!!c||a[++g]))}return void 0===o?null:o}function iA(o,a,c,u,h,g){const _=null===a;let w;for(;h>0;){const E=o[h],D=Array.isArray(E),S=D?E[1]:E,M=null===S;let B=c[h+1];B===Pt&&(B=M?xe:void 0);let Y=M?In(B,u):S===u?B:void 0;if(D&&!oy(Y)&&(Y=In(E,u)),oy(Y)&&(w=Y,_))return w;const fe=o[h+1];h=_?Tl(fe):Sl(fe)}if(null!==a){let E=g?a.residualClasses:a.residualStyles;null!=E&&(w=In(E,u))}return w}function oy(o){return void 0!==o}function qb(o,a=""){const c=he(),u=jt(),h=o+Dn,g=u.firstCreatePass?Ud(u,h,1,a,null):u.data[h],_=c[h]=function Nc(o,a){return o.createText(a)}(c[$t],a);Ed(u,c,_,g),Ii(g,!1)}function ay(o,a,c){const u=he(),h=function Zd(o,a,c,u){return Rr(o,wo(),c)?a+je(c)+u:Pt}(u,o,a,c);return h!==Pt&&Os(u,Mr(),h),ay}function Yb(o,a,c,u,h){const g=he(),_=Qd(g,o,a,c,u,h);return _!==Pt&&Os(g,Mr(),_),Yb}function Zb(o,a,c){const u=he();return Rr(u,wo(),a)&&Ur(jt(),Mn(),u,o,a,u[$t],c,!0),Zb}const tu=void 0;var aL=["en",[["a","p"],["AM","PM"],tu],[["AM","PM"],tu,tu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tu,"{1} 'at' {0}",tu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oL(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let th={};function Qb(o){const a=function lL(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=DA(a);if(c)return c;const u=a.split("-")[0];if(c=DA(u),c)return c;if("en"===u)return aL;throw new Ie(701,!1)}function CA(o){return Qb(o)[St.PluralCase]}function DA(o){return o in th||(th[o]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[o]),th[o]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const nh="en-US";let Xb=nh;function lh(o,a,c,u,h){if(o=G(o),Array.isArray(o))for(let g=0;g<o.length;g++)lh(o[g],a,c,u,h);else{const g=jt(),_=he();let w=xo(o)?o:G(o.provide),E=p_(o);const D=xr(),S=1048575&D.providerIndexes,M=D.directiveStart,B=D.providerIndexes>>20;if(xo(o)||!o.multi){const Y=new ls(E,h,Xc),fe=gE(w,a,h?S:S+B,M);-1===fe?(Zs(ld(D,_),g,w),my(g,o,a.length),a.push(w),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),c.push(Y),_.push(Y)):(c[fe]=Y,_[fe]=Y)}else{const Y=gE(w,a,S+B,M),fe=gE(w,a,S,S+B),ze=fe>=0&&c[fe];if(h&&!ze||!h&&!(Y>=0&&c[Y])){Zs(ld(D,_),g,w);const Je=function RL(o,a,c,u,h){const g=new ls(o,c,Xc);return g.multi=[],g.index=a,g.componentProviders=0,_y(g,h,u&&!c),g}(h?ML:xL,c.length,h,u,E);!h&&ze&&(c[fe].providerFactory=Je),my(g,o,a.length,0),a.push(w),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),c.push(Je),_.push(Je)}else my(g,o,Y>-1?Y:fe,_y(c[h?fe:Y],E,!h&&u));!h&&u&&ze&&c[fe].componentProviders++}}}function my(o,a,c,u){const h=xo(a),g=function yp(o){return!!o.useClass}(a);if(h||g){const E=(g?G(a.useClass):a).prototype.ngOnDestroy;if(E){const D=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const S=D.indexOf(c);-1===S?D.push(c,[u,E]):D[S+1].push(u,E)}else D.push(c,E)}}}function _y(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function gE(o,a,c,u){for(let h=c;h<u;h++)if(a[h]===o)return h;return-1}function xL(o,a,c,u){return mE(this.multi,[])}function ML(o,a,c,u){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=zn(c,c[Ye],this.providerFactory.index,u);g=w.slice(0,_),mE(h,g);for(let E=_;E<w.length;E++)g.push(w[E])}else g=[],mE(h,g);return g}function mE(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function JA(o,a=[]){return c=>{c.providersResolver=(u,h)=>function pE(o,a,c){const u=jt();if(u.firstCreatePass){const h=os(o);lh(c,u.data,u.blueprint,h,!0),lh(a,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,a)}}class ch{}class ex{}function _E(o,a){return new tx(o,a??null)}class tx extends ch{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Op(this);const u=nr(a);this._bootstrapComponents=no(u.bootstrap),this._r3Injector=T_(a,c,[{provide:ch,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver}],_e(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class yy extends ex{constructor(a){super(),this.moduleType=a}create(a){return new tx(this.moduleType,a)}}class nx extends ch{constructor(a,c,u){super(),this.componentFactoryResolver=new Op(this),this.instance=null;const h=new Uw([...a,{provide:ch,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver}],c||wp(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Xi(o,a,c=null){return new nx(o,a,c).injector}let OL=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const u=jc(0,c.type),h=u.length>0?Xi([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Re({token:o,providedIn:"environment",factory:()=>new o(_n(pl))}),o})();function rx(o){o.getStandaloneInjector=a=>a.get(OL).getOrCreateStandaloneInjector(o)}function DE(o){return a=>{setTimeout(o,void 0,a)}}const Fo=class QL extends f.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,u){let h=a,g=c||(()=>null),_=u;if(a&&"object"==typeof a){const E=a;h=E.next?.bind(E),g=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(g=DE(g),h&&(h=DE(h)),_&&(_=DE(_)));const w=super.subscribe({next:h,error:g,complete:_});return a instanceof q.w0&&a.add(w),w}};function XL(){return this._results[Symbol.iterator]()}class Cy{get changes(){return this._changes||(this._changes=new Fo)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Cy.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=XL)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const u=this;u.dirty=!1;const h=function qi(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function hd(o,a,c){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],g=a[u];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(u._results,h,c))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gp=(()=>{class o{}return o.__NG_ELEMENT_ID__=t2,o})();const JL=Gp,e2=class extends JL{constructor(a,c,u){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(a,c){const u=this._declarationTContainer.tView,h=Tp(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null,c||null);h[ja]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[is];return null!==_&&(h[is]=_.createEmbeddedView(u)),ma(u,h,a),new vl(h)}};function t2(){return fh(xr(),he())}function fh(o,a){return 4&o.type?new e2(a,o,Mo(o,a)):null}let Wp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Lo,o})();function Lo(){return Ps(xr(),he())}const Dy=Wp,ph=class extends Dy{constructor(a,c,u){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=u}get element(){return Mo(this._hostTNode,this._hostLView)}get injector(){return new ia(this._hostTNode,this._hostLView)}get parentInjector(){const a=Lf(this._hostTNode,this._hostLView);if(Qa(a)){const c=_c(a,this._hostLView),u=ta(a);return new ia(c[Ye].data[u+8],c)}return new ia(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Iy(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Br}createEmbeddedView(a,c,u){let h,g;"number"==typeof u?h=u:null!=u&&(h=u.index,g=u.injector);const _=a.createEmbeddedView(c||{},g);return this.insert(_,h),_}createComponent(a,c,u,h,g){const _=a&&!function Dc(o){return"function"==typeof o}(a);let w;if(_)w=c;else{const M=c||{};w=M.index,u=M.injector,h=M.projectableNodes,g=M.environmentInjector||M.ngModuleRef}const E=_?a:new qd(ut(a)),D=u||this.parentInjector;if(!g&&null==E.ngModule){const B=(_?D:this.parentInjector).get(pl,null);B&&(g=B)}const S=E.create(D,h,void 0,g);return this.insert(S.hostView,w),S}insert(a,c){const u=a._lView,h=u[Ye];if(function Cm(o){return Wi(o[Cn])}(u)){const S=this.indexOf(a);if(-1!==S)this.detach(S);else{const M=u[Cn],B=new ph(M,M[rr],M[Cn]);B.detach(B.indexOf(a))}}const g=this._adjustIndex(c),_=this._lContainer;!function rT(o,a,c,u){const h=Br+u,g=c.length;u>0&&(c[h-1][Ci]=a),u<g-Br?(a[Ci]=c[h],Lm(c,Br+u,a)):(c.push(a),a[Ci]=null),a[Cn]=c;const _=a[ja];null!==_&&c!==_&&function iT(o,a){const c=o[za];a[ir]!==a[Cn][Cn][ir]&&(o[ju]=!0),null===c?o[za]=[a]:c.push(a)}(_,a);const w=a[is];null!==w&&w.insertView(o),a[Ht]|=64}(h,u,_,g);const w=fa(g,_),E=u[$t],D=Ao(E,_[tc]);return null!==D&&function tT(o,a,c,u,h,g){u[Gi]=h,u[rr]=a,Dd(o,u,c,1,h,g)}(h,_[rr],E,u,D,w),a.attachToViewContainerRef(),Lm(qp(_),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Iy(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),u=zm(this._lContainer,c);u&&(tl(qp(this._lContainer),c),ap(u[Ye],u))}detach(a){const c=this._adjustIndex(a,-1),u=zm(this._lContainer,c);return u&&null!=tl(qp(this._lContainer),c)?new vl(u):null}_adjustIndex(a,c=0){return a??this.length+c}};function Iy(o){return o[Yo]}function qp(o){return o[Yo]||(o[Yo]=[])}function Ps(o,a){let c;const u=a[o.index];if(Wi(u))c=u;else{let h;if(8&o.type)h=pr(u);else{const g=a[$t];h=g.createComment("");const _=Sr(o,a);ha(g,Ao(g,_),h,function _w(o,a){return o.nextSibling(a)}(g,_),!1)}a[o.index]=c=bb(u,a,h,o),B_(a,c)}return new ph(c,o,a)}class Ea{constructor(a){this.queryList=a,this.matches=null}clone(){return new Ea(this.queryList)}setDirty(){this.queryList.setDirty()}}class IE{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const u=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let g=0;g<u;g++){const _=c.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new IE(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==OE(a,c).matches&&this.queries[c].setDirty()}}class gh{constructor(a,c,u=null){this.predicate=a,this.flags=c,this.read=u}}class TE{constructor(a=[]){this.queries=a}elementStart(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,g=this.getByIndex(u).embeddedTView(a,h);g&&(g.indexInDeclarationView=u,null!==c?c.push(g):c=[g])}return null!==c?new TE(c):null}template(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Kp{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Kp(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(a,c,n2(c,g)),this.matchTNodeWithReadOption(a,c,ra(c,a,g,!1,!1))}else u===Gp?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,ra(c,a,u,!1,!1))}matchTNodeWithReadOption(a,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===qc||h===Wp||h===Gp&&4&c.type)this.addMatch(c.index,-2);else{const g=ra(c,a,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,u)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function n2(o,a){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===a)return c[u+1];return null}function r2(o,a,c,u){return-1===c?function SE(o,a){return 11&o.type?Mo(o,a):4&o.type?fh(o,a):null}(a,o):-2===c?function AE(o,a,c){return c===qc?Mo(a,o):c===Gp?fh(a,o):c===Wp?Ps(a,o):void 0}(o,a,u):zn(o,o[Ye],c,a)}function ou(o,a,c,u){const h=a[is].queries[u];if(null===h.matches){const g=o.data,_=c.matches,w=[];for(let E=0;E<_.length;E+=2){const D=_[E];w.push(D<0?null:r2(a,g[D],_[E+1],c.metadata.read))}h.matches=w}return h.matches}function Yp(o,a,c,u){const h=o.queries.getByIndex(c),g=h.matches;if(null!==g){const _=ou(o,a,h,c);for(let w=0;w<g.length;w+=2){const E=g[w];if(E>0)u.push(_[w/2]);else{const D=g[w+1],S=a[-E];for(let M=Br;M<S.length;M++){const B=S[M];B[ja]===B[Cn]&&Yp(B[Ye],B,D,u)}if(null!==S[za]){const M=S[za];for(let B=0;B<M.length;B++){const Y=M[B];Yp(Y[Ye],Y,D,u)}}}}}return u}function Zp(o){const a=he(),c=jt(),u=Zu();If(u+1);const h=OE(c,u);if(o.dirty&&function mf(o){return 4==(4&o[Ht])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?Yp(c,a,u,[]):ou(c,a,h,u);o.reset(g,kd),o.notifyOnChanges()}return!0}return!1}function xE(o,a,c){const u=jt();u.firstCreatePass&&(RE(u,new gh(o,a,c),-1),2==(2&a)&&(u.staticViewQueries=!0)),Ty(u,he(),a)}function mh(o,a,c,u){const h=jt();if(h.firstCreatePass){const g=xr();RE(h,new gh(a,c,u),g.index),function dx(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}Ty(h,he(),c)}function Qp(){return function ME(o,a){return o[is].queries[a].queryList}(he(),Zu())}function Ty(o,a,c){const u=new Cy(4==(4&c));$d(o,a,u,u.destroy),null===a[is]&&(a[is]=new IE),a[is].queries.push(new Ea(u))}function RE(o,a,c){null===o.queries&&(o.queries=new TE),o.queries.track(new Kp(a,c))}function OE(o,a){return o.queries.getByIndex(a)}function Ay(o){return!!nr(o)}function Ly(...o){}const Dx=new en("Application Initializer");let ag=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Ly,this.reject=Ly,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Ob(g))c.push(g);else if(X_(g)){const _=new Promise((w,E)=>{g.subscribe({complete:w,error:E})});c.push(_)}}Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(_n(Dx,8))},o.\u0275prov=Re({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const HE=new en("AppId",{providedIn:"root",factory:function Vy(){return`${$E()}${$E()}${$E()}`}});function $E(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ix=new en("Platform Initializer"),g2=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),By=new en("AnimationModuleType");let Sx=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Re({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const lg=new en("LocaleId",{providedIn:"root",factory:()=>qr(lg,ht.Optional|ht.SkipSelf)||function Ax(){return typeof $localize<"u"&&$localize.locale||nh}()}),jE=new en("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class y2{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let cu=(()=>{class o{compileModuleSync(c){return new yy(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),g=no(nr(c).declarations).reduce((_,w)=>{const E=ut(w);return E&&_.push(new qd(E)),_},[]);return new y2(u,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Re({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const w2=(()=>Promise.resolve(0))();function zE(o){typeof Zone>"u"?w2.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ns{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fo(!1),this.onMicrotaskEmpty=new Fo(!1),this.onStable=new Fo(!1),this.onError=new Fo(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function b2(){let o=mn.requestAnimationFrame,a=mn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Rx(o){const a=()=>{!function cg(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(mn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Ml(o),o.isCheckStableRunning=!0,Hy(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Ml(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,g,_,w)=>{try{return $y(o),c.invokeTask(h,g,_,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),GE(o)}},onInvoke:(c,u,h,g,_,w,E)=>{try{return $y(o),c.invoke(h,g,_,w,E)}finally{o.shouldCoalesceRunChangeDetection&&a(),GE(o)}},onHasTask:(c,u,h,g)=>{c.hasTask(h,g),u===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Ml(o),Hy(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,u,h,g)=>(c.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ns.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Ns.isInAngularZone())throw new Ie(909,!1)}run(a,c,u){return this._inner.run(a,c,u)}runTask(a,c,u,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,a,E2,Ly,Ly);try{return g.runTask(_,c,u)}finally{g.cancelTask(_)}}runGuarded(a,c,u){return this._inner.runGuarded(a,c,u)}runOutsideAngular(a){return this._outer.run(a)}}const E2={};function Hy(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Ml(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function $y(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function GE(o){o._nesting--,Hy(o)}class WE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fo,this.onMicrotaskEmpty=new Fo,this.onStable=new Fo,this.onError=new Fo}run(a,c,u){return a.apply(c,u)}runGuarded(a,c,u){return a.apply(c,u)}runOutsideAngular(a){return a()}runTask(a,c,u,h){return a.apply(c,u)}}const jy=new en(""),Ia=new en("");let du,ug=(()=>{class o{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,du||(function C2(o){du=o}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ns.assertNotInAngularZone(),zE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zE(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(_n(Ns),_n(qE),_n(Ia))},o.\u0275prov=Re({token:o,factory:o.\u0275fac}),o})(),qE=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return du?.findTestabilityInTree(this,c,u)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Re({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const lo=!1;let Ta=null;const KE=new en("AllowMultipleToken"),zy=new en("PlatformDestroyListeners"),YE=new en("appBootstrapListener");class Nx{constructor(a,c){this.name=a,this.token=c}}function Fs(o,a,c=[]){const u=`Platform: ${a}`,h=new en(u);return(g=[])=>{let _=Ky();if(!_||_.injector.get(KE,!1)){const w=[...c,...g,{provide:h,useValue:!0}];o?o(w):function Gy(o){if(Ta&&!Ta.get(KE,!1))throw new Ie(400,!1);Ta=o;const a=o.get(ZE);(function Wy(o){const a=o.get(Ix,null);a&&a.forEach(c=>c())})(o)}(function qy(o=[],a){return Yc.create({name:a,providers:[{provide:ga,useValue:"platform"},{provide:zy,useValue:new Set([()=>Ta=null])},...o]})}(w,u))}return function Lx(o){const a=Ky();if(!a)throw new Ie(401,!1);return a}()}}function Ky(){return Ta?.get(ZE)??null}let ZE=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function QE(o,a){let c;return c="noop"===o?new WE:("zone.js"===o?void 0:o)||new Ns(a),c}(u?.ngZone,function yh(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:Ns,useValue:h}];return h.run(()=>{const _=Yc.create({providers:g,parent:this.injector,name:c.moduleType.name}),w=c.create(_),E=w.injector.get(Pd,null);if(!E)throw new Ie(402,!1);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:S=>{E.handleError(S)}});w.onDestroy(()=>{Ls(this._modules,w),D.unsubscribe()})}),function Vo(o,a,c){try{const u=c();return Ob(u)?u.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(E,h,()=>{const D=w.injector.get(ag);return D.runInitializers(),D.donePromise.then(()=>(function Jb(o){ie(o,"Expected localeId to be defined"),"string"==typeof o&&(Xb=o.toLowerCase().replace(/_/g,"-"))}(w.injector.get(lg,nh)||nh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,u=[]){const h=Yy({},u);return function Ox(o,a,c){const u=new yy(c);return Promise.resolve(u)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const u=c.injector.get(_r);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Ie(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(zy,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(_n(Yc))},o.\u0275prov=Re({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Yy(o,a){return Array.isArray(a)?a.reduce(Yy,o):{...o,...a}}let _r=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,u,h){this._zone=c,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new W.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new W.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Ns.assertNotInAngularZone(),zE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{Ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),D.unsubscribe()}});this.isStable=(0,re.T)(g,_.pipe((0,oe.B)()))}bootstrap(c,u){const h=c instanceof $w;if(!this._injector.get(ag).done){!h&&Vr(c);throw new Ie(405,lo)}let _;_=h?c:this._injector.get(Wc).resolveComponentFactory(c),this.componentTypes.push(_.componentType);const w=function Px(o){return o.isBoundToModule}(_)?void 0:this._injector.get(ch),D=_.create(Yc.NULL,[],u||_.selector,w),S=D.location.nativeElement,M=D.injector.get(jy,null);return M?.registerApplication(S),D.onDestroy(()=>{this.detachView(D.hostView),Ls(this.components,D),M?.unregisterApplication(S)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;Ls(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(YE,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Ls(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ie(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(_n(Ns),_n(pl),_n(Pd))},o.\u0275prov=Re({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Ls(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}function JE(){return!1}let eC=(()=>{class o{}return o.__NG_ELEMENT_ID__=tC,o})();function tC(o){return function nC(o,a,c){if(nc(o)&&!c){const u=Ar(o.index,a);return new vl(u,u)}return 47&o.type?new vl(a[ir],a):null}(xr(),he(),16==(16&o))}class Kx{constructor(){}supports(a){return z_(a)}create(a){return new iC(a)}}const T2=(o,a)=>a;class iC{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||T2}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,u=this._removalsHead,h=0,g=null;for(;c||u;){const _=!u||c&&c.currentIndex<oC(u,h,g)?c:u,w=oC(_,h,g),E=_.currentIndex;if(_===u)h--,u=u._nextRemoved;else if(c=c._next,null==_.previousIndex)h++;else{g||(g=[]);const D=w-h,S=E-h;if(D!=S){for(let B=0;B<D;B++){const Y=B<g.length?g[B]:g[B]=0,fe=Y+B;S<=fe&&fe<D&&(g[B]=Y+1)}g[_.previousIndex]=S-D}}w!==E&&a(_,w,E)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!z_(a))throw new Ie(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,_,c=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)g=a[w],_=this._trackByFn(w,g),null!==c&&Object.is(c.trackById,_)?(u&&(c=this._verifyReinsertion(c,g,_,w)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,_,w),u=!0),c=c._next}else h=0,function _F(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)a(u.value)}}(a,w=>{_=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,_)?(u&&(c=this._verifyReinsertion(c,w,_,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,_,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,u,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,h)):a=this._addAfter(new sC(c,u),g,h),a}_verifyReinsertion(a,c,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,c,u),this._addToMoves(a,u),a}_moveAfter(a,c,u){return this._unlink(a),this._insertAfter(a,c,u),this._addToMoves(a,u),a}_addAfter(a,c,u){return this._insertAfter(a,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,u){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new bh),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,u=a._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bh),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class sC{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nv{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const c=a._prevDup,u=a._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class bh{constructor(){this.map=new Map}put(a){const c=a.trackById;let u=this.map.get(c);u||(u=new nv,this.map.set(c,u)),u.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oC(o,a,c){const u=o.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+a+h}class pg{constructor(){}supports(a){return a instanceof Map||Tb(a)}create(){return new Yx}}class Yx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Tb(a)))throw new Ie(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const u=a._prev;return c._next=a,c._prev=u,a._prev=c,u&&(u._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const u=new S2(a);return this._records.set(a,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(u=>c(a[u],u))}}class S2{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zx(){return new aC([new Kx])}let aC=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||Zx()),deps:[[o,new It,new rl]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new Ie(901,!1)}}return o.\u0275prov=Re({token:o,providedIn:"root",factory:Zx}),o})();function Qx(){return new lC([new pg])}let lC=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||Qx()),deps:[[o,new It,new rl]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new Ie(901,!1)}}return o.\u0275prov=Re({token:o,providedIn:"root",factory:Qx}),o})();const eM=Fs(null,"core",[]);let tM=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(_n(_r))},o.\u0275mod=J({type:o}),o.\u0275inj=Xe({}),o})();function rv(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},7212:(mt,Ee,R)=>{R.r(Ee),R.d(Ee,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>zs,_DEFAULT_ENTRY_NAME:()=>ji,_addComponent:()=>lt,_addOrOverwriteComponent:()=>Ft,_apps:()=>mn,_clearComponents:()=>ts,_components:()=>ln,_getProvider:()=>oi,_registerComponent:()=>wi,_removeServiceInstance:()=>Tr,deleteApp:()=>Gs,getApp:()=>ns,getApps:()=>_n,initializeApp:()=>Jt,onLog:()=>rs,registerVersion:()=>li,setLogLevel:()=>bi});var f=R(5861),q=R(1617),W=R(9357),re=R(5578);const oe=(de,J)=>J.some(Te=>de instanceof Te);let K,ye;const U=new WeakMap,L=new WeakMap,G=new WeakMap,Le=new WeakMap,be=new WeakMap;let Ie={get(de,J,Te){if(de instanceof IDBTransaction){if("done"===J)return L.get(de);if("objectStoreNames"===J)return de.objectStoreNames||G.get(de);if("store"===J)return Te.objectStoreNames[1]?void 0:Te.objectStore(Te.objectStoreNames[0])}return Be(de[J])},set:(de,J,Te)=>(de[J]=Te,!0),has:(de,J)=>de instanceof IDBTransaction&&("done"===J||"store"===J)||J in de};function at(de){return"function"==typeof de?function je(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...J){return de.apply(Oe(this),J),Be(U.get(this))}:function(...J){return Be(de.apply(Oe(this),J))}:function(J,...Te){const ct=de.call(Oe(this),J,...Te);return G.set(ct,J.sort?J.sort():[J]),Be(ct)}}(de):(de instanceof IDBTransaction&&function yt(de){if(L.has(de))return;const J=new Promise((Te,ct)=>{const Tt=()=>{de.removeEventListener("complete",Kt),de.removeEventListener("error",ut),de.removeEventListener("abort",ut)},Kt=()=>{Te(),Tt()},ut=()=>{ct(de.error||new DOMException("AbortError","AbortError")),Tt()};de.addEventListener("complete",Kt),de.addEventListener("error",ut),de.addEventListener("abort",ut)});L.set(de,J)}(de),oe(de,function _e(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Ie):de)}function Be(de){if(de instanceof IDBRequest)return function $e(de){const J=new Promise((Te,ct)=>{const Tt=()=>{de.removeEventListener("success",Kt),de.removeEventListener("error",ut)},Kt=()=>{Te(Be(de.result)),Tt()},ut=()=>{ct(de.error),Tt()};de.addEventListener("success",Kt),de.addEventListener("error",ut)});return J.then(Te=>{Te instanceof IDBCursor&&U.set(Te,de)}).catch(()=>{}),be.set(J,de),J}(de);if(Le.has(de))return Le.get(de);const J=at(de);return J!==de&&(Le.set(de,J),be.set(J,de)),J}const Oe=de=>be.get(de),st=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],Wt=new Map;function sn(de,J){if(!(de instanceof IDBDatabase)||J in de||"string"!=typeof J)return;if(Wt.get(J))return Wt.get(J);const Te=J.replace(/FromIndex$/,""),ct=J!==Te,Tt=Et.includes(Te);if(!(Te in(ct?IDBIndex:IDBObjectStore).prototype)||!Tt&&!st.includes(Te))return;const Kt=function(){var ut=(0,f.Z)(function*(cn,...nn){const Vr=this.transaction(cn,Tt?"readwrite":"readonly");let nr=Vr.store;return ct&&(nr=nr.index(nn.shift())),(yield Promise.all([nr[Te](...nn),Tt&&Vr.done]))[0]});return function(nn){return ut.apply(this,arguments)}}();return Wt.set(J,Kt),Kt}!function dt(de){Ie=de(Ie)}(de=>({...de,get:(J,Te,ct)=>sn(J,Te)||de.get(J,Te,ct),has:(J,Te)=>!!sn(J,Te)||de.has(J,Te)}));const Cr=new W.Yd("@firebase/app"),ji="[DEFAULT]",po={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,ln=new Map;function lt(de,J){try{de.container.addComponent(J)}catch(Te){Cr.debug(`Component ${J.name} failed to register with FirebaseApp ${de.name}`,Te)}}function Ft(de,J){de.container.addOrOverwriteComponent(J)}function wi(de){const J=de.name;if(ln.has(J))return Cr.debug(`There were multiple attempts to register component ${J}.`),!1;ln.set(J,de);for(const Te of mn.values())lt(Te,de);return!0}function oi(de,J){const Te=de.container.getProvider("heartbeat").getImmediate({optional:!0});return Te&&Te.triggerHeartbeat(),de.container.getProvider(J)}function Tr(de,J,Te=ji){oi(de,J).clearInstance(Te)}function ts(){ln.clear()}const ai=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vn{constructor(J,Te,ct){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Te),this._name=Te.name,this._automaticDataCollectionEnabled=Te.automaticDataCollectionEnabled,this._container=ct,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}const zs="9.23.0";function Jt(de,J={}){let Te=de;"object"!=typeof J&&(J={name:J});const ct=Object.assign({name:ji,automaticDataCollectionEnabled:!1},J),Tt=ct.name;if("string"!=typeof Tt||!Tt)throw ai.create("bad-app-name",{appName:String(Tt)});if(Te||(Te=(0,re.aH)()),!Te)throw ai.create("no-options");const Kt=mn.get(Tt);if(Kt){if((0,re.vZ)(Te,Kt.options)&&(0,re.vZ)(ct,Kt.config))return Kt;throw ai.create("duplicate-app",{appName:Tt})}const ut=new q.H0(Tt);for(const nn of ln.values())ut.addComponent(nn);const cn=new vn(Te,ct,ut);return mn.set(Tt,cn),cn}function ns(de=ji){const J=mn.get(de);if(!J&&de===ji&&(0,re.aH)())return Jt();if(!J)throw ai.create("no-app",{appName:de});return J}function _n(){return Array.from(mn.values())}function Gs(de){return qr.apply(this,arguments)}function qr(){return(qr=(0,f.Z)(function*(de){const J=de.name;mn.has(J)&&(mn.delete(J),yield Promise.all(de.container.getProviders().map(Te=>Te.delete())),de.isDeleted=!0)})).apply(this,arguments)}function li(de,J,Te){var ct;let Tt=null!==(ct=po[de])&&void 0!==ct?ct:de;Te&&(Tt+=`-${Te}`);const Kt=Tt.match(/\s|\//),ut=J.match(/\s|\//);if(Kt||ut){const cn=[`Unable to register library "${Tt}" with version "${J}":`];return Kt&&cn.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),Kt&&ut&&cn.push("and"),ut&&cn.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void Cr.warn(cn.join(" "))}wi(new q.wA(`${Tt}-version`,()=>({library:Tt,version:J}),"VERSION"))}function rs(de,J){if(null!==de&&"function"!=typeof de)throw ai.create("invalid-log-argument");(0,W.Am)(de,J)}function bi(de){(0,W.Ub)(de)}},1617:(mt,Ee,R)=>{R.d(Ee,{H0:()=>_e,wA:()=>W});var f=R(5861),q=R(5578);class W{constructor(U,L,G){this.name=U,this.instanceFactory=L,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const re="[DEFAULT]";class oe{constructor(U,L){this.name=U,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const L=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(L)){const G=new q.BH;if(this.instancesDeferred.set(L,G),this.isInitialized(L)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:L});Le&&G.resolve(Le)}catch{}}return this.instancesDeferred.get(L).promise}getImmediate(U){var L;const G=this.normalizeInstanceIdentifier(U?.identifier),Le=null!==(L=U?.optional)&&void 0!==L&&L;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(be){if(Le)return null;throw be}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function ye(me){return"EAGER"===me.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[L,G]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(L);try{const be=this.getOrInitializeService({instanceIdentifier:Le});G.resolve(be)}catch{}}}}clearInstance(U=re){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,f.Z)(function*(){const L=Array.from(U.instances.values());yield Promise.all([...L.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...L.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=re){return this.instances.has(U)}getOptions(U=re){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:L={}}=U,G=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:G,options:L});for(const[be,$e]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(be)&&$e.resolve(Le);return Le}onInit(U,L){var G;const Le=this.normalizeInstanceIdentifier(L),be=null!==(G=this.onInitCallbacks.get(Le))&&void 0!==G?G:new Set;be.add(U),this.onInitCallbacks.set(Le,be);const $e=this.instances.get(Le);return $e&&U($e,Le),()=>{be.delete(U)}}invokeOnInitCallbacks(U,L){const G=this.onInitCallbacks.get(L);if(G)for(const Le of G)try{Le(U,L)}catch{}}getOrInitializeService({instanceIdentifier:U,options:L={}}){let G=this.instances.get(U);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(me=U,me===re?void 0:me),options:L}),this.instances.set(U,G),this.instancesOptions.set(U,L),this.invokeOnInitCallbacks(G,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,G)}catch{}var me;return G||null}normalizeInstanceIdentifier(U=re){return this.component?this.component.multipleInstances?U:re:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const L=this.getProvider(U.name);if(L.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);L.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const L=new oe(U,this);return this.providers.set(U,L),L}getProviders(){return Array.from(this.providers.values())}}},9357:(mt,Ee,R)=>{R.d(Ee,{Am:()=>me,Ub:()=>_e,Yd:()=>ye,in:()=>q});const f=[];var q=(()=>((q=q||{})[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q))();const W={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},re=q.INFO,oe={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},K=(U,L,...G)=>{if(L<U.logLevel)return;const Le=(new Date).toISOString(),be=oe[L];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[be](`[${Le}]  ${U.name}:`,...G)};class ye{constructor(L){this.name=L,this._logLevel=re,this._logHandler=K,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in q))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?W[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...L),this._logHandler(this,q.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...L),this._logHandler(this,q.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,q.INFO,...L),this._logHandler(this,q.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,q.WARN,...L),this._logHandler(this,q.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...L),this._logHandler(this,q.ERROR,...L)}}function _e(U){f.forEach(L=>{L.setLogLevel(U)})}function me(U,L){for(const G of f){let Le=null;L&&L.level&&(Le=W[L.level]),G.userLogHandler=null===U?null:(be,$e,...yt)=>{const Ie=yt.map(dt=>{if(null==dt)return null;if("string"==typeof dt)return dt;if("number"==typeof dt||"boolean"==typeof dt)return dt.toString();if(dt instanceof Error)return dt.message;try{return JSON.stringify(dt)}catch{return null}}).filter(dt=>dt).join(" ");$e>=(Le??be.logLevel)&&U({level:q[$e].toLowerCase(),message:Ie,args:yt,type:be.name})}}}},8140:(mt,Ee,R)=>{R.d(Ee,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=R(7212)},5861:(mt,Ee,R)=>{function f(W,re,oe,K,ye,_e,me){try{var U=W[_e](me),L=U.value}catch(G){return void oe(G)}U.done?re(L):Promise.resolve(L).then(K,ye)}function q(W){return function(){var re=this,oe=arguments;return new Promise(function(K,ye){var _e=W.apply(re,oe);function me(L){f(_e,K,ye,me,U,"next",L)}function U(L){f(_e,K,ye,me,U,"throw",L)}me(void 0)})}}R.d(Ee,{Z:()=>q})},7582:(mt,Ee,R)=>{function re(j,ee){var ie={};for(var Q in j)Object.prototype.hasOwnProperty.call(j,Q)&&ee.indexOf(Q)<0&&(ie[Q]=j[Q]);if(null!=j&&"function"==typeof Object.getOwnPropertySymbols){var we=0;for(Q=Object.getOwnPropertySymbols(j);we<Q.length;we++)ee.indexOf(Q[we])<0&&Object.prototype.propertyIsEnumerable.call(j,Q[we])&&(ie[Q[we]]=j[Q[we]])}return ie}function G(j,ee,ie,Q){return new(ie||(ie=Promise))(function(ve,Ke){function Re(Nt){try{Xe(Q.next(Nt))}catch(dn){Ke(dn)}}function qt(Nt){try{Xe(Q.throw(Nt))}catch(dn){Ke(dn)}}function Xe(Nt){Nt.done?ve(Nt.value):function we(ve){return ve instanceof ie?ve:new ie(function(Ke){Ke(ve)})}(Nt.value).then(Re,qt)}Xe((Q=Q.apply(j,ee||[])).next())})}function Be(j){return this instanceof Be?(this.v=j,this):new Be(j)}function Oe(j,ee,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,Q=ie.apply(j,ee||[]),ve=[];return we=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Re("next"),Re("throw"),Re("return",function Ke(hn){return function(Sn){return Promise.resolve(Sn).then(hn,dn)}}),we[Symbol.asyncIterator]=function(){return this},we;function Re(hn,Sn){Q[hn]&&(we[hn]=function(An){return new Promise(function(Dr,si){ve.push([hn,An,Dr,si])>1||qt(hn,An)})},Sn&&(we[hn]=Sn(we[hn])))}function qt(hn,Sn){try{!function Xe(hn){hn.value instanceof Be?Promise.resolve(hn.value.v).then(Nt,dn):ii(ve[0][2],hn)}(Q[hn](Sn))}catch(An){ii(ve[0][3],An)}}function Nt(hn){qt("next",hn)}function dn(hn){qt("throw",hn)}function ii(hn,Sn){hn(Sn),ve.shift(),ve.length&&qt(ve[0][0],ve[0][1])}}function We(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,ee=j[Symbol.asyncIterator];return ee?ee.call(j):(j=function yt(j){var ee="function"==typeof Symbol&&Symbol.iterator,ie=ee&&j[ee],Q=0;if(ie)return ie.call(j);if(j&&"number"==typeof j.length)return{next:function(){return j&&Q>=j.length&&(j=void 0),{value:j&&j[Q++],done:!j}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(j),ie={},Q("next"),Q("throw"),Q("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function Q(ve){ie[ve]=j[ve]&&function(Ke){return new Promise(function(Re,qt){!function we(ve,Ke,Re,qt){Promise.resolve(qt).then(function(Xe){ve({value:Xe,done:Re})},Ke)}(Re,qt,(Ke=j[ve](Ke)).done,Ke.value)})}}}R.d(Ee,{FC:()=>Oe,KL:()=>We,_T:()=>re,mG:()=>G,qq:()=>Be}),"function"==typeof SuppressedError&&SuppressedError}},mt=>{mt(mt.s=1664)}]);