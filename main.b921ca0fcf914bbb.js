"use strict";(self.webpackChunkfamilytreeapp=self.webpackChunkfamilytreeapp||[]).push([[179],{5:()=>{function Pe(n){return"function"==typeof n}function Tu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Qf=Tu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function dl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class xt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Pe(r))try{r()}catch(s){e=s instanceof Qf?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Nk(s)}catch(o){e=e??[],o instanceof Qf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Nk(e);else{if(e instanceof xt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&dl(t,e)}remove(e){const{_finalizers:t}=this;t&&dl(t,e),e instanceof xt&&e._removeParent(this)}}xt.EMPTY=(()=>{const n=new xt;return n.closed=!0,n})();const kk=xt.EMPTY;function Rk(n){return n instanceof xt||n&&"closed"in n&&Pe(n.remove)&&Pe(n.add)&&Pe(n.unsubscribe)}function Nk(n){Pe(n)?n():n.unsubscribe()}const Lo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xf={setTimeout(n,e,...t){const{delegate:r}=Xf;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Xf;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Pk(n){Xf.setTimeout(()=>{const{onUnhandledError:e}=Lo;if(!e)throw n;e(n)})}function fb(){}const p7=pb("C",void 0,void 0);function pb(n,e,t){return{kind:n,value:e,error:t}}let Vo=null;function Jf(n){if(Lo.useDeprecatedSynchronousErrorHandling){const e=!Vo;if(e&&(Vo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Vo;if(Vo=null,t)throw r}}else n()}class gb extends xt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Rk(e)&&e.add(this)):this.destination=w7}static create(e,t,r){return new Au(e,t,r)}next(e){this.isStopped?_b(function m7(n){return pb("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?_b(function g7(n){return pb("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_b(p7,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const y7=Function.prototype.bind;function mb(n,e){return y7.call(n,e)}class v7{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Zf(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Zf(r)}else Zf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Zf(t)}}}class Au extends gb{constructor(e,t,r){let i;if(super(),Pe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Lo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&mb(e.next,s),error:e.error&&mb(e.error,s),complete:e.complete&&mb(e.complete,s)}):i=e}this.destination=new v7(i)}}function Zf(n){Lo.useDeprecatedSynchronousErrorHandling?function _7(n){Lo.useDeprecatedSynchronousErrorHandling&&Vo&&(Vo.errorThrown=!0,Vo.error=n)}(n):Pk(n)}function _b(n,e){const{onStoppedNotification:t}=Lo;t&&Xf.setTimeout(()=>t(n,e))}const w7={closed:!0,next:fb,error:function b7(n){throw n},complete:fb},yb="function"==typeof Symbol&&Symbol.observable||"@@observable";function Us(n){return n}function Fk(n){return 0===n.length?Us:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function D7(n){return n&&n instanceof gb||function C7(n){return n&&Pe(n.next)&&Pe(n.error)&&Pe(n.complete)}(n)&&Rk(n)}(t)?t:new Au(t,r,i);return Jf(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Lk(r))((i,s)=>{const o=new Au({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[yb](){return this}pipe(...t){return Fk(t)(this)}toPromise(t){return new(t=Lk(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Lk(n){var e;return null!==(e=n??Lo.Promise)&&void 0!==e?e:Promise}const I7=Tu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ie=(()=>{class n extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Vk(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new I7}next(t){Jf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Jf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Jf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?kk:(this.currentObservers=null,s.push(t),new xt(()=>{this.currentObservers=null,dl(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Le;return t.source=this,t}}return n.create=(e,t)=>new Vk(e,t),n})();class Vk extends Ie{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:kk}}function Bk(n){return Pe(n?.lift)}function wt(n){return e=>{if(Bk(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ft(n,e,t,r,i){return new S7(n,e,t,r,i)}class S7 extends gb{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(n,e){return wt((t,r)=>{let i=0;t.subscribe(ft(r,s=>{r.next(n.call(e,s,i++))}))})}function wb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function $s(n){return this instanceof $s?(this.v=n,this):new $s(n)}function zk(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Cb(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Db=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Hk(n){return Pe(n?.then)}function Gk(n){return Pe(n[yb])}function Wk(n){return Symbol.asyncIterator&&Pe(n?.[Symbol.asyncIterator])}function qk(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kk=function q7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Yk(n){return Pe(n?.[Kk])}function Qk(n){return function jk(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(f){return function(p){return Promise.resolve(p).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(g,_){s.push([f,m,g,_])>1||l(f,m)})},p&&(i[f]=p(i[f])))}function l(f,p){try{!function c(f){f.value instanceof $s?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}(r[f](p))}catch(m){h(s[0][3],m)}}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield $s(t.read());if(i)return yield $s(void 0);yield yield $s(r)}}finally{t.releaseLock()}})}function Xk(n){return Pe(n?.getReader)}function Hn(n){if(n instanceof Le)return n;if(null!=n){if(Gk(n))return function K7(n){return new Le(e=>{const t=n[yb]();if(Pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Db(n))return function Y7(n){return new Le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Hk(n))return function Q7(n){return new Le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Pk)})}(n);if(Wk(n))return Jk(n);if(Yk(n))return function X7(n){return new Le(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Xk(n))return function J7(n){return Jk(Qk(n))}(n)}throw qk(n)}function Jk(n){return new Le(e=>{(function Z7(n,e){var t,r,i,s;return function Uk(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=zk(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Qi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function an(n,e,t=1/0){return Pe(e)?an((r,i)=>se((s,o)=>e(r,s,i,o))(Hn(n(r,i))),t):("number"==typeof e&&(t=e),wt((r,i)=>function e9(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let g=!1;Hn(t(m,u++)).subscribe(ft(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<r;){const _=l.shift();o?Qi(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(ft(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function hl(n=1/0){return an(Us,n)}const Xr=new Le(n=>n.complete());function Zk(n){return n&&Pe(n.schedule)}function Ib(n){return n[n.length-1]}function eR(n){return Pe(Ib(n))?n.pop():void 0}function xu(n){return Zk(Ib(n))?n.pop():void 0}function ep(n,e=0){return wt((t,r)=>{t.subscribe(ft(r,i=>Qi(r,n,()=>r.next(i),e),()=>Qi(r,n,()=>r.complete(),e),i=>Qi(r,n,()=>r.error(i),e)))})}function tp(n,e=0){return wt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function tR(n,e){if(!n)throw new Error("Iterable cannot be null");return new Le(t=>{Qi(t,e,()=>{const r=n[Symbol.asyncIterator]();Qi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function jt(n,e){return e?function l9(n,e){if(null!=n){if(Gk(n))return function r9(n,e){return Hn(n).pipe(tp(e),ep(e))}(n,e);if(Db(n))return function s9(n,e){return new Le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Hk(n))return function i9(n,e){return Hn(n).pipe(tp(e),ep(e))}(n,e);if(Wk(n))return tR(n,e);if(Yk(n))return function o9(n,e){return new Le(t=>{let r;return Qi(t,e,()=>{r=n[Kk](),Qi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Pe(r?.return)&&r.return()})}(n,e);if(Xk(n))return function a9(n,e){return tR(Qk(n),e)}(n,e)}throw qk(n)}(n,e):Hn(n)}function np(...n){const e=xu(n),t=function n9(n,e){return"number"==typeof Ib(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Hn(r[0]):hl(t)(jt(r,e)):Xr}function nR(n={}){const{connector:e=(()=>new Ie),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return wt((m,g)=>{c++,!d&&!u&&h();const _=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(a=Sb(p,i))}),_.subscribe(g),!o&&c>0&&(o=new Au({next:b=>_.next(b),error:b=>{d=!0,h(),a=Sb(f,t,b),_.error(b)},complete:()=>{u=!0,h(),a=Sb(f,r),_.complete()}}),Hn(m).subscribe(o))})(s)}}function Sb(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Au({next:()=>{r.unsubscribe(),n()}});return Hn(e(...t)).subscribe(r)}function Je(n){for(let e in n)if(n[e]===Je)return e;throw Error("Could not find renamed property on target object.")}function Tb(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function rt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(rt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ab(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const c9=Je({__forward_ref__:Je});function it(n){return n.__forward_ref__=it,n.toString=function(){return rt(this())},n}function ne(n){return xb(n)?n():n}function xb(n){return"function"==typeof n&&n.hasOwnProperty(c9)&&n.__forward_ref__===it}function Mb(n){return n&&!!n.\u0275providers}const rp="https://g.co/ng/security#xss";class x extends Error{constructor(e,t){super(ip(e,t)),this.code=e}}function ip(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function ue(n){return"string"==typeof n?n:null==n?"":String(n)}function sp(n,e){throw new x(-201,!1)}function Rr(n,e){null==n&&function Ge(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ve(n){return{providers:n.providers||[],imports:n.imports||[]}}function op(n){return rR(n,ap)||rR(n,sR)}function rR(n,e){return n.hasOwnProperty(e)?n[e]:null}function iR(n){return n&&(n.hasOwnProperty(Ob)||n.hasOwnProperty(_9))?n[Ob]:null}const ap=Je({\u0275prov:Je}),Ob=Je({\u0275inj:Je}),sR=Je({ngInjectableDef:Je}),_9=Je({ngInjectorDef:Je});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let kb;function Nr(n){const e=kb;return kb=n,e}function oR(n,e,t){const r=op(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&re.Optional?null:void 0!==e?e:void sp(rt(n))}const at=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Mu={},Rb="__NG_DI_FLAG__",lp="ngTempTokenPath",v9="ngTokenPath",b9=/\n/gm,w9="\u0275",aR="__source";let Ou;function fl(n){const e=Ou;return Ou=n,e}function E9(n,e=re.Default){if(void 0===Ou)throw new x(-203,!1);return null===Ou?oR(n,void 0,e):Ou.get(n,e&re.Optional?null:void 0,e)}function S(n,e=re.Default){return(function y9(){return kb}()||E9)(ne(n),e)}function oe(n,e=re.Default){return S(n,cp(e))}function cp(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Nb(n){const e=[];for(let t=0;t<n.length;t++){const r=ne(n[t]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){const a=r[o],l=C9(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function ku(n,e){return n[Rb]=e,n.prototype[Rb]=e,n}function C9(n){return n[Rb]}function Xi(n){return{toString:n}.toString()}var _i=(()=>((_i=_i||{})[_i.OnPush=0]="OnPush",_i[_i.Default=1]="Default",_i))(),Jr=(()=>{return(n=Jr||(Jr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Jr;var n})();const Ji={},Be=[],up=Je({\u0275cmp:Je}),Pb=Je({\u0275dir:Je}),Fb=Je({\u0275pipe:Je}),cR=Je({\u0275mod:Je}),Zi=Je({\u0275fac:Je}),Ru=Je({__NG_ELEMENT_ID__:Je});let S9=0;function Mt(n){return Xi(()=>{const e=dR(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===_i.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Jr.Emulated,id:"c"+S9++,styles:n.styles||Be,_:null,schemas:n.schemas||null,tView:null};hR(t);const r=n.dependencies;return t.directiveDefs=dp(r,!1),t.pipeDefs=dp(r,!0),t})}function A9(n){return We(n)||xn(n)}function x9(n){return null!==n}function Ue(n){return Xi(()=>({type:n.type,bootstrap:n.bootstrap||Be,declarations:n.declarations||Be,imports:n.imports||Be,exports:n.exports||Be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function uR(n,e){if(null==n)return Ji;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function X(n){return Xi(()=>{const e=dR(n);return hR(e),e})}function We(n){return n[up]||null}function xn(n){return n[Pb]||null}function nr(n){return n[Fb]||null}function pr(n,e){const t=n[cR]||null;if(!t&&!0===e)throw new Error(`Type ${rt(n)} does not have '\u0275mod' property.`);return t}function dR(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Be,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:uR(n.inputs,e),outputs:uR(n.outputs)}}function hR(n){n.features?.forEach(e=>e(n))}function dp(n,e){if(!n)return null;const t=e?nr:A9;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(x9)}const es=0,G=1,ve=2,Et=3,Zr=4,Bo=5,Mn=6,gl=7,Ot=8,hp=9,fp=10,Ee=11,Lb=12,Nu=13,fR=14,ml=15,On=16,Pu=17,_l=18,yi=19,Fu=20,pR=21,lt=22,Vb=1,gR=2,pp=7,gp=8,yl=9,Gn=10;function gr(n){return Array.isArray(n)&&"object"==typeof n[Vb]}function ei(n){return Array.isArray(n)&&!0===n[Vb]}function Bb(n){return 0!=(4&n.flags)}function Lu(n){return n.componentOffset>-1}function mp(n){return 1==(1&n.flags)}function ti(n){return!!n.template}function O9(n){return 0!=(256&n[ve])}function Uo(n,e){return n.hasOwnProperty(Zi)?n[Zi]:null}class N9{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wn(){return yR}function yR(n){return n.type.prototype.ngOnChanges&&(n.setInput=F9),P9}function P9(){const n=bR(this),e=n?.current;if(e){const t=n.previous;if(t===Ji)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function F9(n,e,t,r){const i=this.declaredInputs[t],s=bR(n)||function L9(n,e){return n[vR]=e}(n,{previous:Ji,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new N9(l&&l.currentValue,e,a===Ji),n[r]=e}Wn.ngInherit=!0;const vR="__ngSimpleChanges__";function bR(n){return n[vR]||null}const Pr=function(n,e,t){},wR="svg";function yn(n){for(;Array.isArray(n);)n=n[es];return n}function _p(n,e){return yn(e[n])}function mr(n,e){return yn(e[n.index])}function CR(n,e){return n.data[e]}function rr(n,e){const t=e[n];return gr(t)?t:t[es]}function yp(n){return 64==(64&n[ve])}function zs(n,e){return null==e?null:n[e]}function DR(n){n[_l]=0}function $b(n,e){n[Bo]+=e;let t=n,r=n[Et];for(;null!==r&&(1===e&&1===t[Bo]||-1===e&&0===t[Bo]);)r[Bo]+=e,t=r,r=r[Et]}const de={lFrame:NR(null),bindingsEnabled:!0};function SR(){return de.bindingsEnabled}function M(){return de.lFrame.lView}function Me(){return de.lFrame.tView}function Vu(n){return de.lFrame.contextLView=n,n[Ot]}function Bu(n){return de.lFrame.contextLView=null,n}function vn(){let n=TR();for(;null!==n&&64===n.type;)n=n.parent;return n}function TR(){return de.lFrame.currentTNode}function vi(n,e){const t=de.lFrame;t.currentTNode=n,t.isParent=e}function jb(){return de.lFrame.isParent}function zb(){de.lFrame.isParent=!1}function bl(){return de.lFrame.bindingIndex++}function ns(n){const e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Q9(n,e){const t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Hb(e)}function Hb(n){de.lFrame.currentDirectiveIndex=n}function OR(){return de.lFrame.currentQueryIndex}function Wb(n){de.lFrame.currentQueryIndex=n}function J9(n){const e=n[G];return 2===e.type?e.declTNode:1===e.type?n[Mn]:null}function kR(n,e,t){if(t&re.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&re.Host||(i=J9(s),null===i||(s=s[ml],10&i.type))););if(null===i)return!1;e=i,n=s}const r=de.lFrame=RR();return r.currentTNode=e,r.lView=n,!0}function qb(n){const e=RR(),t=n[G];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function RR(){const n=de.lFrame,e=null===n?null:n.child;return null===e?NR(n):e}function NR(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function PR(){const n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const FR=PR;function Kb(){const n=PR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Kn(){return de.lFrame.selectedIndex}function $o(n){de.lFrame.selectedIndex=n}function gt(){const n=de.lFrame;return CR(n.tView,n.selectedIndex)}function vp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function bp(n,e,t){VR(n,e,3,t)}function wp(n,e,t,r){(3&n[ve])===t&&VR(n,e,t,r)}function Yb(n,e){let t=n[ve];(3&t)===e&&(t&=2047,t+=1,n[ve]=t)}function VR(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[_l]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[_l]+=65536),(a<s||-1==s)&&(oK(n,t,e,l),n[_l]=(4294901760&n[_l])+l+2),l++}function oK(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[ve]>>11<n[_l]>>16&&(3&n[ve])===e){n[ve]+=2048,Pr(4,a,s);try{s.call(a)}finally{Pr(5,a,s)}}}else{Pr(4,a,s);try{s.call(a)}finally{Pr(5,a,s)}}}const wl=-1;class $u{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Xb(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];UR(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function BR(n){return 3===n||4===n||6===n}function UR(n){return 64===n.charCodeAt(0)}function ju(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||$R(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function $R(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function jR(n){return n!==wl}function Ep(n){return 32767&n}function Cp(n,e){let t=function uK(n){return n>>16}(n),r=e;for(;t>0;)r=r[ml],t--;return r}let Jb=!0;function Dp(n){const e=Jb;return Jb=n,e}const zR=255,HR=5;let dK=0;const bi={};function Ip(n,e){const t=GR(n,e);if(-1!==t)return t;const r=e[G];r.firstCreatePass&&(n.injectorIndex=e.length,Zb(r.data,n),Zb(e,null),Zb(r.blueprint,null));const i=e0(n,e),s=n.injectorIndex;if(jR(i)){const o=Ep(i),a=Cp(i,e),l=a[G].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Zb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function GR(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function e0(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=JR(i),null===r)return wl;if(t++,i=i[ml],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return wl}function t0(n,e,t){!function hK(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ru)&&(r=t[Ru]),null==r&&(r=t[Ru]=dK++);const i=r&zR;e.data[n+(i>>HR)]|=1<<i}(n,e,t)}function WR(n,e,t){if(t&re.Optional||void 0!==n)return n;sp()}function qR(n,e,t,r){if(t&re.Optional&&void 0===r&&(r=null),!(t&(re.Self|re.Host))){const i=n[hp],s=Nr(void 0);try{return i?i.get(e,r,t&re.Optional):oR(e,r,t&re.Optional)}finally{Nr(s)}}return WR(r,0,t)}function KR(n,e,t,r=re.Default,i){if(null!==n){if(1024&e[ve]){const o=function _K(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[ve]&&!(256&o[ve]);){const a=YR(s,o,t,r|re.Self,bi);if(a!==bi)return a;let l=s.parent;if(!l){const c=o[pR];if(c){const u=c.get(t,bi,r);if(u!==bi)return u}l=JR(o),o=o[ml]}s=l}return i}(n,e,t,r,bi);if(o!==bi)return o}const s=YR(n,e,t,r,bi);if(s!==bi)return s}return qR(e,t,r,i)}function YR(n,e,t,r,i){const s=function gK(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ru)?n[Ru]:void 0;return"number"==typeof e?e>=0?e&zR:mK:e}(t);if("function"==typeof s){if(!kR(e,n,r))return r&re.Host?WR(i,0,r):qR(e,t,r,i);try{const o=s(r);if(null!=o||r&re.Optional)return o;sp()}finally{FR()}}else if("number"==typeof s){let o=null,a=GR(n,e),l=wl,c=r&re.Host?e[On][Mn]:null;for((-1===a||r&re.SkipSelf)&&(l=-1===a?e0(n,e):e[a+8],l!==wl&&XR(r,!1)?(o=e[G],a=Ep(l),e=Cp(l,e)):a=-1);-1!==a;){const u=e[G];if(QR(s,a,u.data)){const d=pK(a,e,t,o,r,c);if(d!==bi)return d}l=e[a+8],l!==wl&&XR(r,e[G].data[a+8]===c)&&QR(s,a,e)?(o=u,a=Ep(l),e=Cp(l,e)):a=-1}}return i}function pK(n,e,t,r,i,s){const o=e[G],a=o.data[n+8],u=Sp(a,o,t,null==r?Lu(a)&&Jb:r!=o&&0!=(3&a.type),i&re.Host&&s===a);return null!==u?jo(e,o,u,a):bi}function Sp(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&ti(f)&&f.type===t)return l}return null}function jo(n,e,t,r){let i=n[t];const s=e.data;if(function aK(n){return n instanceof $u}(i)){const o=i;o.resolving&&function u9(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new x(-200,`Circular dependency in DI detected for ${n}${t}`)}(function He(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ue(n)}(s[t]));const a=Dp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Nr(o.injectImpl):null;kR(n,r,re.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function sK(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=yR(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Nr(l),Dp(a),o.resolving=!1,FR()}}return i}function QR(n,e,t){return!!(t[e+(n>>HR)]&1<<n)}function XR(n,e){return!(n&re.Self||n&re.Host&&e)}class El{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return KR(this._tNode,this._lView,e,cp(r),t)}}function mK(){return new El(vn(),M())}function ln(n){return Xi(()=>{const e=n.prototype.constructor,t=e[Zi]||n0(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Zi]||n0(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function n0(n){return xb(n)?()=>{const e=n0(ne(n));return e&&e()}:Uo(n)}function JR(n){const e=n[G],t=e.type;return 2===t?e.declTNode:1===t?n[Mn]:null}function Cl(n){return function fK(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(BR(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(vn(),n)}const Il="__parameters__";function Tl(n,e,t){return Xi(()=>{const r=function r0(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Il)?l[Il]:Object.defineProperty(l,Il,{value:[]})[Il];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class P{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zo(n,e){n.forEach(t=>Array.isArray(t)?zo(t,e):e(t))}function eN(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Tp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Gu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function _r(n,e,t){let r=Al(n,e);return r>=0?n[1|r]=t:(r=~r,function wK(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function o0(n,e){const t=Al(n,e);if(t>=0)return n[1|t]}function Al(n,e){return function tN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const xp=ku(Tl("Inject",n=>({token:n})),-1),zt=ku(Tl("Optional"),8),xl=ku(Tl("SkipSelf"),4);var ir=(()=>((ir=ir||{})[ir.Important=1]="Important",ir[ir.DashCase=2]="DashCase",ir))();const d0=new Map;let zK=0;const f0="__ngContext__";function kn(n,e){gr(e)?(n[f0]=e[Fu],function GK(n){d0.set(n[Fu],n)}(e)):n[f0]=e}let p0;function g0(n,e){return p0(n,e)}function Yu(n){const e=n[Et];return ei(e)?e[Et]:e}function m0(n){return wN(n[Nu])}function _0(n){return wN(n[Zr])}function wN(n){for(;null!==n&&!ei(n);)n=n[Zr];return n}function Ol(n,e,t,r,i){if(null!=r){let s,o=!1;ei(r)?s=r:gr(r)&&(o=!0,r=r[es]);const a=yn(r);0===n&&null!==t?null==i?TN(e,t,a):Ho(e,t,a,i||null,!0):1===n&&null!==t?Ho(e,t,a,i||null,!0):2===n?function D0(n,e,t){const r=kp(n,e);r&&function dY(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function pY(n,e,t,r,i){const s=t[pp];s!==yn(t)&&Ol(e,n,r,s,i);for(let a=Gn;a<t.length;a++){const l=t[a];Qu(l[G],l,n,e,r,s)}}(e,n,s,t,i)}}function v0(n,e,t){return n.createElement(e,t)}function CN(n,e){const t=n[yl],r=t.indexOf(e),i=e[Et];512&e[ve]&&(e[ve]&=-513,$b(i,-1)),t.splice(r,1)}function b0(n,e){if(n.length<=Gn)return;const t=Gn+e,r=n[t];if(r){const i=r[Pu];null!==i&&i!==n&&CN(i,r),e>0&&(n[t-1][Zr]=r[Zr]);const s=Tp(n,Gn+e);!function rY(n,e){Qu(n,e,e[Ee],2,null,null),e[es]=null,e[Mn]=null}(r[G],r);const o=s[yi];null!==o&&o.detachView(s[G]),r[Et]=null,r[Zr]=null,r[ve]&=-65}return r}function DN(n,e){if(!(128&e[ve])){const t=e[Ee];t.destroyNode&&Qu(n,e,t,3,null,null),function oY(n){let e=n[Nu];if(!e)return w0(n[G],n);for(;e;){let t=null;if(gr(e))t=e[Nu];else{const r=e[Gn];r&&(t=r)}if(!t){for(;e&&!e[Zr]&&e!==n;)gr(e)&&w0(e[G],e),e=e[Et];null===e&&(e=n),gr(e)&&w0(e[G],e),t=e&&e[Zr]}e=t}}(e)}}function w0(n,e){if(!(128&e[ve])){e[ve]&=-65,e[ve]|=128,function uY(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof $u)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Pr(4,a,l);try{l.call(a)}finally{Pr(5,a,l)}}else{Pr(4,i,s);try{s.call(i)}finally{Pr(5,i,s)}}}}}(n,e),function cY(n,e){const t=n.cleanup,r=e[gl];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[gl]=null}}(n,e),1===e[G].type&&e[Ee].destroy();const t=e[Pu];if(null!==t&&ei(e[Et])){t!==e[Et]&&CN(t,e);const r=e[yi];null!==r&&r.detachView(n)}!function WK(n){d0.delete(n[Fu])}(e)}}function IN(n,e,t){return function SN(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[es];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Jr.None||s===Jr.Emulated)return null}return mr(r,t)}}(n,e.parent,t)}function Ho(n,e,t,r,i){n.insertBefore(e,t,r,i)}function TN(n,e,t){n.appendChild(e,t)}function AN(n,e,t,r,i){null!==r?Ho(n,e,t,r,i):TN(n,e,t)}function kp(n,e){return n.parentNode(e)}function xN(n,e,t){return ON(n,e,t)}let E0,Pp,T0,ON=function MN(n,e,t){return 40&n.type?mr(n,t):null};function Rp(n,e,t,r){const i=IN(n,r,e),s=e[Ee],a=xN(r.parent||e[Mn],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)AN(s,i,t[l],a,!1);else AN(s,i,t,a,!1);void 0!==E0&&E0(s,r,e,t,i)}function Np(n,e){if(null!==e){const t=e.type;if(3&t)return mr(e,n);if(4&t)return C0(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Np(n,r);{const i=n[e.index];return ei(i)?C0(-1,i):yn(i)}}if(32&t)return g0(e,n)()||yn(n[e.index]);{const r=RN(n,e);return null!==r?Array.isArray(r)?r[0]:Np(Yu(n[On]),r):Np(n,e.next)}}return null}function RN(n,e){return null!==e?n[On][Mn].projection[e.projection]:null}function C0(n,e){const t=Gn+n+1;if(t<e.length){const r=e[t],i=r[G].firstChild;if(null!==i)return Np(r,i)}return e[pp]}function I0(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&kn(yn(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)I0(n,e,t.child,r,i,s,!1),Ol(e,n,i,a,s);else if(32&l){const c=g0(t,r);let u;for(;u=c();)Ol(e,n,i,u,s);Ol(e,n,i,a,s)}else 16&l?NN(n,e,r,t,i,s):Ol(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Qu(n,e,t,r,i,s){I0(t,r,n.firstChild,e,i,s,!1)}function NN(n,e,t,r,i,s){const o=t[On],l=o[Mn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ol(e,n,i,l[c],s);else I0(n,e,l,o[Et],i,s,!0)}function PN(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function FN(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Xb(n,e,r),null!==i&&PN(n,e,i),null!==s&&function mY(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function kl(n){return function S0(){if(void 0===Pp&&(Pp=null,at.trustedTypes))try{Pp=at.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pp}()?.createHTML(n)||n}class Go{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rp})`}}class wY extends Go{getTypeName(){return"HTML"}}class EY extends Go{getTypeName(){return"Style"}}class CY extends Go{getTypeName(){return"Script"}}class DY extends Go{getTypeName(){return"URL"}}class IY extends Go{getTypeName(){return"ResourceURL"}}function yr(n){return n instanceof Go?n.changingThisBreaksApplicationSecurity:n}function wi(n,e){const t=function SY(n){return n instanceof Go&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${rp})`)}return t===e}class kY{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(kl(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class RY{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=kl(e),t}}const PY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lp(n){return(n=String(n)).match(PY)?n:"unsafe:"+n}function rs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Xu(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const jN=rs("area,br,col,hr,img,wbr"),zN=rs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HN=rs("rp,rt"),x0=Xu(jN,Xu(zN,rs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xu(HN,rs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xu(HN,zN)),M0=rs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),GN=Xu(M0,rs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),FY=rs("script,style,template");class LY{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!x0.hasOwnProperty(t))return this.sanitizedSomething=!0,!FY.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!GN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;M0[a]&&(l=Lp(l)),this.buf.push(" ",o,'="',WN(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();x0.hasOwnProperty(t)&&!jN.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(WN(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const VY=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,BY=/([^\#-~ |!])/g;function WN(n){return n.replace(/&/g,"&amp;").replace(VY,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(BY,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vp;function qN(n,e){let t=null;try{Vp=Vp||function $N(n){const e=new RY(n);return function NY(){try{return!!(new window.DOMParser).parseFromString(kl(""),"text/html")}catch{return!1}}()?new kY(e):e}(n);let r=e?String(e):"";t=Vp.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Vp.getInertBodyElement(r)}while(r!==s);return kl((new LY).sanitizeChildren(O0(t)||t))}finally{if(t){const r=O0(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function O0(n){return"content"in n&&function UY(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var $e=(()=>(($e=$e||{})[$e.NONE=0]="NONE",$e[$e.HTML=1]="HTML",$e[$e.STYLE=2]="STYLE",$e[$e.SCRIPT=3]="SCRIPT",$e[$e.URL=4]="URL",$e[$e.RESOURCE_URL=5]="RESOURCE_URL",$e))();const Bp=new P("ENVIRONMENT_INITIALIZER"),XN=new P("INJECTOR",-1),JN=new P("INJECTOR_DEF_TYPES");class ZN{get(e,t=Mu){if(t===Mu){const r=new Error(`NullInjectorError: No provider for ${rt(e)}!`);throw r.name="NullInjectorError",r}return t}}function KY(...n){return{\u0275providers:eP(0,n),\u0275fromNgModule:!0}}function eP(n,...e){const t=[],r=new Set;let i;return zo(e,s=>{const o=s;k0(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&tP(i,t),t}function tP(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];R0(i,s=>{e.push(s)})}}function k0(n,e,t,r){if(!(n=ne(n)))return!1;let i=null,s=iR(n);const o=!s&&We(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=iR(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)k0(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{zo(s.imports,u=>{k0(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&tP(c,e)}if(!a){const c=Uo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Be},{provide:JN,useValue:i,multi:!0},{provide:Bp,useValue:()=>S(i),multi:!0})}const l=s.providers;null==l||a||R0(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function R0(n,e){for(let t of n)Mb(t)&&(t=t.\u0275providers),Array.isArray(t)?R0(t,e):e(t)}const YY=Je({provide:String,useValue:Je});function N0(n){return null!==n&&"object"==typeof n&&YY in n}function Wo(n){return"function"==typeof n}const P0=new P("Set Injector scope."),Up={},XY={};let F0;function $p(){return void 0===F0&&(F0=new ZN),F0}class Ei{}class iP extends Ei{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,V0(e,o=>this.processProvider(o)),this.records.set(XN,Rl(void 0,this)),i.has("environment")&&this.records.set(Ei,Rl(void 0,this));const s=this.records.get(P0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(JN.multi,Be,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=fl(this),r=Nr(void 0);try{return e()}finally{fl(t),Nr(r)}}get(e,t=Mu,r=re.Default){this.assertNotDestroyed(),r=cp(r);const i=fl(this),s=Nr(void 0);try{if(!(r&re.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function nQ(n){return"function"==typeof n||"object"==typeof n&&n instanceof P}(e)&&op(e);a=l&&this.injectableDefInScope(l)?Rl(L0(e),Up):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&re.Self?$p():this.parent).get(e,t=r&re.Optional&&t===Mu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[lp]=o[lp]||[]).unshift(rt(e)),i)throw o;return function D9(n,e,t,r){const i=n[lp];throw e[aR]&&i.unshift(e[aR]),n.message=function I9(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==w9?n.slice(2):n;let i=rt(e);if(Array.isArray(e))i=e.map(rt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):rt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(b9,"\n  ")}`}("\n"+n.message,i,t,r),n[v9]=i,n[lp]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Nr(s),fl(i)}}resolveInjectorInitializers(){const e=fl(this),t=Nr(void 0);try{const r=this.get(Bp.multi,Be,re.Self);for(const i of r)i()}finally{fl(e),Nr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let t=Wo(e=ne(e))?e:ne(e&&e.provide);const r=function ZY(n){return N0(n)?Rl(void 0,n.useValue):Rl(sP(n),Up)}(e);if(Wo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Rl(void 0,Up,!0),i.factory=()=>Nb(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Up&&(t.value=XY,t.value=t.factory()),"object"==typeof t.value&&t.value&&function tQ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ne(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function L0(n){const e=op(n),t=null!==e?e.factory:Uo(n);if(null!==t)return t;if(n instanceof P)throw new x(204,!1);if(n instanceof Function)return function JY(n){const e=n.length;if(e>0)throw Gu(e,"?"),new x(204,!1);const t=function m9(n){return n&&(n[ap]||n[sR])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new x(204,!1)}function sP(n,e,t){let r;if(Wo(n)){const i=ne(n);return Uo(i)||L0(i)}if(N0(n))r=()=>ne(n.useValue);else if(function rP(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Nb(n.deps||[]));else if(function nP(n){return!(!n||!n.useExisting)}(n))r=()=>S(ne(n.useExisting));else{const i=ne(n&&(n.useClass||n.provide));if(!function eQ(n){return!!n.deps}(n))return Uo(i)||L0(i);r=()=>new i(...Nb(n.deps))}return r}function Rl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function V0(n,e){for(const t of n)Array.isArray(t)?V0(t,e):t&&Mb(t)?V0(t.\u0275providers,e):e(t)}class rQ{}class oP{}class sQ{resolveComponentFactory(e){throw function iQ(n){const e=Error(`No component factory found for ${rt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let qo=(()=>{class n{}return n.NULL=new sQ,n})();function oQ(){return Nl(vn(),M())}function Nl(n,e){return new Qe(mr(n,e))}let Qe=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=oQ,n})();function aQ(n){return n instanceof Qe?n.nativeElement:n}class Zu{}let is=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function lQ(){const n=M(),t=rr(vn().index,n);return(gr(t)?t:n)[Ee]}(),n})(),cQ=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>null}),n})();class Hs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const lP=new Hs("15.2.10"),B0={},U0="ngOriginalError";function $0(n){return n[U0]}class ss{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&$0(e);for(;t&&$0(t);)t=$0(t);return t||null}}function os(n){return n instanceof Function?n():n}function uP(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const dP="ng-template";function bQ(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==uP(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function hP(n){return 4===n.type&&n.value!==dP}function wQ(n,e,t){return e===(4!==n.type||t?n.value:dP)}function EQ(n,e,t){let r=4;const i=n.attrs||[],s=function IQ(n){for(let e=0;e<n.length;e++)if(BR(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!wQ(n,l,t)||""===l&&1===e.length){if(ni(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!bQ(n.attrs,c,t)){if(ni(r))return!1;o=!0}continue}const d=CQ(8&r?"class":l,i,hP(n),t);if(-1===d){if(ni(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==uP(f,c,0)||2&r&&c!==h){if(ni(r))return!1;o=!0}}}}else{if(!o&&!ni(r)&&!ni(l))return!1;if(o&&ni(l))continue;o=!1,r=l|1&r}}return ni(r)||o}function ni(n){return 0==(1&n)}function CQ(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function SQ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function fP(n,e,t=!1){for(let r=0;r<e.length;r++)if(EQ(n,e[r],t))return!0;return!1}function TQ(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function pP(n,e){return n?":not("+e.trim()+")":e}function AQ(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ni(o)&&(e+=pP(s,i),i=""),r=o,s=s||!ni(r);t++}return""!==i&&(e+=pP(s,i)),e}const he={};function Lr(n){gP(Me(),M(),Kn()+n,!1)}function gP(n,e,t,r){if(!r)if(3==(3&e[ve])){const s=n.preOrderCheckHooks;null!==s&&bp(e,s,t)}else{const s=n.preOrderHooks;null!==s&&wp(e,s,0,t)}$o(t)}function vP(n,e=null,t=null,r){const i=bP(n,e,t,r);return i.resolveInjectorInitializers(),i}function bP(n,e=null,t=null,r,i=new Set){const s=[t||Be,KY(n)];return r=r||("object"==typeof n?void 0:rt(n)),new iP(s,e||$p(),r||null,i)}let Ht=(()=>{class n{static create(t,r){if(Array.isArray(t))return vP({name:""},r,t,"");{const i=t.name??"";return vP({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Mu,n.NULL=new ZN,n.\u0275prov=V({token:n,providedIn:"any",factory:()=>S(XN)}),n.__NG_ELEMENT_ID__=-1,n})();function w(n,e=re.Default){const t=M();return null===t?S(n,e):KR(vn(),t,ne(n),e)}function W0(){throw new Error("invalid")}function TP(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Wb(t[r]),o.contentQueries(2,e[s],s)}}}function zp(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[es]=i,d[ve]=76|r,(null!==u||n&&1024&n[ve])&&(d[ve]|=1024),DR(d),d[Et]=d[ml]=n,d[Ot]=t,d[fp]=o||n&&n[fp],d[Ee]=a||n&&n[Ee],d[Lb]=l||n&&n[Lb]||null,d[hp]=c||n&&n[hp]||null,d[Mn]=s,d[Fu]=function HK(){return zK++}(),d[pR]=u,d[On]=2==e.type?n[On]:d,d}function Ll(n,e,t,r,i){let s=n.data[e];if(null===s)s=function q0(n,e,t,r,i){const s=TR(),o=jb(),l=n.data[e]=function eX(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function Y9(){return de.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Uu(){const n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return vi(s,!0),s}function ed(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function K0(n,e,t){qb(e);try{const r=n.viewQuery;null!==r&&rw(1,r,t);const i=n.template;null!==i&&AP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&TP(n,e),n.staticViewQueries&&rw(2,n.viewQuery,t);const s=n.components;null!==s&&function XQ(n,e){for(let t=0;t<e.length;t++)bX(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ve]&=-5,Kb()}}function Hp(n,e,t,r){const i=e[ve];if(128!=(128&i)){qb(e);try{DR(e),function xR(n){return de.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&AP(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&bp(e,c,null)}else{const c=n.preOrderHooks;null!==c&&wp(e,c,0,null),Yb(e,0)}if(function yX(n){for(let e=m0(n);null!==e;e=_0(e)){if(!e[gR])continue;const t=e[yl];for(let r=0;r<t.length;r++){const i=t[r];512&i[ve]||$b(i[Et],1),i[ve]|=512}}}(e),function _X(n){for(let e=m0(n);null!==e;e=_0(e))for(let t=Gn;t<e.length;t++){const r=e[t],i=r[G];yp(r)&&Hp(i,r,i.template,r[Ot])}}(e),null!==n.contentQueries&&TP(n,e),o){const c=n.contentCheckHooks;null!==c&&bp(e,c)}else{const c=n.contentHooks;null!==c&&wp(e,c,1),Yb(e,1)}!function YQ(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)$o(~i);else{const s=i,o=t[++r],a=t[++r];Q9(o,s),a(2,e[s])}}}finally{$o(-1)}}(n,e);const a=n.components;null!==a&&function QQ(n,e){for(let t=0;t<e.length;t++)vX(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&rw(2,l,r),o){const c=n.viewCheckHooks;null!==c&&bp(e,c)}else{const c=n.viewHooks;null!==c&&wp(e,c,2),Yb(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ve]&=-41,512&e[ve]&&(e[ve]&=-513,$b(e[Et],-1))}finally{Kb()}}}function AP(n,e,t,r,i){const s=Kn(),o=2&r;try{$o(-1),o&&e.length>lt&&gP(n,e,lt,!1),Pr(o?2:0,i),t(r,i)}finally{$o(s),Pr(o?3:1,i)}}function Y0(n,e,t){if(Bb(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Q0(n,e,t){SR()&&(function aX(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Lu(t)&&function pX(n,e,t){const r=mr(e,n),i=xP(t),s=n[fp],o=Gp(n,zp(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ip(t,e),kn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=jo(e,n,a,t);kn(c,e),null!==o&&gX(0,a-i,c,l,0,o),ti(l)&&(rr(t.index,e)[Ot]=jo(e,n,a,t))}}(n,e,t,mr(t,e)),64==(64&t.flags)&&NP(n,e,t))}function X0(n,e,t=mr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function xP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=J0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function J0(n,e,t,r,i,s,o,a,l,c){const u=lt+r,d=u+i,h=function JQ(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:he);return t}(u,d),f="function"==typeof c?c():c;return h[G]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function MP(n,e,t,r){const i=FP(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&LP(n).push(r,i.length-1))}function OP(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?kP(t,e,i,s):r.hasOwnProperty(i)&&kP(t,e,r[i],s)}return t}function kP(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function vr(n,e,t,r,i,s,o,a){const l=mr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(iw(n,t,u,r,i),Lu(e)&&function rX(n,e){const t=rr(e,n);16&t[ve]||(t[ve]|=32)}(t,e.index)):3&e.type&&(r=function nX(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function Z0(n,e,t,r){if(SR()){const i=null===r?null:{"":-1},s=function cX(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(fP(e,o.selectors,!1))if(r||(r=[]),ti(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ew(n,e,a.length)}else r.unshift(o),ew(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&RP(n,e,t,o,i,a),i&&function uX(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=ju(t.mergedAttrs,t.attrs)}function RP(n,e,t,r,i,s){for(let c=0;c<r.length;c++)t0(Ip(t,e),n,r[c].type);!function hX(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=ed(n,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=ju(t.mergedAttrs,u.hostAttrs),fX(n,t,e,l,u),dX(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function tX(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=OP(d.inputs,u,l,h?h.inputs:null),c=OP(d.outputs,u,c,p);const m=null===l||null===o||hP(e)?null:mX(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function NP(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function X9(){return de.lFrame.currentDirectiveIndex}();try{$o(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];Hb(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&lX(l,c)}}finally{$o(-1),Hb(o)}}function lX(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ew(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function dX(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ti(e)&&(t[""]=n)}}function fX(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Uo(i.type)),o=new $u(s,ti(i),w);n.blueprint[r]=o,t[r]=o,function sX(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function oX(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,ed(n,t,i.hostVars,he),i)}function Ci(n,e,t,r,i,s){const o=mr(n,e);!function tw(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ue(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Ee],o,s,n.value,t,r,i)}function gX(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function mX(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function PP(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function vX(n,e){const t=rr(e,n);if(yp(t)){const r=t[G];48&t[ve]?Hp(r,t,r.template,t[Ot]):t[Bo]>0&&nw(t)}}function nw(n){for(let r=m0(n);null!==r;r=_0(r))for(let i=Gn;i<r.length;i++){const s=r[i];if(yp(s))if(512&s[ve]){const o=s[G];Hp(o,s,o.template,s[Ot])}else s[Bo]>0&&nw(s)}const t=n[G].components;if(null!==t)for(let r=0;r<t.length;r++){const i=rr(t[r],n);yp(i)&&i[Bo]>0&&nw(i)}}function bX(n,e){const t=rr(e,n),r=t[G];(function wX(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),K0(r,t,t[Ot])}function Gp(n,e){return n[Nu]?n[fR][Zr]=e:n[Nu]=e,n[fR]=e,e}function Wp(n){for(;n;){n[ve]|=32;const e=Yu(n);if(O9(n)&&!e)return n;n=e}return null}function qp(n,e,t,r=!0){const i=e[fp];i.begin&&i.begin();try{Hp(n,e,n.template,t)}catch(o){throw r&&BP(e,o),o}finally{i.end&&i.end()}}function rw(n,e,t){Wb(0),e(n,t)}function FP(n){return n[gl]||(n[gl]=[])}function LP(n){return n.cleanup||(n.cleanup=[])}function BP(n,e){const t=n[hp],r=t?t.get(ss,null):null;r&&r.handleError(e)}function iw(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function as(n,e,t){const r=_p(e,n);!function EN(n,e,t){n.setValue(e,t)}(n[Ee],r,t)}function Kp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ab(i,a):2==s&&(r=Ab(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Yp(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(yn(s)),ei(s))for(let a=Gn;a<s.length;a++){const l=s[a],c=l[G].firstChild;null!==c&&Yp(l[G],l,c,r)}const o=t.type;if(8&o)Yp(n,e,t.child,r);else if(32&o){const a=g0(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=RN(e,t);if(Array.isArray(a))r.push(...a);else{const l=Yu(e[On]);Yp(l[G],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class td{get rootNodes(){const e=this._lView,t=e[G];return Yp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ot]}set context(e){this._lView[Ot]=e}get destroyed(){return 128==(128&this._lView[ve])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Et];if(ei(e)){const t=e[gp],r=t?t.indexOf(this):-1;r>-1&&(b0(e,r),Tp(t,r))}this._attachedToViewContainer=!1}DN(this._lView[G],this._lView)}onDestroy(e){MP(this._lView[G],this._lView,null,e)}markForCheck(){Wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ve]&=-65}reattach(){this._lView[ve]|=64}detectChanges(){qp(this._lView[G],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sY(n,e){Qu(n,e,e[Ee],2,null,null)}(this._lView[G],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class EX extends td{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;qp(e[G],e,e[Ot],!1)}checkNoChanges(){}get context(){return null}}class UP extends qo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=We(e);return new nd(t,this.ngModule)}}function $P(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class DX{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=cp(r);const i=this.injector.get(e,B0,r);return i!==B0||t===B0?i:this.parentInjector.get(e,t,r)}}class nd extends oP{get inputs(){return $P(this.componentDef.inputs)}get outputs(){return $P(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function xQ(n){return n.map(AQ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Ei?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new DX(e,s):e,a=o.get(Zu,null);if(null===a)throw new x(407,!1);const l=o.get(cQ,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function ZQ(n,e,t){return n.selectRootElement(e,t===Jr.ShadowDom)}(c,r,this.componentDef.encapsulation):v0(c,u,function CX(n){const e=n.toLowerCase();return"svg"===e?wR:"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=J0(0,null,null,1,0,null,null,null,null,null),p=zp(null,f,null,h,null,null,a,c,l,o,null);let m,g;qb(p);try{const _=this.componentDef;let b,y=null;_.findHostDirectiveDefs?(b=[],y=new Map,_.findHostDirectiveDefs(_,b,y),b.push(_)):b=[_];const D=function SX(n,e){const t=n[G],r=lt;return n[r]=e,Ll(t,r,2,"#host",null)}(p,d),k=function TX(n,e,t,r,i,s,o,a){const l=i[G];!function AX(n,e,t,r){for(const i of n)e.mergedAttrs=ju(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Kp(e,e.mergedAttrs,!0),null!==t&&FN(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),u=zp(i,xP(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&ew(l,n,r.length-1),Gp(i,u),i[n.index]=u}(D,d,_,b,p,a,c);g=CR(f,lt),d&&function MX(n,e,t,r){if(r)Xb(n,t,["ng-version",lP.full]);else{const{attrs:i,classes:s}=function MQ(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ni(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Xb(n,t,i),s&&s.length>0&&PN(n,t,s.join(" "))}}(c,_,d,r),void 0!==t&&function OX(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(g,this.ngContentSelectors,t),m=function xX(n,e,t,r,i,s){const o=vn(),a=i[G],l=mr(o,i);RP(a,i,o,t,null,r);for(let u=0;u<t.length;u++)kn(jo(i,a,o.directiveStart+u,o),i);NP(a,i,o),l&&kn(l,i);const c=jo(i,a,o.directiveStart+o.componentOffset,o);if(n[Ot]=i[Ot]=c,null!==s)for(const u of s)u(c,e);return Y0(a,o,n),c}(k,_,b,y,p,[kX]),K0(f,p,null)}finally{Kb()}return new IX(this.componentType,m,Nl(g,p),p,g)}}class IX extends rQ{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new EX(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;iw(s[G],s,i,e,t),Wp(rr(this._tNode.index,s))}}get injector(){return new El(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function kX(){const n=vn();vp(M()[G],n)}function Ce(n){let e=function jP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ti(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=sw(n.inputs),o.declaredInputs=sw(n.declaredInputs),o.outputs=sw(n.outputs);const a=i.hostBindings;a&&FX(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&NX(n,l),c&&PX(n,c),Tb(n.inputs,i.inputs),Tb(n.declaredInputs,i.declaredInputs),Tb(n.outputs,i.outputs),ti(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ce&&(t=!1)}}e=Object.getPrototypeOf(e)}!function RX(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ju(i.hostAttrs,t=ju(t,i.hostAttrs))}}(r)}function sw(n){return n===Ji?{}:n===Be?[]:n}function NX(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function PX(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function FX(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Qp(n){return!!function ow(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Rn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function bn(n,e,t,r){const i=M();return Rn(i,bl(),e)&&(Me(),Ci(gt(),i,n,e,t,r)),bn}function Ul(n,e,t,r,i,s){const a=function Ko(n,e,t,r){const i=Rn(n,e,t);return Rn(n,e+1,r)||i}(n,function ts(){return de.lFrame.bindingIndex}(),t,i);return ns(2),a?e+ue(t)+r+ue(i)+s:he}function Gs(n,e,t,r,i,s,o,a){const l=M(),c=Me(),u=n+lt,d=c.firstCreatePass?function WX(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Ll(e,n,4,o||null,zs(c,a));Z0(e,t,u,zs(c,l)),vp(e,u);const d=u.tView=J0(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];vi(d,!1);const h=l[Ee].createComment("");Rp(c,l,h,d),kn(h,l),Gp(l,l[u]=PP(h,l,h,d)),mp(d)&&Q0(c,l,d),null!=o&&X0(l,d,a)}function ri(n,e,t){const r=M();return Rn(r,bl(),e)&&vr(Me(),gt(),r,n,e,r[Ee],t,!1),ri}function aw(n,e,t,r,i){const o=i?"class":"style";iw(n,t,e.inputs[o],o,r)}function Oe(n,e,t,r){const i=M(),s=Me(),o=lt+n,a=i[Ee],l=s.firstCreatePass?function KX(n,e,t,r,i,s){const o=e.consts,l=Ll(e,n,2,r,zs(o,i));return Z0(e,t,l,zs(o,s)),null!==l.attrs&&Kp(l,l.attrs,!1),null!==l.mergedAttrs&&Kp(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=i[o]=v0(a,e,function iK(){return de.lFrame.currentNamespace}()),u=mp(l);return vi(l,!0),FN(a,c,l),32!=(32&l.flags)&&Rp(s,i,c,l),0===function z9(){return de.lFrame.elementDepthCount}()&&kn(c,i),function H9(){de.lFrame.elementDepthCount++}(),u&&(Q0(s,i,l),Y0(s,l,i)),null!==r&&X0(i,l),Oe}function je(){let n=vn();jb()?zb():(n=n.parent,vi(n,!1));const e=n;!function G9(){de.lFrame.elementDepthCount--}();const t=Me();return t.firstCreatePass&&(vp(t,n),Bb(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function lK(n){return 0!=(8&n.flags)}(e)&&aw(t,e,M(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function cK(n){return 0!=(16&n.flags)}(e)&&aw(t,e,M(),e.stylesWithoutHost,!1),je}function Br(n,e,t,r){return Oe(n,e,t,r),je(),Br}function Jp(n,e,t){const r=M(),i=Me(),s=n+lt,o=i.firstCreatePass?function YX(n,e,t,r,i){const s=e.consts,o=zs(s,r),a=Ll(e,n,8,"ng-container",o);return null!==o&&Kp(a,o,!0),Z0(e,t,a,zs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];vi(o,!0);const a=r[s]=r[Ee].createComment("");return Rp(i,r,a,o),kn(a,r),mp(o)&&(Q0(i,r,o),Y0(i,o,r)),null!=t&&X0(r,o),Jp}function Zp(){let n=vn();const e=Me();return jb()?zb():(n=n.parent,vi(n,!1)),e.firstCreatePass&&(vp(e,n),Bb(n)&&e.queries.elementEnd(n)),Zp}function id(){return M()}function sd(n){return!!n&&"function"==typeof n.then}const lw=function rF(n){return!!n&&"function"==typeof n.subscribe};function kt(n,e,t,r){const i=M(),s=Me(),o=vn();return function sF(n,e,t,r,i,s,o){const a=mp(r),c=n.firstCreatePass&&LP(n),u=e[Ot],d=FP(e);let h=!0;if(3&r.type||o){const m=mr(r,e),g=o?o(m):m,_=d.length,b=o?D=>o(yn(D[r.index])):r.index;let y=null;if(!o&&a&&(y=function QX(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[gl],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,h=!1;else{s=aF(r,e,u,s,!1);const D=t.listen(g,i,s);d.push(s,D),c&&c.push(i,b,_,_+1)}}else s=aF(r,e,u,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const k=e[p[g]][p[g+1]].subscribe(s),F=d.length;d.push(s,k),c&&c.push(i,r.index,F,-(F+1))}}}(s,i,i[Ee],o,n,e,r),kt}function oF(n,e,t,r){try{return Pr(6,e,t),!1!==t(r)}catch(i){return BP(n,i),!1}finally{Pr(7,e,t)}}function aF(n,e,t,r,i){return function s(o){if(o===Function)return r;Wp(n.componentOffset>-1?rr(n.index,e):e);let l=oF(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=oF(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function od(n=1){return function Z9(n){return(de.lFrame.contextLView=function eK(n,e){for(;n>0;)e=e[ml],n--;return e}(n,de.lFrame.contextLView))[Ot]}(n)}function XX(n,e){let t=null;const r=function DQ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?fP(n,s,!0):TQ(r,s))return i}else t=i}return t}function Ws(n){const e=M()[On][Mn];if(!e.projection){const r=e.projection=Gu(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?XX(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function br(n,e=0,t){const r=M(),i=Me(),s=Ll(i,lt+n,16,null,t||null);null===s.projection&&(s.projection=e),zb(),32!=(32&s.flags)&&function fY(n,e,t){NN(e[Ee],0,e,t,IN(n,t,e),xN(t.parent||e[Mn],t,e))}(i,r,s)}function eg(n,e){return n<<17|e<<2}function qs(n){return n>>17&32767}function uw(n){return 2|n}function Yo(n){return(131068&n)>>2}function dw(n,e){return-131069&n|e<<2}function hw(n){return 1|n}function _F(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?qs(s):Yo(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];rJ(n[a],e)&&(l=!0,n[a+1]=r?hw(u):uw(u)),a=r?qs(u):Yo(u)}l&&(n[t+1]=r?uw(s):hw(s))}function rJ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Al(n,e)>=0}function ad(n,e,t){return ii(n,e,t,!1),ad}function Ur(n,e){return ii(n,e,null,!0),Ur}function ii(n,e,t,r){const i=M(),s=Me(),o=ns(2);s.firstUpdatePass&&function IF(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Kn()],o=function DF(n,e){return e>=n.expandoStartIndex}(n,t);(function xF(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function hJ(n,e,t,r){const i=function Gb(n){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ld(t=fw(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=fw(i,n,e,t,r),null===s){let l=function fJ(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Yo(r))return n[qs(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=fw(null,n,e,l[1],r),l=ld(l,e.attrs,r),function pJ(n,e,t,r){n[qs(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function gJ(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ld(r,n[s].hostAttrs,t);return ld(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function tJ(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=qs(o),l=Yo(o);n[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Al(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=qs(n[a+1]);n[r+1]=eg(h,a),0!==h&&(n[h+1]=dw(n[h+1],r)),n[a+1]=function ZX(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=eg(a,0),0!==a&&(n[a+1]=dw(n[a+1],r)),a=r;else n[r+1]=eg(l,0),0===a?a=r:n[l+1]=dw(n[l+1],r),l=r;c&&(n[r+1]=uw(n[r+1])),_F(n,u,r,!0),_F(n,u,r,!1),function nJ(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Al(s,e)>=0&&(t[r+1]=hw(t[r+1]))}(e,u,n,r,s),o=eg(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==he&&Rn(i,o,e)&&function TF(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function eJ(n){return 1==(1&n)}(c)?AF(l,e,t,i,Yo(c),o):void 0;tg(u)||(tg(s)||function JX(n){return 2==(2&n)}(c)&&(s=AF(l,null,t,i,a,o)),function gY(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:ir.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ir.Important),n.setStyle(t,r,i,s))}}(r,o,_p(Kn(),t),i,s))}(s,s.data[Kn()],i,i[Ee],n,i[o+1]=function vJ(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=rt(yr(n)))),n}(e,t),r,o)}function fw(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ld(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ld(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),_r(n,o,!!t||e[++s]))}return void 0===n?null:n}function AF(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===he&&(h=d?Be:void 0);let f=d?o0(h,r):u===r?h:void 0;if(c&&!tg(f)&&(f=o0(l,r)),tg(f)&&(a=f,o))return a;const p=n[i+1];i=o?qs(p):Yo(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=o0(l,r))}return a}function tg(n){return void 0!==n}function cn(n,e=""){const t=M(),r=Me(),i=n+lt,s=r.firstCreatePass?Ll(r,i,1,e,null):r.data[i],o=t[i]=function y0(n,e){return n.createText(e)}(t[Ee],e);Rp(r,t,o,s),vi(s,!1)}function ng(n,e,t){const r=M(),i=function Bl(n,e,t,r){return Rn(n,bl(),t)?e+ue(t)+r:he}(r,n,e,t);return i!==he&&as(r,Kn(),i),ng}function pw(n,e,t,r,i){const s=M(),o=Ul(s,n,e,t,r,i);return o!==he&&as(s,Kn(),o),pw}function rg(n,e,t){const r=M();return Rn(r,bl(),e)&&vr(Me(),gt(),r,n,e,r[Ee],t,!0),rg}const Yl="en-US";let QF=Yl;function _w(n,e,t,r,i){if(n=ne(n),Array.isArray(n))for(let s=0;s<n.length;s++)_w(n[s],e,t,r,i);else{const s=Me(),o=M();let a=Wo(n)?n:ne(n.provide),l=sP(n);const c=vn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Wo(n)||!n.multi){const f=new $u(l,i,w),p=vw(a,e,i?u:u+h,d);-1===p?(t0(Ip(c,o),s,a),yw(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=vw(a,e,u+h,d),p=vw(a,e,u,u+h),g=p>=0&&t[p];if(i&&!g||!i&&!(f>=0&&t[f])){t0(Ip(c,o),s,a);const _=function LZ(n,e,t,r,i){const s=new $u(n,t,w);return s.multi=[],s.index=e,s.componentProviders=0,wL(s,i,r&&!t),s}(i?FZ:PZ,t.length,i,r,l);!i&&g&&(t[p].providerFactory=_),yw(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(_),o.push(_)}else yw(s,n,f>-1?f:p,wL(t[i?p:f],l,!i&&r));!i&&r&&g&&t[p].componentProviders++}}}function yw(n,e,t,r){const i=Wo(e),s=function QY(n){return!!n.useClass}(e);if(i||s){const l=(s?ne(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function wL(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function PZ(n,e,t,r){return bw(this.multi,[])}function FZ(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=jo(t,t[G],this.providerFactory.index,r);s=a.slice(0,o),bw(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],bw(i,s);return s}function bw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function qe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function NZ(n,e,t){const r=Me();if(r.firstCreatePass){const i=ti(n);_w(t,r.data,r.blueprint,i,!0),_w(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ql{}class EL{}class CL extends Ql{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UP(this);const r=pr(e);this._bootstrapComponents=os(r.bootstrap),this._r3Injector=bP(e,t,[{provide:Ql,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ww extends EL{constructor(e){super(),this.moduleType=e}create(e){return new CL(this.moduleType,e)}}class BZ extends Ql{constructor(e,t,r){super(),this.componentFactoryResolver=new UP(this),this.instance=null;const i=new iP([...e,{provide:Ql,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],t||$p(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function lg(n,e,t=null){return new BZ(n,e,t).injector}let UZ=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=eP(0,t.type),i=r.length>0?lg([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=V({token:n,providedIn:"environment",factory:()=>new n(S(Ei))}),n})();function Ew(n){n.getStandaloneInjector=e=>e.get(UZ).getOrCreateStandaloneInjector(n)}function Dw(n){return e=>{setTimeout(n,void 0,e)}}const ze=class hee extends Ie{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Dw(s),i&&(i=Dw(i)),o&&(o=Dw(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof xt&&e.add(a),a}};function fee(){return this._results[Symbol.iterator]()}class Xl{get changes(){return this._changes||(this._changes=new ze)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Xl.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=fee)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Fr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function vK(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let oi=(()=>{class n{}return n.__NG_ELEMENT_ID__=mee,n})();const pee=oi,gee=class extends pee{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tView,i=zp(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[Pu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[yi];return null!==o&&(i[yi]=o.createEmbeddedView(r)),K0(r,i,e),new td(i)}};function mee(){return cg(vn(),M())}function cg(n,e){return 4&n.type?new gee(e,n,Nl(n,e)):null}let wr=(()=>{class n{}return n.__NG_ELEMENT_ID__=_ee,n})();function _ee(){return LL(vn(),M())}const yee=wr,PL=class extends yee{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Nl(this._hostTNode,this._hostLView)}get injector(){return new El(this._hostTNode,this._hostLView)}get parentInjector(){const e=e0(this._hostTNode,this._hostLView);if(jR(e)){const t=Cp(e,this._hostLView),r=Ep(e);return new El(t[G].data[r+8],t)}return new El(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=FL(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Gn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Hu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new nd(We(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(Ei,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[G];if(function j9(n){return ei(n[Et])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[Et],h=new PL(d,d[Mn],d[Et]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function aY(n,e,t,r){const i=Gn+r,s=t.length;r>0&&(t[i-1][Zr]=e),r<s-Gn?(e[Zr]=t[i],eN(t,Gn+r,e)):(t.push(e),e[Zr]=null),e[Et]=t;const o=e[Pu];null!==o&&t!==o&&function lY(n,e){const t=n[yl];e[On]!==e[Et][Et][On]&&(n[gR]=!0),null===t?n[yl]=[e]:t.push(e)}(o,e);const a=e[yi];null!==a&&a.insertView(n),e[ve]|=64}(i,r,o,s);const a=C0(s,o),l=r[Ee],c=kp(l,o[pp]);return null!==c&&function iY(n,e,t,r,i,s){r[es]=i,r[Mn]=e,Qu(n,r,t,1,i,s)}(i,o[Mn],l,r,c,a),e.attachToViewContainerRef(),eN(Iw(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=FL(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=b0(this._lContainer,t);r&&(Tp(Iw(this._lContainer),t),DN(r[G],r))}detach(e){const t=this._adjustIndex(e,-1),r=b0(this._lContainer,t);return r&&null!=Tp(Iw(this._lContainer),t)?new td(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function FL(n){return n[gp]}function Iw(n){return n[gp]||(n[gp]=[])}function LL(n,e){let t;const r=e[n.index];if(ei(r))t=r;else{let i;if(8&n.type)i=yn(r);else{const s=e[Ee];i=s.createComment("");const o=mr(n,e);Ho(s,kp(s,o),i,function hY(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=PP(r,e,i,n),Gp(e,t)}return new PL(t,n,e)}class Sw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Sw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Tw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==jL(e,t).matches&&this.queries[t].setDirty()}}class VL{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Aw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Aw(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class xw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new xw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,vee(t,s)),this.matchTNodeWithReadOption(e,t,Sp(t,e,s,!1,!1))}else r===oi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Sp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Qe||i===wr||i===oi&&4&t.type)this.addMatch(t.index,-2);else{const s=Sp(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function vee(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function wee(n,e,t,r){return-1===t?function bee(n,e){return 11&n.type?Nl(n,e):4&n.type?cg(n,e):null}(e,n):-2===t?function Eee(n,e,t){return t===Qe?Nl(e,n):t===oi?cg(e,n):t===wr?LL(e,n):void 0}(n,e,r):jo(n,n[G],t,e)}function BL(n,e,t,r){const i=e[yi].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:wee(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Mw(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=BL(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=Gn;d<u.length;d++){const h=u[d];h[Pu]===h[Et]&&Mw(h[G],h,c,r)}if(null!==u[yl]){const d=u[yl];for(let h=0;h<d.length;h++){const f=d[h];Mw(f[G],f,c,r)}}}}}return r}function ls(n){const e=M(),t=Me(),r=OR();Wb(r+1);const i=jL(t,r);if(n.dirty&&function $9(n){return 4==(4&n[ve])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Mw(t,e,r,[]):BL(t,e,i,r);n.reset(s,aQ),n.notifyOnChanges()}return!0}return!1}function ug(n,e,t){const r=Me();r.firstCreatePass&&($L(r,new VL(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),UL(r,M(),e)}function Jl(n,e,t,r){const i=Me();if(i.firstCreatePass){const s=vn();$L(i,new VL(e,t,r),s.index),function Dee(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}UL(i,M(),t)}function cs(){return function Cee(n,e){return n[yi].queries[e].queryList}(M(),OR())}function UL(n,e,t){const r=new Xl(4==(4&t));MP(n,e,r,r.destroy),null===e[yi]&&(e[yi]=new Tw),e[yi].queries.push(new Sw(r))}function $L(n,e,t){null===n.queries&&(n.queries=new Aw),n.queries.track(new xw(e,t))}function jL(n,e){return n.queries.getByIndex(e)}function hg(...n){}const fg=new P("Application Initializer");let pg=(()=>{class n{constructor(t){this.appInits=t,this.resolve=hg,this.reject=hg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(sd(s))t.push(s);else if(lw(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(S(fg,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _d=new P("AppId",{providedIn:"root",factory:function a2(){return`${Fw()}${Fw()}${Fw()}`}});function Fw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const l2=new P("Platform Initializer"),Xo=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jo=new P("AnimationModuleType");let Gee=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ti=new P("LocaleId",{providedIn:"root",factory:()=>oe(Ti,re.Optional|re.SkipSelf)||function Wee(){return typeof $localize<"u"&&$localize.locale||Yl}()});class Kee{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let c2=(()=>{class n{compileModuleSync(t){return new ww(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=os(pr(t).declarations).reduce((o,a)=>{const l=We(a);return l&&o.push(new nd(l)),o},[]);return new Kee(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xee=(()=>Promise.resolve(0))();function Lw(n){typeof Zone>"u"?Xee.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Jee(){let n=at.requestAnimationFrame,e=at.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function tte(n){const e=()=>{!function ete(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(at,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Bw(n),n.isCheckStableRunning=!0,Vw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Bw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return h2(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),f2(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return h2(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),f2(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Bw(n),Vw(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pe.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(pe.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Zee,hg,hg);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Zee={};function Vw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Bw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function h2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function f2(n){n._nesting--,Vw(n)}class nte{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ze,this.onMicrotaskEmpty=new ze,this.onStable=new ze,this.onError=new ze}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const p2=new P(""),gg=new P("");let jw,Uw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jw||(function rte(n){jw=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pe.assertNotInAngularZone(),Lw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lw(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(S(pe),S($w),S(gg))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),$w=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return jw?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const us=!1;let Ks=null;const g2=new P("AllowMultipleToken"),zw=new P("PlatformDestroyListeners"),m2=new P("appBootstrapListener");class _2{constructor(e,t){this.name=e,this.token=t}}function v2(n,e,t=[]){const r=`Platform: ${e}`,i=new P(r);return(s=[])=>{let o=Hw();if(!o||o.injector.get(g2,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function ote(n){if(Ks&&!Ks.get(g2,!1))throw new x(400,!1);Ks=n;const e=n.get(w2);(function y2(n){const e=n.get(l2,null);e&&e.forEach(t=>t())})(n)}(function b2(n=[],e){return Ht.create({name:e,providers:[{provide:P0,useValue:"platform"},{provide:zw,useValue:new Set([()=>Ks=null])},...n]})}(a,r))}return function lte(n){const e=Hw();if(!e)throw new x(401,!1);return e}()}}function Hw(){return Ks?.get(w2)??null}let w2=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function C2(n,e){let t;return t="noop"===n?new nte:("zone.js"===n?void 0:n)||new pe(e),t}(r?.ngZone,function E2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:pe,useValue:i}];return i.run(()=>{const o=Ht.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(ss,null);if(!l)throw new x(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{mg(this._modules,a),c.unsubscribe()})}),function D2(n,e,t){try{const r=t();return sd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(pg);return c.runInitializers(),c.donePromise.then(()=>(function XF(n){Rr(n,"Expected localeId to be defined"),"string"==typeof n&&(QF=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ti,Yl)||Yl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=I2({},r);return function ite(n,e,t){const r=new ww(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(tc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new x(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(zw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(S(Ht))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function I2(n,e){return Array.isArray(e)?e.reduce(I2,n):{...n,...e}}let tc=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Le(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Le(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),Lw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=np(s,o.pipe(nR()))}bootstrap(t,r){const i=t instanceof oP;if(!this._injector.get(pg).done){!i&&function pl(n){const e=We(n)||xn(n)||nr(n);return null!==e&&e.standalone}(t);throw new x(405,us)}let o;o=i?t:this._injector.get(qo).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function ste(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ql),c=o.create(Ht.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(p2,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),mg(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;mg(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(m2,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(S(pe),S(Ei),S(ss))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Ys=(()=>{class n{}return n.__NG_ELEMENT_ID__=ute,n})();function ute(n){return function dte(n,e,t){if(Lu(n)&&!t){const r=rr(n.index,e);return new td(r,r)}return 47&n.type?new td(e[On],e):null}(vn(),M(),16==(16&n))}class M2{constructor(){}supports(e){return Qp(e)}create(e){return new _te(e)}}const mte=(n,e)=>e;class _te{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mte}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<k2(r,i,s)?t:r,a=k2(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Qp(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function zX(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new yte(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new O2),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new O2),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yte{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vte{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class O2{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new vte,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function k2(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function N2(){return new vg([new M2])}let vg=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||N2()),deps:[[n,new xl,new zt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new x(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:N2}),n})();const Dte=v2(null,"core",[]);let Ite=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(S(tc))},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({}),n})();function nc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Yw=null;function ds(){return Yw}class Ate{}const ge=new P("DocumentToken");let Qw=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return function xte(){return S(F2)}()},providedIn:"platform"}),n})();const Mte=new P("Location Initialized");let F2=(()=>{class n extends Qw{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ds().getBaseHref(this._doc)}onPopState(t){const r=ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){L2()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){L2()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(S(ge))},n.\u0275prov=V({token:n,factory:function(){return function Ote(){return new F2(S(ge))}()},providedIn:"platform"}),n})();function L2(){return!!window.history.pushState}function Xw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function V2(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function hs(n){return n&&"?"!==n[0]?"?"+n:n}let ea=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return oe(U2)},providedIn:"root"}),n})();const B2=new P("appBaseHref");let U2=(()=>{class n extends ea{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??oe(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Xw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+hs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+hs(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+hs(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Qw),S(B2,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kte=(()=>{class n extends ea{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Xw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+hs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+hs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Qw),S(B2,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),vd=(()=>{class n{constructor(t){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Pte(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(V2($2(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+hs(r))}normalize(t){return n.stripTrailingSlash(function Nte(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,$2(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hs(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=hs,n.joinWithSlash=Xw,n.stripTrailingSlash=V2,n.\u0275fac=function(t){return new(t||n)(S(ea))},n.\u0275prov=V({token:n,factory:function(){return function Rte(){return new vd(S(ea))}()},providedIn:"root"}),n})();function $2(n){return n.replace(/\/index.html$/,"")}function Q2(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class bne{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let eV=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new bne(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),tV(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{tV(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(wr),w(oi),w(vg))},n.\u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function tV(n,e){n.context.$implicit=e.item}let lE=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ene,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nV("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nV("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(wr),w(oi))},n.\u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ene{constructor(){this.$implicit=null,this.ngIf=null}}function nV(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${rt(e)}'.`)}let fE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({}),n})();const sV="browser";function oV(n){return n===sV}let Qne=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>new Xne(S(ge),window)}),n})();class Xne{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Jne(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=aV(this.window.history)||aV(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function aV(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class lV{}class Ire extends Ate{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class mE extends Ire{static makeCurrent(){!function Tte(n){Yw||(Yw=n)}(new mE)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Sre(){return Cd=Cd||document.querySelector("base"),Cd?Cd.getAttribute("href"):null}();return null==t?null:function Tre(n){Og=Og||document.createElement("a"),Og.setAttribute("href",n);const e=Og.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Q2(document.cookie,e)}}let Og,Cd=null;const fV=new P("TRANSITION_ID"),xre=[{provide:fg,useFactory:function Are(n,e,t){return()=>{t.get(pg).donePromise.then(()=>{const r=ds(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[fV,ge,Ht],multi:!0}];let Ore=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const kg=new P("EventManagerPlugins");let Rg=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(S(kg),S(pe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class pV{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=ds().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let gV=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Dd=(()=>{class n extends gV{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(S(ge))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const _E={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yE=/%COMP%/g,yV=new P("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function vV(n,e){return e.flat(100).map(t=>t.replace(yE,n))}function bV(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ng=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new vE(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof CV?i.applyToHost(t):i instanceof bE&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case Jr.Emulated:s=new CV(o,a,r,this.appId,l);break;case Jr.ShadowDom:return new Vre(o,a,t,r);default:s=new bE(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(S(Rg),S(Dd),S(_d),S(yV))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class vE{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(_E[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(EV(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(EV(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=_E[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=_E[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ir.DashCase|ir.Important)?e.style.setProperty(t,r,i&ir.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ir.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,bV(r)):this.eventManager.addEventListener(e,t,bV(r))}}function EV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Vre extends vE{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=vV(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bE extends vE{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=vV(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class CV extends bE{constructor(e,t,r,i,s){const o=i+"-"+r.id;super(e,t,r,s,o),this.contentAttr=function Pre(n){return"_ngcontent-%COMP%".replace(yE,n)}(o),this.hostAttr=function Fre(n){return"_nghost-%COMP%".replace(yE,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Bre=(()=>{class n extends pV{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(S(ge))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const DV=["alt","control","meta","shift"],Ure={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$re={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let jre=(()=>{class n extends pV{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ds().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),DV.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=Ure[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),DV.forEach(o=>{o!==i&&(0,$re[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(S(ge))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const SV=[{provide:Xo,useValue:sV},{provide:l2,useValue:function zre(){mE.makeCurrent()},multi:!0},{provide:ge,useFactory:function Gre(){return function bY(n){T0=n}(document),document},deps:[]}],Wre=v2(Dte,"browser",SV),TV=new P(""),AV=[{provide:gg,useClass:class Mre{addToWindow(e){at.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},at.getAllAngularTestabilities=()=>e.getAllTestabilities(),at.getAllAngularRootElements=()=>e.getAllRootElements(),at.frameworkStabilizers||(at.frameworkStabilizers=[]),at.frameworkStabilizers.push(r=>{const i=at.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ds().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:p2,useClass:Uw,deps:[pe,$w,gg]},{provide:Uw,useClass:Uw,deps:[pe,$w,gg]}],xV=[{provide:P0,useValue:"root"},{provide:ss,useFactory:function Hre(){return new ss},deps:[]},{provide:kg,useClass:Bre,multi:!0,deps:[ge,pe,Xo]},{provide:kg,useClass:jre,multi:!0,deps:[ge]},{provide:Ng,useClass:Ng,deps:[Rg,Dd,_d,yV]},{provide:Zu,useExisting:Ng},{provide:gV,useExisting:Dd},{provide:Dd,useClass:Dd,deps:[ge]},{provide:Rg,useClass:Rg,deps:[kg,pe]},{provide:lV,useClass:Ore,deps:[]},[]];let MV=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:_d,useValue:t.appId},{provide:fV,useExisting:_d},xre]}}}return n.\u0275fac=function(t){return new(t||n)(S(TV,12))},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({providers:[...xV,...AV],imports:[fE,Ite]}),n})(),OV=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(S(ge))},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new t:function Kre(){return new OV(S(ge))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let CE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new(t||n):S(NV),r},providedIn:"root"}),n})(),NV=(()=>{class n extends CE{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case $e.NONE:return r;case $e.HTML:return wi(r,"HTML")?yr(r):qN(this._doc,String(r)).toString();case $e.STYLE:return wi(r,"Style")?yr(r):r;case $e.SCRIPT:if(wi(r,"Script"))return yr(r);throw new Error("unsafe value used in a script context");case $e.URL:return wi(r,"URL")?yr(r):Lp(String(r));case $e.RESOURCE_URL:if(wi(r,"ResourceURL"))return yr(r);throw new Error(`unsafe value used in a resource URL context (see ${rp})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${rp})`)}}bypassSecurityTrustHtml(t){return function TY(n){return new wY(n)}(t)}bypassSecurityTrustStyle(t){return function AY(n){return new EY(n)}(t)}bypassSecurityTrustScript(t){return function xY(n){return new CY(n)}(t)}bypassSecurityTrustUrl(t){return function MY(n){return new DY(n)}(t)}bypassSecurityTrustResourceUrl(t){return function OY(n){return new IY(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(S(ge))},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new t:function Zre(n){return new NV(n.get(ge))}(S(Ht)),r},providedIn:"root"}),n})();function K(...n){return jt(n,xu(n))}class Er extends Ie{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Pg=Tu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:eie}=Array,{getPrototypeOf:tie,prototype:nie,keys:rie}=Object;function PV(n){if(1===n.length){const e=n[0];if(eie(e))return{args:e,keys:null};if(function iie(n){return n&&"object"==typeof n&&tie(n)===nie}(e)){const t=rie(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:sie}=Array;function DE(n){return se(e=>function oie(n,e){return sie(e)?n(...e):n(e)}(n,e))}function FV(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function IE(...n){const e=xu(n),t=eR(n),{args:r,keys:i}=PV(n);if(0===r.length)return jt([],e);const s=new Le(function aie(n,e,t=Us){return r=>{LV(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)LV(e,()=>{const c=jt(n[l],e);let u=!1;c.subscribe(ft(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>FV(i,o):Us));return t?s.pipe(DE(t)):s}function LV(n,e,t){n?Qi(t,n,e):e()}function Fg(...n){return function lie(){return hl(1)}()(jt(n,xu(n)))}function Lg(n){return new Le(e=>{Hn(n()).subscribe(e)})}function rc(n,e){const t=Pe(n)?n:()=>n,r=i=>i.error(t());return new Le(e?i=>e.schedule(r,0,i):r)}function SE(){return wt((n,e)=>{let t=null;n._refCount++;const r=ft(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class VV extends Le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Bk(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xt;const t=this.getSubject();e.add(this.source.subscribe(ft(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xt.EMPTY)}return e}refCount(){return SE()(this)}}function Ai(n,e){return wt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ft(r,l=>{i?.unsubscribe();let c=0;const u=s++;Hn(n(l,u)).subscribe(i=ft(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ar(n){return n<=0?()=>Xr:wt((e,t)=>{let r=0;e.subscribe(ft(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ta(...n){const e=xu(n);return wt((t,r)=>{(e?Fg(n,t,e):Fg(n,t)).subscribe(r)})}function Pt(n,e){return wt((t,r)=>{let i=0;t.subscribe(ft(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Vg(n){return wt((e,t)=>{let r=!1;e.subscribe(ft(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function BV(n=cie){return wt((e,t)=>{let r=!1;e.subscribe(ft(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function cie(){return new Pg}function Xs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Pt((i,s)=>n(i,s,r)):Us,ar(1),t?Vg(e):BV(()=>new Pg))}function Js(n,e){return Pe(e)?an(n,e,1):an(n,1)}function Ft(n,e,t){const r=Pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?wt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ft(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Us}function xi(n){return wt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ft(t,void 0,void 0,o=>{s=Hn(n(o,xi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function UV(n,e){return wt(function uie(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(ft(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function TE(n){return n<=0?()=>Xr:wt((e,t)=>{let r=[];e.subscribe(ft(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function $V(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Pt((i,s)=>n(i,s,r)):Us,TE(1),t?Vg(e):BV(()=>new Pg))}function Bg(n){return wt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const me="primary",Id=Symbol("RouteTitle");class fie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ic(n){return new fie(n)}function pie(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Mi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!jV(n[i],e[i]))return!1;return!0}function jV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function zV(n){return Array.prototype.concat.apply([],n)}function HV(n){return n.length>0?n[n.length-1]:null}function wn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Zs(n){return lw(n)?n:sd(n)?jt(Promise.resolve(n)):K(n)}const Ug=!1,mie={exact:function qV(n,e,t){if(!na(n.segments,e.segments)||!$g(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!qV(n.children[r],e.children[r],t))return!1;return!0},subset:KV},GV={exact:function _ie(n,e){return Mi(n,e)},subset:function yie(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jV(n[t],e[t]))},ignored:()=>!0};function WV(n,e,t){return mie[t.paths](n.root,e.root,t.matrixParams)&&GV[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function KV(n,e,t){return YV(n,e,e.segments,t)}function YV(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!na(i,t)||e.hasChildren()||!$g(i,t,r))}if(n.segments.length===t.length){if(!na(n.segments,t)||!$g(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!KV(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(na(n.segments,i)&&$g(n.segments,i,r)&&n.children[me])&&YV(n.children[me],e,s,r)}}function $g(n,e,t){return e.every((r,i)=>GV[t](n[i].parameters,r.parameters))}class eo{constructor(e=new De([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ic(this.queryParams)),this._queryParamMap}toString(){return wie.serialize(this)}}class De{constructor(e,t){this.segments=e,this.children=t,this.parent=null,wn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jg(this)}}class Sd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ic(this.parameters)),this._parameterMap}toString(){return JV(this)}}function na(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Td=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return new AE},providedIn:"root"}),n})();class AE{parse(e){const t=new Mie(e);return new eo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ad(e.root,!0)}`,r=function Die(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zg(t)}=${zg(i)}`).join("&"):`${zg(t)}=${zg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Eie(n){return encodeURI(n)}(e.fragment)}`:""}`}}const wie=new AE;function jg(n){return n.segments.map(e=>JV(e)).join("/")}function Ad(n,e){if(!n.hasChildren())return jg(n);if(e){const t=n.children[me]?Ad(n.children[me],!1):"",r=[];return wn(n.children,(i,s)=>{s!==me&&r.push(`${s}:${Ad(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function bie(n,e){let t=[];return wn(n.children,(r,i)=>{i===me&&(t=t.concat(e(r,i)))}),wn(n.children,(r,i)=>{i!==me&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===me?[Ad(n.children[me],!1)]:[`${i}:${Ad(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[me]?`${jg(n)}/${t[0]}`:`${jg(n)}/(${t.join("//")})`}}function QV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zg(n){return QV(n).replace(/%3B/gi,";")}function xE(n){return QV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hg(n){return decodeURIComponent(n)}function XV(n){return Hg(n.replace(/\+/g,"%20"))}function JV(n){return`${xE(n.path)}${function Cie(n){return Object.keys(n).map(e=>`;${xE(e)}=${xE(n[e])}`).join("")}(n.parameters)}`}const Iie=/^[^\/()?;=#]+/;function Gg(n){const e=n.match(Iie);return e?e[0]:""}const Sie=/^[^=?&#]+/,Aie=/^[^&#]+/;class Mie{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new De(e,t)),r}parseSegment(){const e=Gg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,Ug);return this.capture(e),new Sd(Hg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Gg(this.remaining);i&&(r=i,this.capture(r))}e[Hg(t)]=Hg(r)}parseQueryParam(e){const t=function Tie(n){const e=n.match(Sie);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function xie(n){const e=n.match(Aie);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=XV(t),s=XV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,Ug);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[me]:new De([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,Ug)}}function ME(n){return n.segments.length>0?new De([],{[me]:n}):n}function Wg(n){const e={};for(const r of Object.keys(n.children)){const s=Wg(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Oie(n){if(1===n.numberOfChildren&&n.children[me]){const e=n.children[me];return new De(n.segments.concat(e.segments),e.children)}return n}(new De(n.segments,e))}function ra(n){return n instanceof eo}const OE=!1;function kie(n,e,t,r,i){if(0===t.length)return sc(e.root,e.root,e.root,r,i);const s=function rB(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new nB(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return wn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new nB(t,e,r)}(t);return s.toRoot()?sc(e.root,e.root,new De([],{}),r,i):function o(l){const c=function Nie(n,e,t,r){if(n.isAbsolute)return new oc(e.root,!0,0);if(-1===r)return new oc(t,t===e.root,0);return function iB(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,OE&&"Invalid number of '../'");i=r.segments.length}return new oc(r,!1,i-s)}(t,r+(xd(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?ac(c.segmentGroup,c.index,s.commands):kE(c.segmentGroup,c.index,s.commands);return sc(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function xd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Md(n){return"object"==typeof n&&null!=n&&n.outlets}function sc(n,e,t,r,i){let o,s={};r&&wn(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:tB(n,e,t);const a=ME(Wg(o));return new eo(a,s,i)}function tB(n,e,t){const r={};return wn(n.children,(i,s)=>{r[s]=i===e?t:tB(i,e,t)}),new De(n.segments,r)}class nB{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xd(r[0]))throw new x(4003,OE&&"Root segment cannot have matrix parameters");const i=r.find(Md);if(i&&i!==HV(r))throw new x(4004,OE&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function kE(n,e,t){if(n||(n=new De([],{})),0===n.segments.length&&n.hasChildren())return ac(n,e,t);const r=function Fie(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Md(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!oB(l,c,o))return s;r+=2}else{if(!oB(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new De(n.segments.slice(0,r.pathIndex),{});return s.children[me]=new De(n.segments.slice(r.pathIndex),n.children),ac(s,0,i)}return r.match&&0===i.length?new De(n.segments,{}):r.match&&!n.hasChildren()?RE(n,e,t):r.match?ac(n,0,i):RE(n,e,t)}function ac(n,e,t){if(0===t.length)return new De(n.segments,{});{const r=function Pie(n){return Md(n[0])?n[0].outlets:{[me]:n}}(t),i={};if(!r[me]&&n.children[me]&&1===n.numberOfChildren&&0===n.children[me].segments.length){const s=ac(n.children[me],e,t);return new De(n.segments,s.children)}return wn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=kE(n.children[o],e,s))}),wn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new De(n.segments,i)}}function RE(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Md(s)){const l=Lie(s.outlets);return new De(r,l)}if(0===i&&xd(t[0])){r.push(new Sd(n.segments[e].path,sB(t[0]))),i++;continue}const o=Md(s)?s.outlets[me]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&xd(a)?(r.push(new Sd(o,sB(a))),i+=2):(r.push(new Sd(o,{})),i++)}return new De(r,{})}function Lie(n){const e={};return wn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=RE(new De([],{}),0,t))}),e}function sB(n){const e={};return wn(n,(t,r)=>e[r]=`${t}`),e}function oB(n,e,t){return n==t.path&&Mi(e,t.parameters)}const Od="imperative";class Oi{constructor(e,t){this.id=e,this.url=t}}class NE extends Oi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ia extends Oi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qg extends Oi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kg extends Oi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class PE extends Oi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vie extends Oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bie extends Oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uie extends Oi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $ie extends Oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jie extends Oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zie{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hie{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gie{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wie{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qie{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kie{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aB{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Xie=(()=>{class n{createUrlTree(t,r,i,s,o,a){return kie(t||r.root,i,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Zie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(e){return Xie.\u0275fac(e)},providedIn:"root"}),n})();class lB{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=FE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=FE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=LE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return LE(e,this._root).map(t=>t.value)}}function FE(n,e){if(n===e.value)return e;for(const t of e.children){const r=FE(n,t);if(r)return r}return null}function LE(n,e){if(n===e.value)return[e];for(const t of e.children){const r=LE(n,t);if(r.length)return r.unshift(e),r}return[]}class ps{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function lc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cB extends lB{constructor(e,t){super(e),this.snapshot=t,VE(this,e)}toString(){return this.snapshot.toString()}}function uB(n,e){const t=function ese(n,e){const o=new Yg([],{},{},"",{},me,e,null,n.root,-1,{});return new hB("",new ps(o,[]))}(n,e),r=new Er([new Sd("",{})]),i=new Er({}),s=new Er({}),o=new Er({}),a=new Er(""),l=new cc(r,i,o,a,s,me,e,t.root);return l.snapshot=t.root,new cB(new ps(l,[]),t)}class cc{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(se(c=>c[Id]))??K(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>ic(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>ic(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dB(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function tse(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Yg{get title(){return this.data?.[Id]}constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ic(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ic(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hB extends lB{constructor(e,t){super(t),this.url=e,VE(this,t)}toString(){return fB(this._root)}}function VE(n,e){e.value._routerState=n,e.children.forEach(t=>VE(n,t))}function fB(n){const e=n.children.length>0?` { ${n.children.map(fB).join(", ")} } `:"";return`${n.value}${e}`}function BE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Mi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Mi(e.params,t.params)||n.params.next(t.params),function gie(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Mi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Mi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function UE(n,e){const t=Mi(n.params,e.params)&&function vie(n,e){return na(n,e)&&n.every((t,r)=>Mi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||UE(n.parent,e.parent))}function kd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function rse(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return kd(n,r,i);return kd(n,r)})}(n,e,t);return new ps(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>kd(n,a)),o}}const r=function ise(n){return new cc(new Er(n.url),new Er(n.params),new Er(n.queryParams),new Er(n.fragment),new Er(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>kd(n,s));return new ps(r,i)}}const $E="ngNavigationCancelingError";function pB(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gB(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function gB(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[$E]=!0,r.cancellationCode=e,t&&(r.url=t),r}function mB(n){return _B(n)&&ra(n.url)}function _B(n){return n&&n[$E]}class sse{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rd,this.attachRef=null}}let Rd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new sse,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qg=!1;let jE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=oe(Rd),this.location=oe(wr),this.changeDetector=oe(Ys),this.environmentInjector=oe(Ei)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,Qg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,Qg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,Qg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,Qg);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ose(t,a,i.injector);if(r&&function ase(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wn]}),n})();class ose{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===cc?this.route:e===Rd?this.childContexts:this.parent.get(e,t)}}let zE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Mt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ew],decls:1,vars:0,template:function(t,r){1&t&&Br(0,"router-outlet")},dependencies:[jE],encapsulation:2}),n})();function yB(n,e){return n.providers&&!n._injector&&(n._injector=lg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function GE(n){const e=n.children&&n.children.map(GE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=zE),t}function zr(n){return n.outlet||me}function vB(n,e){const t=n.filter(r=>zr(r)===e);return t.push(...n.filter(r=>zr(r)!==e)),t}function Nd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class hse{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),BE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=lc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),wn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=lc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=lc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=lc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Kie(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Wie(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(BE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),BE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Nd(i.snapshot),l=a?.get(qo)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class bB{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xg{constructor(e,t){this.component=e,this.route=t}}function fse(n,e,t){const r=n._root;return Pd(r,e?e._root:null,t,[r.value])}function uc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function g9(n){return null!==op(n)}(n)?e.get(n):n:r}function Pd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=lc(e);return n.children.forEach(o=>{(function gse(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function mse(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!na(n.url,e.url);case"pathParamsOrQueryParamsChange":return!na(n.url,e.url)||!Mi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!UE(n,e)||!Mi(n.queryParams,e.queryParams);default:return!UE(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new bB(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Pd(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xg(a.outlet.component,o))}else o&&Fd(e,a,i),i.canActivateChecks.push(new bB(r)),Pd(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),wn(s,(o,a)=>Fd(o,t.getContext(a),i)),i}function Fd(n,e,t){const r=lc(n),i=n.value;wn(r,(s,o)=>{Fd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Xg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ld(n){return"function"==typeof n}function WE(n){return n instanceof Pg||"EmptyError"===n?.name}const Jg=Symbol("INITIAL_VALUE");function dc(){return Ai(n=>IE(n.map(e=>e.pipe(ar(1),ta(Jg)))).pipe(se(e=>{for(const t of e)if(!0!==t){if(t===Jg)return Jg;if(!1===t||t instanceof eo)return t}return!0}),Pt(e=>e!==Jg),ar(1)))}function wB(n){return function E7(...n){return Fk(n)}(Ft(e=>{if(ra(e))throw pB(0,e)}),se(e=>!0===e))}const qE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EB(n,e,t,r,i){const s=KE(n,e,t);return s.matched?function Rse(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?K(i.map(o=>{const a=uc(o,n);return Zs(function Ese(n){return n&&Ld(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(dc(),wB()):K(!0)}(r=yB(e,r),e,t).pipe(se(o=>!0===o?s:{...qE})):K(s)}function KE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...qE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||pie)(t,n,e);if(!i)return{...qE};const s={};wn(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Zg(n,e,t,r){if(t.length>0&&function Fse(n,e,t){return t.some(r=>em(n,e,r)&&zr(r)!==me)}(n,t,r)){const s=new De(e,function Pse(n,e,t,r){const i={};i[me]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&zr(s)!==me){const o=new De([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[zr(s)]=o}return i}(n,e,r,new De(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function Lse(n,e,t){return t.some(r=>em(n,e,r))}(n,t,r)){const s=new De(n.segments,function Nse(n,e,t,r,i){const s={};for(const o of r)if(em(n,t,o)&&!i[zr(o)]){const a=new De([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[zr(o)]=a}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new De(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function em(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function CB(n,e,t,r){return!!(zr(n)===r||r!==me&&em(e,t,n))&&("**"===n.path||KE(e,n,t).matched)}function DB(n,e,t){return 0===e.length&&!n.children[t]}const tm=!1;class nm{constructor(e){this.segmentGroup=e||null}}class IB{constructor(e){this.urlTree=e}}function Vd(n){return rc(new nm(n))}function SB(n){return rc(new IB(n))}class $se{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Zg(this.urlTree.root,[],[],this.config).segmentGroup,t=new De(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,me).pipe(se(s=>this.createUrlTree(Wg(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xi(s=>{if(s instanceof IB)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof nm?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,me).pipe(se(i=>this.createUrlTree(Wg(i),e.queryParams,e.fragment))).pipe(xi(i=>{throw i instanceof nm?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,tm)}createUrlTree(e,t,r){const i=ME(e);return new eo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(se(s=>new De([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return jt(i).pipe(Js(s=>{const o=r.children[s],a=vB(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(se(l=>({segment:l,outlet:s})))}),UV((s,o)=>(s[o.outlet]=o.segment,s),{}),$V())}expandSegment(e,t,r,i,s,o){return jt(r).pipe(Js(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(xi(c=>{if(c instanceof nm)return K(null);throw c}))),Xs(a=>!!a),xi((a,l)=>{if(WE(a))return DB(t,i,s)?K(new De([],{})):Vd(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return CB(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Vd(t):Vd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?SB(s):this.lineralizeSegments(r,s).pipe(an(o=>{const a=new De(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=KE(t,i,s);if(!a)return Vd(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?SB(d):this.lineralizeSegments(i,d).pipe(an(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=yB(r,e),r.loadChildren?(r._loadedRoutes?K({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(se(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new De(i,{})))):K(new De(i,{}))):EB(t,r,i,e).pipe(Ai(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(an(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=Zg(t,a,l,h),m=new De(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(se(y=>new De(a,y)));if(0===h.length&&0===p.length)return K(new De(a,{}));const g=zr(r)===s;return this.expandSegment(d,m,h,p,g?me:s,!0).pipe(se(b=>new De(a.concat(b.segments),b.children)))})):Vd(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?K({routes:t._loadedRoutes,injector:t._loadedInjector}):function kse(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?K(!0):K(i.map(o=>{const a=uc(o,n);return Zs(function yse(n){return n&&Ld(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(dc(),wB())}(e,t,r).pipe(an(i=>i?this.configLoader.loadChildren(e,t).pipe(Ft(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Bse(n){return rc(gB(tm,3))}())):K({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[me])return e.redirectTo,rc(new x(4e3,tm));i=i.children[me]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new eo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return wn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return wn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new De(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new x(4001,tm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class zse{}class Wse{constructor(e,t,r,i,s,o,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Zg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,me).pipe(se(t=>{if(null===t)return null;const r=new Yg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ps(r,t),s=new hB(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=dB(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return jt(Object.keys(r.children)).pipe(Js(i=>{const s=r.children[i],o=vB(t,i);return this.processSegmentGroup(e,o,s,i)}),UV((i,s)=>i&&s?(i.push(...s),i):null),function die(n,e=!1){return wt((t,r)=>{let i=0;t.subscribe(ft(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Vg(null),$V(),se(i=>{if(null===i)return null;const s=AB(i);return function qse(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return jt(t).pipe(Js(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Xs(o=>!!o),xi(o=>{if(WE(o))return DB(r,i,s)?K([]):K(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!CB(t,r,i,s))return K(null);let o;if("**"===t.path){const a=i.length>0?HV(i).parameters:{},l=MB(r)+i.length;o=K({snapshot:new Yg(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OB(t),zr(t),t.component??t._loadedComponent??null,t,xB(r),l,kB(t)),consumedSegments:[],remainingSegments:[]})}else o=EB(r,t,i,e).pipe(se(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=MB(r)+l.length;return{snapshot:new Yg(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OB(t),zr(t),t.component??t._loadedComponent??null,t,xB(r),d,kB(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(Ai(a=>{if(null===a)return K(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function Kse(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Zg(r,c,u,h.filter(g=>void 0===g.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(se(g=>null===g?null:[new ps(l,g)]));if(0===h.length&&0===p.length)return K([new ps(l,[])]);const m=zr(t)===s;return this.processSegment(d,h,f,p,m?me:s).pipe(se(g=>null===g?null:[new ps(l,g)]))}))}}function Yse(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function AB(n){const e=[],t=new Set;for(const r of n){if(!Yse(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=AB(r.children);e.push(new ps(r.value,i))}return e.filter(r=>!t.has(r))}function xB(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function MB(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function OB(n){return n.data||{}}function kB(n){return n.resolve||{}}function RB(n){return"string"==typeof n.title||null===n.title}function YE(n){return Ai(e=>{const t=n(e);return t?jt(t).pipe(se(()=>e)):K(e)})}const hc=new P("ROUTES");let QE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=oe(c2)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Zs(t.loadComponent()).pipe(se(PB),Ft(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Bg(()=>{this.componentLoaders.delete(t)})),i=new VV(r,()=>new Ie).pipe(SE());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(se(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=zV(l.get(hc,[],re.Self|re.Optional)));return{routes:c.map(GE),injector:l}}),Bg(()=>{this.childrenLoaders.delete(r)})),o=new VV(s,()=>new Ie).pipe(SE());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Zs(t()).pipe(se(PB),an(r=>r instanceof EL||Array.isArray(r)?K(r):jt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PB(n){return function roe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let im=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ie,this.configLoader=oe(QE),this.environmentInjector=oe(Ei),this.urlSerializer=oe(Td),this.rootContexts=oe(Rd),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Hie(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new zie(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Er({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Od,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pt(r=>0!==r.id),se(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ai(r=>{let i=!1,s=!1;return K(r).pipe(Ft(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ai(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new Kg(o.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),Xr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return FB(o.source)&&(t.browserUrlTree=o.extractedUrl),K(o).pipe(Ai(u=>{const d=this.transitions?.getValue();return this.events.next(new NE(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Xr:Promise.resolve(u)}),function jse(n,e,t,r){return Ai(i=>function Use(n,e,t,r,i){return new $se(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(se(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Ft(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function Xse(n,e,t,r,i){return an(s=>function Gse(n,e,t,r,i,s,o="emptyOnly"){return new Wse(n,e,t,r,i,o,s).recognize().pipe(Ai(a=>null===a?function Hse(n){return new Le(e=>e.error(n))}(new zse):K(a)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(se(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ft(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new Vie(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new NE(u,this.urlSerializer.serialize(d),h,f);this.events.next(m);const g=uB(d,this.rootComponentType).snapshot;return K(r={...o,targetSnapshot:g,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Kg(o.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),Xr}}),Ft(o=>{const a=new Bie(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),se(o=>r={...o,guards:fse(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function Dse(n,e){return an(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?K({...t,guardsResult:!0}):function Ise(n,e,t,r){return jt(n).pipe(an(i=>function Ose(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?K(s.map(a=>{const l=Nd(e)??i,c=uc(a,l);return Zs(function wse(n){return n&&Ld(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Xs())})).pipe(dc()):K(!0)}(i.component,i.route,t,e,r)),Xs(i=>!0!==i,!0))}(o,r,i,n).pipe(an(a=>a&&function _se(n){return"boolean"==typeof n}(a)?function Sse(n,e,t,r){return jt(e).pipe(Js(i=>Fg(function Ase(n,e){return null!==n&&e&&e(new Gie(n)),K(!0)}(i.route.parent,r),function Tse(n,e){return null!==n&&e&&e(new qie(n)),K(!0)}(i.route,r),function Mse(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function pse(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Lg(()=>K(o.guards.map(l=>{const c=Nd(o.node)??t,u=uc(l,c);return Zs(function bse(n){return n&&Ld(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(Xs())})).pipe(dc())));return K(s).pipe(dc())}(n,i.path,t),function xse(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(s=>Lg(()=>{const o=Nd(e)??t,a=uc(s,o);return Zs(function vse(n){return n&&Ld(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Xs())}));return K(i).pipe(dc())}(n,i.route,t))),Xs(i=>!0!==i,!0))}(r,s,n,e):K(a)),se(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Ft(o=>{if(r.guardsResult=o.guardsResult,ra(o.guardsResult))throw pB(0,o.guardsResult);const a=new Uie(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Pt(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),YE(o=>{if(o.guards.canActivateChecks.length)return K(o).pipe(Ft(a=>{const l=new $ie(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Ai(a=>{let l=!1;return K(a).pipe(function Jse(n,e){return an(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let s=0;return jt(i).pipe(Js(o=>function Zse(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!RB(i)&&(s[Id]=i.title),function eoe(n,e,t,r){const i=function toe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return K({});const s={};return jt(i).pipe(an(o=>function noe(n,e,t,r){const i=Nd(e)??r,s=uc(n,i);return Zs(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Xs(),Ft(a=>{s[o]=a}))),TE(1),function hie(n){return se(()=>n)}(s),xi(o=>WE(o)?Xr:rc(o)))}(s,n,e,r).pipe(se(o=>(n._resolvedData=o,n.data=dB(n,t).resolve,i&&RB(i)&&(n.data[Id]=i.title),null)))}(o.route,r,n,e)),Ft(()=>s++),TE(1),an(o=>s===i.length?K(t):Xr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ft({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Ft(a=>{const l=new jie(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),YE(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ft(u=>{l.component=u}),se(()=>{})));for(const u of l.children)c.push(...a(u));return c};return IE(a(o.targetSnapshot.root)).pipe(Vg(),ar(1))}),YE(()=>this.afterPreactivation()),se(o=>{const a=function nse(n,e,t){const r=kd(n,e._root,t?t._root:void 0);return new cB(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Ft(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>se(r=>(new hse(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),ar(1),Ft({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ia(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Bg(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),xi(o=>{if(s=!0,_B(o)){mB(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new qg(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),mB(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||FB(r.source)};t.scheduleNavigation(l,Od,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new PE(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(l){r.reject(l)}}return Xr}))}))}cancelNavigationTransition(t,r,i){const s=new qg(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FB(n){return n!==Od}let LB=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===me);return r}getResolvedTitleForRoute(t){return t.data[Id]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return oe(ioe)},providedIn:"root"}),n})(),ioe=(()=>{class n extends LB{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(S(OV))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),soe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return oe(aoe)},providedIn:"root"}),n})();class ooe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let aoe=(()=>{class n extends ooe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ln(n)))(r||n)}}(),n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sm=new P("",{providedIn:"root",factory:()=>({})});let coe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return oe(uoe)},providedIn:"root"}),n})(),uoe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function doe(n){throw n}function hoe(n,e,t){return e.parse("/")}const foe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},poe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=oe(Gee),this.isNgZoneEnabled=!1,this.options=oe(sm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||doe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hoe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=oe(coe),this.routeReuseStrategy=oe(soe),this.urlCreationStrategy=oe(Zie),this.titleStrategy=oe(LB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=zV(oe(hc,{optional:!0})??[]),this.navigationTransitions=oe(im),this.urlSerializer=oe(Td),this.location=oe(vd),this.isNgZoneEnabled=oe(pe)instanceof pe&&pe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new eo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=uB(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Od,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(GE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ra(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Od,null,r)}navigate(t,r={skipLocationChange:!1}){return function goe(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new x(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...foe}:!1===r?{...poe}:r,ra(t))return WV(this.currentUrlTree,t,i);const s=this.parseUrl(t);return WV(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VB{}let yoe=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Pt(t=>t instanceof ia),Js(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=lg(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return jt(i).pipe(hl())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):K(null);const s=i.pipe(an(o=>null===o?K(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?jt([s,this.loader.loadComponent(r)]).pipe(hl()):s})}}return n.\u0275fac=function(t){return new(t||n)(S(Cr),S(c2),S(Ei),S(VB),S(QE))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZE=new P("");let BB=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof NE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ia&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof aB&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new aB(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){W0()},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();var Dr=(()=>((Dr=Dr||{})[Dr.COMPLETE=0]="COMPLETE",Dr[Dr.FAILED=1]="FAILED",Dr[Dr.REDIRECTING=2]="REDIRECTING",Dr))();const fc=!1;function to(n,e){return{\u0275kind:n,\u0275providers:e}}const eC=new P("",{providedIn:"root",factory:()=>!1});function $B(){const n=oe(Ht);return e=>{const t=n.get(tc);if(e!==t.components[0])return;const r=n.get(Cr),i=n.get(jB);1===n.get(tC)&&r.initialNavigation(),n.get(zB,null,re.Optional)?.setUpPreloading(),n.get(ZE,null,re.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const jB=new P(fc?"bootstrap done indicator":"",{factory:()=>new Ie}),tC=new P(fc?"initial navigation":"",{providedIn:"root",factory:()=>1});function Coe(){let n=[];return n=fc?[{provide:Bp,multi:!0,useFactory:()=>{const e=oe(Cr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Yie(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],to(1,n)}const zB=new P(fc?"router preloader":"");function Doe(n){return to(0,[{provide:zB,useExisting:yoe},{provide:VB,useExisting:n}])}const Bd=!1,HB=new P(Bd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ioe=[vd,{provide:Td,useClass:AE},Cr,Rd,{provide:cc,useFactory:function UB(n){return n.routerState.root},deps:[Cr]},QE,Bd?{provide:eC,useValue:!0}:[]];function Soe(){return new _2("Router",Cr)}let GB=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ioe,Bd&&r?.enableTracing?Coe().\u0275providers:[],{provide:hc,multi:!0,useValue:t},{provide:HB,useFactory:Moe,deps:[[Cr,new zt,new xl]]},{provide:sm,useValue:r||{}},r?.useHash?{provide:ea,useClass:kte}:{provide:ea,useClass:U2},{provide:ZE,useFactory:()=>{const n=oe(Qne),e=oe(pe),t=oe(sm),r=oe(im),i=oe(Td);return t.scrollOffset&&n.setOffset(t.scrollOffset),new BB(i,r,n,e,t)}},r?.preloadingStrategy?Doe(r.preloadingStrategy).\u0275providers:[],{provide:_2,multi:!0,useFactory:Soe},r?.initialNavigation?Ooe(r):[],[{provide:WB,useFactory:$B},{provide:m2,multi:!0,useExisting:WB}]]}}static forChild(t){return{ngModule:n,providers:[{provide:hc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(S(HB,8))},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[zE]}),n})();function Moe(n){if(Bd&&n)throw new x(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ooe(n){return["disabled"===n.initialNavigation?to(3,[{provide:fg,multi:!0,useFactory:()=>{const e=oe(Cr);return()=>{e.setUpLocationChangeListener()}}},{provide:tC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?to(2,[{provide:tC,useValue:0},{provide:fg,multi:!0,deps:[Ht],useFactory:e=>{const t=e.get(Mte,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Cr),s=e.get(jB);(function voe(n,e){n.events.pipe(Pt(t=>t instanceof ia||t instanceof qg||t instanceof PE||t instanceof Kg),se(t=>t instanceof ia||t instanceof Kg?Dr.COMPLETE:t instanceof qg&&(0===t.code||1===t.code)?Dr.REDIRECTING:Dr.FAILED),Pt(t=>t!==Dr.REDIRECTING),ar(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(im).afterPreactivation=()=>(r(!0),s.closed?K(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const WB=new P(Bd?"Router Initializer":"");let Roe=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Mt({type:e,selectors:[["ftapp-notfound"]],decls:4,vars:0,consts:[["mat-card-image","","src","assets/404.png","alt","404"]],template:function(i,s){1&i&&(Oe(0,"div")(1,"h1"),cn(2," The resource you are looking for does not exist! "),je(),Br(3,"img",0),je())}}),n})();function sa(n){return null!=n&&"false"!=`${n}`}function pc(n,e=0){return function Noe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function om(n){return Array.isArray(n)?n:[n]}function qt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function gc(n){return n instanceof Qe?n.nativeElement:n}const Poe=["addListener","removeListener"],Foe=["addEventListener","removeEventListener"],Loe=["on","off"];function am(n,e,t,r){if(Pe(t)&&(r=t,t=void 0),r)return am(n,e,t).pipe(DE(r));const[i,s]=function Uoe(n){return Pe(n.addEventListener)&&Pe(n.removeEventListener)}(n)?Foe.map(o=>a=>n[o](e,a,t)):function Voe(n){return Pe(n.addListener)&&Pe(n.removeListener)}(n)?Poe.map(qB(n,e)):function Boe(n){return Pe(n.on)&&Pe(n.off)}(n)?Loe.map(qB(n,e)):[];if(!i&&Db(n))return an(o=>am(o,e,t))(Hn(n));if(!i)throw new TypeError("Invalid event target");return new Le(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function qB(n,e){return t=>r=>n[t](e,r)}class $oe extends xt{constructor(e,t){super()}schedule(e,t=0){return this}}const lm={setInterval(n,e,...t){const{delegate:r}=lm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=lm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class cm extends $oe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return lm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&lm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,dl(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Ud={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Ud;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new xt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Ud;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ud;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},KB={now:()=>(KB.delegate||Date).now(),delegate:void 0};class $d{constructor(e,t=$d.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}$d.now=KB.now;class um extends $d{constructor(e,t=$d.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Hoe=new class zoe extends um{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class joe extends cm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ud.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Ud.cancelAnimationFrame(t),e._scheduled=void 0)}});let nC,Goe=1;const dm={};function YB(n){return n in dm&&(delete dm[n],!0)}const Woe={setImmediate(n){const e=Goe++;return dm[e]=!0,nC||(nC=Promise.resolve()),nC.then(()=>YB(e)&&n()),e},clearImmediate(n){YB(n)}},{setImmediate:qoe,clearImmediate:Koe}=Woe,hm={setImmediate(...n){const{delegate:e}=hm;return(e?.setImmediate||qoe)(...n)},clearImmediate(n){const{delegate:e}=hm;return(e?.clearImmediate||Koe)(n)},delegate:void 0},Xoe=new class Qoe extends um{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Yoe extends cm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=hm.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(hm.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),fm=new um(cm),Joe=fm;function rC(n,e=fm){return function Zoe(n){return wt((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(ft(t,c=>{r=!0,i=c,s||Hn(n(c)).subscribe(s=ft(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function tae(n=0,e,t=Joe){let r=-1;return null!=e&&(Zk(e)?t=e:r=e),new Le(i=>{let s=function eae(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}function jd(n){return wt((e,t)=>{Hn(n).subscribe(ft(t,()=>t.complete(),fb)),!t.closed&&e.subscribe(t)})}let iC;try{iC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{iC=!1}let zd,gm,oa,sC,Hr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?oV(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!iC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(S(Xo))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pm(n){return function nae(){if(null==zd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zd=!0}))}finally{zd=zd||!1}return zd}()?n:!!n.capture}function XB(){if(null==oa){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return oa=!1,oa;if("scrollBehavior"in document.documentElement.style)oa=!0;else{const n=Element.prototype.scrollTo;oa=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return oa}function Hd(){if("object"!=typeof document||!document)return 0;if(null==gm){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),gm=0,0===n.scrollLeft&&(n.scrollLeft=1,gm=0===n.scrollLeft?1:2),n.remove()}return gm}function oC(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function no(n){return n.composedPath?n.composedPath()[0]:n.target}function aC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const sae=new P("cdk-dir-doc",{providedIn:"root",factory:function oae(){return oe(ge)}}),aae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let aa=(()=>{class n{constructor(t){this.value="ltr",this.change=new ze,t&&(this.value=function lae(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?aae.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(S(sae,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({}),n})();const cae=["contentWrapper"],uae=["*"],dae=new P("VIRTUAL_SCROLL_STRATEGY");let mm=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ie,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Le(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(rC(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):K()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Pt(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=gc(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>am(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(S(pe),S(Hr),S(ge,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JB=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new Ie,this._elementScrolled=new Le(o=>this.ngZone.runOutsideAngular(()=>am(this.elementRef.nativeElement,"scroll").pipe(jd(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Hd()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Hd()?t.left=t.right:1==Hd()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;XB()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?i:r:"end"==t&&(t=o?r:i),o&&2==Hd()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Hd()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(w(Qe),w(mm),w(pe),w(aa,8))},n.\u0275dir=X({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),lC=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ie,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(rC(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(S(Hr),S(pe),S(ge,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZB=new P("VIRTUAL_SCROLLABLE");let pae=(()=>{class n extends JB{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(w(Qe),w(mm),w(pe),w(aa,8))},n.\u0275dir=X({type:n,features:[Ce]}),n})();const mae=typeof requestAnimationFrame<"u"?Hoe:Xoe;let _ae=(()=>{class n extends pae{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=sa(t)}constructor(t,r,i,s,o,a,l,c){super(t,a,i,o),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=c,this._platform=oe(Hr),this._detachedSubject=new Ie,this._renderedRangeSubject=new Ie,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Le(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=xt.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(ta(null),rC(0,mae)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(jd(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function gae(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",o="rtl"==this.dir?.value;r="start"==t?o?s:i:"end"==t?o?i:s:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(w(Qe),w(Ys),w(pe),w(dae,8),w(aa,8),w(mm),w(lC),w(ZB,8))},n.\u0275cmp=Mt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&ug(cae,7),2&t){let i;ls(i=cs())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&Ur("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[qe([{provide:JB,useFactory:(e,t)=>e||t,deps:[[new zt,new xp(ZB)],n]}]),Ce,Ew],ngContentSelectors:uae,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(Ws(),Oe(0,"div",0,1),br(2),je(),Br(3,"div",2)),2&t&&(Lr(3),ad("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),eU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[Gd,eU,_ae,Gd,eU]}),n})();class cC{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class uC extends cC{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class dC extends cC{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class yae extends cC{constructor(e){super(),this.element=e instanceof Qe?e.nativeElement:e}}class hC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof uC?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof dC?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof yae?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class vae extends hC{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ht.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let _m=(()=>{class n extends hC{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new ze,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(w(qo),w(wr),w(ge))},n.\u0275dir=X({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ce]}),n})(),Wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({}),n})();const nU=XB();class bae{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=qt(-this._previousScrollPosition.left),e.style.top=qt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),nU&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),nU&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class wae{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Pt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class rU{enable(){}disable(){}attach(){}}function fC(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function iU(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Eae{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();fC(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Cae=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new rU,this.close=o=>new wae(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new bae(this._viewportRuler,this._document),this.reposition=o=>new Eae(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(S(mm),S(lC),S(pe),S(ge))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sU{constructor(e){if(this.scrollStrategy=new rU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Dae{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let oU=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(S(ge))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iae=(()=>{class n extends oU{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(S(ge),S(pe,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sae=(()=>{class n extends oU{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=no(s)},this._clickListener=s=>{const o=no(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(S(ge),S(Hr),S(pe,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ym=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||aC()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),aC()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(S(ge),S(Hr))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qd{constructor(e,t,r,i,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Ie,this._attachments=new Ie,this._detachments=new Ie,this._locationChanges=xt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Ie,this._outsidePointerEvents=new Ie,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ar(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=qt(this._config.width),e.height=qt(this._config.height),e.minWidth=qt(this._config.minWidth),e.minHeight=qt(this._config.minHeight),e.maxWidth=qt(this._config.maxWidth),e.maxHeight=qt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=om(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(jd(np(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const aU="cdk-overlay-connected-position-bounding-box",Tae=/([A-Za-z%]+)$/;class Aae{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ie,this._resizeSubscription=xt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(aU),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&la(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(aU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=cU(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),m=this._subtractOverflows(s.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=lU(this._overlayRef.getConfig().minHeight),a=lU(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=cU(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Dae(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=qt(r.height),i.top=qt(r.top),i.bottom=qt(r.bottom),i.width=qt(r.width),i.left=qt(r.left),i.right=qt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=qt(s)),o&&(i.maxWidth=qt(o))}this._lastBoundingBoxSize=r,la(this._boundingBox.style,i)}_resetBoundingBoxStyles(){la(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){la(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();la(r,this._getExactOverlayY(t,e,u)),la(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=qt(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=qt(o.maxWidth):s&&(r.maxWidth="")),la(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=qt(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=qt(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:iU(e,r),isOriginOutsideView:fC(e,r),isOverlayClipped:iU(t,r),isOverlayOutsideView:fC(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&om(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Qe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function la(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function lU(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Tae);return t&&"px"!==t?null:parseFloat(e)}return n||null}function cU(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const uU="cdk-global-overlay-wrapper";class xae{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(uU),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";l?m="flex-start":"center"===u?(m="center",h?p=d:f=d):h?"left"===u||"end"===u?(m="flex-end",f=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",f=d):("right"===u||"end"===u)&&(m="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=m,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(uU),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Mae=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new xae}flexibleConnectedTo(t){return new Aae(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(S(lC),S(ge),S(Hr),S(ym))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oae=0,_c=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new sU(t);return o.direction=o.direction||this._directionality.value,new qd(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Oae++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(tc)),new vae(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(S(Cae),S(ym),S(qo),S(Mae),S(Iae),S(Ht),S(pe),S(ge),S(aa),S(vd),S(Sae),S(Jo,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nae={provide:new P("cdk-connected-overlay-scroll-strategy"),deps:[_c],useFactory:function Rae(n){return()=>n.scrollStrategies.reposition()}};let dU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({providers:[_c,Nae],imports:[Gd,Wd,tU,tU]}),n})();function vm(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function fU(n,e=fm){return wt((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(ft(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function pU(n){return Pt((e,t)=>n<=t)}function gU(n,e=Us){return n=n??tle,wt((t,r)=>{let i,s=!0;t.subscribe(ft(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function tle(n,e){return n===e}let nle=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({providers:[nle]}),n})();const mU=new Set;let yc,ile=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ole}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function sle(n){if(!mU.has(n))try{yc||(yc=document.createElement("style"),yc.setAttribute("type","text/css"),document.head.appendChild(yc)),yc.sheet&&(yc.sheet.insertRule(`@media ${n} {body{ }}`,0),mU.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Hr))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ole(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ale=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ie}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return _U(om(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=IE(_U(om(t)).map(o=>this._registerQuery(o).observable));return s=Fg(s.pipe(ar(1)),s.pipe(pU(1),fU(0))),s.pipe(se(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Le(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(ta(r),se(({matches:o})=>({query:t,matches:o})),jd(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(S(ile),S(pe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _U(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class ule{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ie,this._typeaheadSubscription=xt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ie,this.change=new Ie,e instanceof Xl&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ft(t=>this._pressedLetters.push(t)),fU(e),Pt(()=>this._pressedLetters.length>0),se(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,o=r[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((i||vm(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Xl?this._items.toArray():this._items}}class dle extends ule{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let bm=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function fle(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function hle(n){try{return n.frameElement}catch{return null}}(function wle(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===wU(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=wU(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function vle(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function ble(n){return!function gle(n){return function _le(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function ple(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function mle(n){return function yle(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||bU(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(S(Hr))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bU(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function wU(n){if(!bU(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Ele{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ar(1)).subscribe(e)}}let pC=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Ele(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(S(bm),S(pe),S(ge))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EU(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function CU(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Cle=new P("cdk-input-modality-detector-options"),Dle={ignoreKeys:[18,17,224,91,16]},vc=pm({passive:!0,capture:!0});let Ile=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Er(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=no(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(EU(o)?"keyboard":"mouse"),this._mostRecentTarget=no(o))},this._onTouchstart=o=>{CU(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=no(o))},this._options={...Dle,...s},this.modalityDetected=this._modality.pipe(pU(1)),this.modalityChanged=this.modalityDetected.pipe(gU()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,vc),i.addEventListener("mousedown",this._onMousedown,vc),i.addEventListener("touchstart",this._onTouchstart,vc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vc),document.removeEventListener("mousedown",this._onMousedown,vc),document.removeEventListener("touchstart",this._onTouchstart,vc))}}return n.\u0275fac=function(t){return new(t||n)(S(Hr),S(pe),S(ge),S(Cle,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tle=new P("cdk-focus-monitor-default-options"),wm=pm({passive:!0,capture:!0});let Em=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ie,this._rootNodeFocusAndBlurListener=a=>{for(let c=no(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=gc(t);if(!this._platform.isBrowser||1!==i.nodeType)return K(null);const s=function iae(n){if(function rae(){if(null==sC){const n=typeof document<"u"?document.head:null;sC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sC}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Ie,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=gc(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=gc(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=no(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,wm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,wm)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(jd(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(S(pe),S(Hr),S(Ile),S(ge,8),S(Tle,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IU="cdk-high-contrast-black-on-white",SU="cdk-high-contrast-white-on-black",gC="cdk-high-contrast-active";let TU=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=oe(ale).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gC,IU,SU),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(gC,IU):2===r&&t.add(gC,SU)}}}return n.\u0275fac=function(t){return new(t||n)(S(Hr),S(ge))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ale=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(S(TU))},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[rle]}),n})();function xle(n,e){}class Cm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let AU=(()=>{class n extends hC{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=o,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=i}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=oC(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=oC();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=oC())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(w(Qe),w(pC),w(ge,8),w(Cm),w(bm),w(pe),w(qd),w(Em))},n.\u0275cmp=Mt({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,r){if(1&t&&ug(_m,7),2&t){let i;ls(i=cs())&&(r._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,r){2&t&&bn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[Ce],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&Gs(0,xle,0,0,"ng-template",0)},dependencies:[_m],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class mC{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ie,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!vm(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const xU=new P("DialogScrollStrategy"),Mle=new P("DialogData"),Ole=new P("DefaultDialogConfig"),Rle={provide:xU,deps:[_c],useFactory:function kle(n){return()=>n.scrollStrategies.block()}};let Nle=0,MU=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,s,o,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ie,this._afterOpenedAtThisLevel=new Ie,this._ariaHiddenElements=new Map,this.afterAllClosed=Lg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ta(void 0))),this._scrollStrategy=a}open(t,r){(r={...this._defaultOptions||new Cm,...r}).id=r.id||"cdk-dialog-"+Nle++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),o=this._overlay.create(s),a=new mC(o,r),l=this._attachContainer(o,a,r);return a.containerInstance=l,this._attachDialogContent(t,a,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){_C(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){_C(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),_C(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new sU({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const s=i.injector||i.viewContainerRef?.injector,o=[{provide:Cm,useValue:i},{provide:mC,useValue:r},{provide:qd,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,o.push(...i.container.providers(i))):a=AU;const l=new uC(a,i.viewContainerRef,Ht.create({parent:s||this._injector,providers:o}),i.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,r,i,s){if(t instanceof oi){const o=this._createInjector(s,r,i,void 0);let a={$implicit:s.data,dialogRef:r};s.templateContext&&(a={...a,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new dC(t,null,a,o))}else{const o=this._createInjector(s,r,i,this._injector),a=i.attachComponentPortal(new uC(t,s.viewContainerRef,o,s.componentFactoryResolver));r.componentInstance=a.instance}}_createInjector(t,r,i,s){const o=t.injector||t.viewContainerRef?.injector,a=[{provide:Mle,useValue:t.data},{provide:mC,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!o||!o.get(aa,null,{optional:!0}))&&a.push({provide:aa,useValue:{value:t.direction,change:K()}}),Ht.create({parent:o||s,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,o)=>{s?o.setAttribute("aria-hidden",s):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(S(_c),S(Ht),S(Ole,8),S(n,12),S(ym),S(xU))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function _C(n,e){let t=n.length;for(;t--;)e(n[t])}let Ple=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({providers:[MU,Rle],imports:[dU,Wd,Ale,Wd]}),n})();const Lle=new P("mat-sanity-checks",{providedIn:"root",factory:function Fle(){return!0}});let ui=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!aC()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(S(TU),S(Lle,8),S(ge))},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[Gd,Gd]}),n})();function RU(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function Vle(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?pc(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}let NU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[ui,ui]}),n})();class Ule{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const PU=pm({passive:!0,capture:!0});class $le{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=no(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,PU)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,PU)))}}const FU={enterDuration:225,exitDuration:150},LU=pm({passive:!0,capture:!0}),VU=["mousedown","touchstart"],BU=["mouseup","mouseleave","touchend","touchcancel"];class Dm{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=gc(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...FU,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function zle(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,m=new Ule(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _=()=>this._finishRippleTransition(m),b=()=>this._destroyRipple(m);u.addEventListener("transitionend",_),u.addEventListener("transitioncancel",b),g={onTransitionEnd:_,onTransitionCancel:b}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...FU,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=gc(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,VU.forEach(r=>{Dm._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{BU.forEach(t=>{this._triggerElement.addEventListener(t,this,LU)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=EU(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!CU(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(VU.forEach(t=>Dm._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&BU.forEach(t=>e.removeEventListener(t,this,LU)))}}Dm._eventManager=new $le;class UU{}class Hle{}const gs="*";function yC(n,e){return{type:7,name:n,definitions:e,options:{}}}function Im(n,e=null){return{type:4,styles:e,timings:n}}function jU(n,e=null){return{type:2,steps:n,options:e}}function ki(n){return{type:6,styles:n,offset:null}}function bc(n,e,t){return{type:0,name:n,styles:e,options:t}}function Sm(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function GU(n){Promise.resolve().then(n)}class Yd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){GU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class WU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?GU(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const vC="!";function Gle(n,e){}class Tm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const bC="mdc-dialog--open",qU="mdc-dialog--opening",KU="mdc-dialog--closing";let Kle=(()=>{class n extends AU{constructor(t,r,i,s,o,a,l,c){super(t,r,i,s,o,a,l,c),this._animationStateChanged=new ze}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(w(Qe),w(pC),w(ge,8),w(Tm),w(bm),w(pe),w(qd),w(Em))},n.\u0275cmp=Mt({type:n,selectors:[["ng-component"]],features:[Ce],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();const YU="--mat-dialog-transition-duration";function QU(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?pc(n.substring(0,n.length-2)):n.endsWith("s")?1e3*pc(n.substring(0,n.length-1)):"0"===n?0:null}let Yle=(()=>{class n extends Kle{constructor(t,r,i,s,o,a,l,c,u){super(t,r,i,s,o,a,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?QU(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?QU(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(YU,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(qU,bC)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(bC),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(bC),this._animationsEnabled?(this._hostElement.style.setProperty(YU,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(KU)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(qU,KU)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}}return n.\u0275fac=function(t){return new(t||n)(w(Qe),w(pC),w(ge,8),w(Tm),w(bm),w(pe),w(qd),w(Jo,8),w(Em))},n.\u0275cmp=Mt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(t,r){2&t&&(rg("id",r._config.id),bn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ur("_mat-animation-noopable",!r._animationsEnabled))},features:[Ce],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(Oe(0,"div",0)(1,"div",1),Gs(2,Gle,0,0,"ng-template",2),je()())},dependencies:[_m],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Am{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Ie,this._beforeClosed=new Ie,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(Pt(i=>"opened"===i.state),ar(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Pt(i=>"closed"===i.state),ar(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),np(this.backdropClick(),this.keydownEvents().pipe(Pt(i=>27===i.keyCode&&!this.disableClose&&!vm(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function Qle(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Pt(t=>"closing"===t.state),ar(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Xle=new P("MatMdcDialogData"),Jle=new P("mat-mdc-dialog-default-options"),XU=new P("mat-mdc-dialog-scroll-strategy"),ece={provide:XU,deps:[_c],useFactory:function Zle(n){return()=>n.scrollStrategies.block()}};let tce=0,nce=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ie,this._afterOpenedAtThisLevel=new Ie,this._idPrefix="mat-dialog-",this.dialogConfigClass=Tm,this.afterAllClosed=Lg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ta(void 0))),this._scrollStrategy=a,this._dialog=r.get(MU)}open(t,r){let i;(r={...this._defaultOptions||new Tm,...r}).id=r.id||`${this._idPrefix}${tce++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Cm,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(o,a,l)=>(i=new this._dialogRefConstructor(o,r,l),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){W0()},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),wC=(()=>{class n extends nce{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,Am,Yle,Xle,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(t){return new(t||n)(S(_c),S(Ht),S(vd,8),S(Jle,8),S(XU),S(n,12),S(ym),S(Jo,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),rce=0,JU=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-mdc-dialog-title-"+rce++}ngOnInit(){this._dialogRef||(this._dialogRef=function ice(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(w(Am,8),w(Qe),w(wC))},n.\u0275dir=X({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,r){2&t&&rg("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),ZU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),sce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({providers:[wC,ece],imports:[Ple,dU,Wd,ui,ui]}),n})();function EC(...n){const e=eR(n),{args:t,keys:r}=PV(n),i=new Le(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Hn(t[u]).subscribe(ft(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?FV(r,a):a),s.complete())}))}});return e?i.pipe(DE(e)):i}class xm{}class CC{}class ms{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ms?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ms;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ms?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class oce{encodeKey(e){return t$(e)}encodeValue(e){return t$(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const lce=/%(\d[a-f0-9])/gi,cce={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function t$(n){return encodeURIComponent(n).replace(lce,(e,t)=>cce[t]??e)}function Mm(n){return`${n}`}class ro{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new oce,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ace(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Mm):[Mm(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ro({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Mm(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Mm(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class uce{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function n$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function r$(n){return typeof Blob<"u"&&n instanceof Blob}function i$(n){return typeof FormData<"u"&&n instanceof FormData}class Qd{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function dce(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ms),this.context||(this.context=new uce),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new ro,this.urlWithParams=t}serializeBody(){return null===this.body?null:n$(this.body)||r$(this.body)||i$(this.body)||function hce(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ro?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||i$(this.body)?null:r$(this.body)?this.body.type||null:n$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ro?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Qd(t,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var Kt=(()=>((Kt=Kt||{})[Kt.Sent=0]="Sent",Kt[Kt.UploadProgress=1]="UploadProgress",Kt[Kt.ResponseHeader=2]="ResponseHeader",Kt[Kt.DownloadProgress=3]="DownloadProgress",Kt[Kt.Response=4]="Response",Kt[Kt.User=5]="User",Kt))();class DC{constructor(e,t=200,r="OK"){this.headers=e.headers||new ms,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class IC extends DC{constructor(e={}){super(e),this.type=Kt.ResponseHeader}clone(e={}){return new IC({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Om extends DC{constructor(e={}){super(e),this.type=Kt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Om({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class s$ extends DC{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function SC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let TC=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Qd)s=t;else{let l,c;l=i.headers instanceof ms?i.headers:new ms(i.headers),i.params&&(c=i.params instanceof ro?i.params:new ro({fromObject:i.params})),s=new Qd(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=K(s).pipe(Js(l=>this.handler.handle(l)));if(t instanceof Qd||"events"===i.observe)return o;const a=o.pipe(Pt(l=>l instanceof Om));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(se(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(se(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(se(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(se(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ro).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,SC(i,r))}post(t,r,i={}){return this.request("POST",t,SC(i,r))}put(t,r,i={}){return this.request("PUT",t,SC(i,r))}}return n.\u0275fac=function(t){return new(t||n)(S(xm))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function o$(n,e){return e(n)}function fce(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const gce=new P("HTTP_INTERCEPTORS"),Xd=new P("HTTP_INTERCEPTOR_FNS");function mce(){let n=null;return(e,t)=>(null===n&&(n=(oe(gce,{optional:!0})??[]).reduceRight(fce,o$)),n(e,t))}let a$=(()=>{class n extends xm{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Xd)));this.chain=r.reduceRight((i,s)=>function pce(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),o$)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(S(CC),S(Ei))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const bce=/^\)\]\}',?\n/;let c$=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Le(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new ms(i.getAllResponseHeaders()),m=function wce(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new IC({headers:p,status:i.status,statusText:f,url:m}),o},l=()=>{let{headers:f,status:p,statusText:m,url:g}=a(),_=null;204!==p&&(_=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=_?200:0);let b=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof _){const y=_;_=_.replace(bce,"");try{_=""!==_?JSON.parse(_):null}catch(D){_=y,b&&(b=!1,_={error:D,text:_})}}b?(r.next(new Om({body:_,headers:f,status:p,statusText:m,url:g||void 0})),r.complete()):r.error(new s$({error:_,headers:f,status:p,statusText:m,url:g||void 0}))},c=f=>{const{url:p}=a(),m=new s$({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:Kt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:Kt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:Kt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(S(lV))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const AC=new P("XSRF_ENABLED"),u$=new P("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),d$=new P("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class h${}let Dce=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Q2(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(S(ge),S(Xo),S(u$))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function Ice(n,e){const t=n.url.toLowerCase();if(!oe(AC)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=oe(h$).getToken(),i=oe(d$);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Lt=(()=>((Lt=Lt||{})[Lt.Interceptors=0]="Interceptors",Lt[Lt.LegacyInterceptors=1]="LegacyInterceptors",Lt[Lt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Lt[Lt.NoXsrfProtection=3]="NoXsrfProtection",Lt[Lt.JsonpSupport=4]="JsonpSupport",Lt[Lt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Lt))();function wc(n,e){return{\u0275kind:n,\u0275providers:e}}function Sce(...n){const e=[TC,c$,a$,{provide:xm,useExisting:a$},{provide:CC,useExisting:c$},{provide:Xd,useValue:Ice,multi:!0},{provide:AC,useValue:!0},{provide:h$,useClass:Dce}];for(const t of n)e.push(...t.\u0275providers);return function qY(n){return{\u0275providers:n}}(e)}const f$=new P("LEGACY_INTERCEPTOR_FN");let Ace=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({providers:[Sce(wc(Lt.LegacyInterceptors,[{provide:f$,useFactory:mce},{provide:Xd,useExisting:f$,multi:!0}]))]}),n})();const xce=["*"];let km;function Jd(n){return function Mce(){if(void 0===km&&(km=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(km=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return km}()?.createHTML(n)||n}function p$(n){return Error(`Unable to find icon with the name "${n}"`)}function g$(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function m$(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ca{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let Rm=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new ca(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize($e.HTML,i);if(!o)throw m$(i);const a=Jd(o);return this._addSvgIconConfig(t,r,new ca("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new ca(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize($e.HTML,r);if(!s)throw m$(r);const o=Jd(s);return this._addSvgIconSetConfig(t,new ca("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize($e.RESOURCE_URL,t);if(!r)throw g$(t);const i=this._cachedIconsByUrl.get(r);return i?K(Nm(i)):this._loadSvgIconFromConfig(new ca(t,null)).pipe(Ft(s=>this._cachedIconsByUrl.set(r,s)),se(s=>Nm(s)))}getNamedSvgIcon(t,r=""){const i=_$(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):rc(p$(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?K(Nm(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(se(r=>Nm(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?K(i):EC(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(xi(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize($e.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),K(null)})))).pipe(se(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw p$(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ft(r=>t.svgText=r),se(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?K(null):this._fetchIcon(t).pipe(Ft(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString(Jd("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Jd("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function Oce(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const o=this._sanitizer.sanitize($e.RESOURCE_URL,r);if(!o)throw g$(r);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(se(c=>Jd(c)),Bg(()=>this._inProgressUrlFetches.delete(o)),nR());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(_$(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return Rce(s)?new ca(s.url,null,s.options):new ca(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(S(TC,8),S(CE),S(ge,8),S(ss))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nm(n){return n.cloneNode(!0)}function _$(n,e){return n+":"+e}function Rce(n){return!(!n.url||!n.options)}const Nce=RU(class{constructor(n){this._elementRef=n}}),Pce=new P("MAT_ICON_DEFAULT_OPTIONS"),Fce=new P("mat-icon-location",{providedIn:"root",factory:function Lce(){const n=oe(ge),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),y$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Vce=y$.map(n=>`[${n}]`).join(", "),Bce=/^url\(['"]?#(.*?)['"]?\)$/;let xC=(()=>{class n extends Nce{get inline(){return this._inline}set inline(t){this._inline=sa(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,s,o,a){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=xt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Vce),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)y$.forEach(o=>{const a=r[s],l=a.getAttribute(o),c=l?l.match(Bce):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(ar(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(w(Qe),w(Rm),Cl("aria-hidden"),w(Fce),w(ss),w(Pce,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(bn("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ur("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ce],ngContentSelectors:xce,decls:1,vars:0,template:function(t,r){1&t&&(Ws(),br(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Uce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[ui,ui]}),n})(),v$=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(w(is),w(Qe))},n.\u0275dir=X({type:n}),n})(),ua=(()=>{class n extends v${}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ln(n)))(r||n)}}(),n.\u0275dir=X({type:n,features:[Ce]}),n})();const Ri=new P("NgValueAccessor"),jce={provide:Ri,useExisting:it(()=>Pm),multi:!0},Hce=new P("CompositionEventMode");let Pm=(()=>{class n extends v${constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zce(){const n=ds()?ds().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(w(is),w(Qe),w(Hce,8))},n.\u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&kt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[qe([jce]),Ce]}),n})();const Gce=!1;const Nn=new P("NgValidators"),so=new P("NgAsyncValidators");function D$(n){return function io(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Fm(n){return null}function M$(n){return null!=n}function O$(n){const e=sd(n)?jt(n):n;if(Gce&&!lw(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new x(-1101,t)}return e}function k$(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function R$(n,e){return e.map(t=>t(n))}function N$(n){return n.map(e=>function qce(n){return!n.validate}(e)?e:t=>e.validate(t))}function MC(n){return null!=n?function P$(n){if(!n)return null;const e=n.filter(M$);return 0==e.length?null:function(t){return k$(R$(t,e))}}(N$(n)):null}function OC(n){return null!=n?function F$(n){if(!n)return null;const e=n.filter(M$);return 0==e.length?null:function(t){return EC(R$(t,e).map(O$)).pipe(se(k$))}}(N$(n)):null}function L$(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kC(n){return n?Array.isArray(n)?n:[n]:[]}function Lm(n,e){return Array.isArray(n)?n.includes(e):n===e}function U$(n,e){const t=kC(e);return kC(n).forEach(i=>{Lm(t,i)||t.push(i)}),t}function $$(n,e){return kC(e).filter(t=>!Lm(n,t))}class j${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=OC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Xn extends j${get formDirective(){return null}get path(){return null}}class oo extends j${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class z${constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let H$=(()=>{class n extends z${constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(oo,2))},n.\u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ur("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ce]}),n})(),G$=(()=>{class n extends z${constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Xn,10))},n.\u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Ur("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ce]}),n})();function W$(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const PC=!1,Zd="VALID",Bm="INVALID",Ec="PENDING",eh="DISABLED";function FC(n){return(Um(n)?n.validators:n)||null}function LC(n,e){return(Um(e)?e.asyncValidators:n)||null}function Um(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Y${constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zd}get invalid(){return this.status===Bm}get pending(){return this.status==Ec}get disabled(){return this.status===eh}get enabled(){return this.status!==eh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(U$(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(U$(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($$(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($$(e,this._rawAsyncValidators))}hasValidator(e){return Lm(this._rawValidators,e)}hasAsyncValidator(e){return Lm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ec,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zd||this.status===Ec)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?eh:Zd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ec,this._hasOwnPendingAsyncValidator=!0;const t=O$(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?eh:this.errors?Bm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ec)?Ec:this._anyControlsHaveStatus(Bm)?Bm:Zd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Um(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function eue(n){return Array.isArray(n)?MC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function tue(n){return Array.isArray(n)?OC(n):n||null}(this._rawAsyncValidators)}}class VC extends Y${constructor(e,t,r){super(FC(t),LC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function K$(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new x(1002,PC?function Zce(n,e){return`Must supply a value for form control ${W$(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function q$(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,PC?function Xce(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new x(1001,PC?function Jce(n,e){return`Cannot find form control ${W$(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Cc=new P("CallSetDisabledState",{providedIn:"root",factory:()=>$m}),$m="always";function th(n,e,t=$m){BC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function iue(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Q$(n,e)})}(n,e),function oue(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function sue(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Q$(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function rue(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Hm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function BC(n,e){const t=function V$(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(L$(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function B$(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(L$(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Hm(e._rawValidators,i),Hm(e._rawAsyncValidators,i)}function Q$(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const due={provide:Xn,useExisting:it(()=>Wm)},nh=(()=>Promise.resolve())();let Wm=(()=>{class n extends Xn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ze,this.form=new VC({},MC(t),OC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){nh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),th(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){nh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){nh.then(()=>{const r=this._findContainer(t.path),i=new VC({});(function X$(n,e){BC(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){nh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){nh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function J$(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(w(Nn,10),w(so,10),w(Cc,8))},n.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&kt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([due]),Ce]}),n})();function Z$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ej(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const tj=class extends Y${constructor(e=null,t,r){super(FC(t),LC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Um(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ej(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Z$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Z$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ej(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pue={provide:oo,useExisting:it(()=>zC)},ij=(()=>Promise.resolve())();let zC=(()=>{class n extends oo{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new tj,this._registered=!1,this.update=new ze,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function jC(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Pm?t=s:function cue(n){return Object.getPrototypeOf(n.constructor)===ua}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function $C(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){th(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ij.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&nc(r);ij.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function jm(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(w(Xn,9),w(Nn,10),w(so,10),w(Ri,10),w(Ys,8),w(Cc,8))},n.\u0275dir=X({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qe([pue]),Ce,Wn]}),n})(),sj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),aj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({}),n})(),da=(()=>{class n{constructor(){this._validator=Fm}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Fm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,features:[Wn]}),n})();const kue={provide:Nn,useExisting:it(()=>qm),multi:!0};let qm=(()=>{class n extends da{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=nc,this.createValidator=t=>D$}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ln(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&bn("required",r._enabled?"":null)},inputs:{required:"required"},features:[qe([kue]),Ce]}),n})(),Vue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[aj]}),n})(),Uue=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Cc,useValue:t.callSetDisabledState??$m}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[Vue]}),n})(),$ue=(()=>{const e=class{onSubmit(r){const i=r.value.password;console.log(i),i===this.password?(console.log("Privileges granted"),this.canEdit=!0,r.reset(),this.dialogRef.close(this.canEdit)):console.log("Incorrect password"),r.reset()}constructor(r){this.password="test",this.canEdit=!1,this.dialogRef=r,this.canEdit=!1}ngOnInit(){}onCloseClick(){this.dialogRef.close()}};let n=e;return e.\u0275fac=function(i){return new(i||e)(w(Am))},e.\u0275cmp=Mt({type:e,selectors:[["ftapp-logindialog"]],decls:13,vars:0,consts:[[1,"dialog-header"],["mat-dialog-title",""],[1,"close-icon",3,"click"],[3,"ngSubmit"],["myForm","ngForm"],["type","password","id","password","name","password","ngModel","","required",""],["type","submit",1,"btn","btn-primary"]],template:function(i,s){if(1&i){const o=id();Oe(0,"div",0)(1,"h2",1),cn(2,"Admin mode required"),je(),Oe(3,"mat-icon",2),kt("click",function(){return s.onCloseClick()}),cn(4,"close"),je()(),Oe(5,"mat-dialog-content")(6,"p"),cn(7,"Please enter the password!"),je(),Oe(8,"form",3,4),kt("ngSubmit",function(){Vu(o);const l=function tF(n){return function vl(n,e){return n[e]}(function K9(){return de.lFrame.contextLView}(),lt+n)}(9);return Bu(s.onSubmit(l))}),Br(10,"input",5),Oe(11,"button",6),cn(12,"Submit"),je()()()}},dependencies:[JU,ZU,xC,sj,Pm,H$,G$,qm,zC,Wm],styles:[".mat-mdc-dialog-surface{--mdc-dialog-container-color: white;color:#000;border-radius:8px;padding:24px;position:relative}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;position:relative}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:400;margin-right:16px}.close-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;color:#000;position:absolute;top:10px;right:10px;width:36px;height:36px;display:flex;justify-content:center;align-items:center;background:white;border-radius:50%;box-shadow:0 2px 5px #0003}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.password-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.password-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px}.password-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}  mat-dialog-content p{color:#333}"]}),n})(),jue=(()=>{const e=class{constructor(r){this.dialogRef=r}ngOnInit(){}onCloseClick(){this.dialogRef.close()}};let n=e;return e.\u0275fac=function(i){return new(i||e)(w(Am))},e.\u0275cmp=Mt({type:e,selectors:[["ftapp-infodialog"]],decls:10,vars:0,consts:[[1,"dialog-header"],["mat-dialog-title",""],[1,"close-icon",3,"click"],["href","https://helpful-sprite-4ff97a.netlify.app"]],template:function(i,s){1&i&&(Oe(0,"div",0)(1,"h2",1),cn(2,"Website information"),je(),Oe(3,"mat-icon",2),kt("click",function(){return s.onCloseClick()}),cn(4,"close"),je()(),Oe(5,"mat-dialog-content")(6,"p"),cn(7,"This website was created by Boros Titusz, 2024.08.07"),je(),Oe(8,"a",3),cn(9,"Contact me here"),je()())},dependencies:[JU,ZU,xC],styles:[".mat-mdc-dialog-surface{--mdc-dialog-container-color: white;color:#000;border-radius:8px;padding:24px;position:relative}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;position:relative}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:400;margin-right:16px}.close-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;color:#000;position:absolute;top:10px;right:10px;width:36px;height:36px;display:flex;justify-content:center;align-items:center;background:white;border-radius:50%;box-shadow:0 2px 5px #0003}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-dialog-actions[_ngcontent-%COMP%]{display:none}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}"]}),n})(),zue=(()=>{const e=class{constructor(){this.canEditSubject=new Er(!1),this.canEdit$=this.canEditSubject.asObservable()}setCanEdit(r){this.canEditSubject.next(r)}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const Hue=["*",[["mat-toolbar-row"]]],Gue=["*","mat-toolbar-row"],Wue=RU(class{constructor(n){this._elementRef=n}});let que=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Kue=(()=>{class n extends Wue{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(w(Qe),w(Hr),w(ge))},n.\u0275cmp=Mt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&Jl(i,que,5),2&t){let s;ls(s=cs())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Ur("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Ce],ngContentSelectors:Gue,decls:2,vars:0,template:function(t,r){1&t&&(Ws(Hue),br(0),br(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Yue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[ui,ui]}),n})();function Que(n,e){if(1&n){const t=id();Oe(0,"button",4),kt("click",function(){return Vu(t),Bu(od().openLoginDialog())}),Oe(1,"mat-icon"),cn(2,"edit"),je()()}}function Xue(n,e){if(1&n){const t=id();Oe(0,"button",4),kt("click",function(){return Vu(t),Bu(od().saveData())}),Oe(1,"mat-icon"),cn(2,"check"),je()()}}let Jue=(()=>{const e=class{constructor(r,i){this.dialog=r,this.editModeService=i,this.canEdit=!1}ngOnInit(){}saveData(){this.canEdit=!1,this.editModeService.setCanEdit(!1)}openLoginDialog(){this.dialog.open($ue).afterClosed().subscribe(i=>{this.canEdit=!0===i,this.editModeService.setCanEdit(this.canEdit),console.log("The dialog was closed"),console.log("canEdit:",this.canEdit)})}openInfoDialog(){this.dialog.open(jue).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}};let n=e;return e.\u0275fac=function(i){return new(i||e)(w(wC),w(zue))},e.\u0275cmp=Mt({type:e,selectors:[["ftapp-header"]],decls:9,vars:2,consts:[[1,"top-toolbar"],[1,"example-spacer"],["mat-icon-button","","class","edit-icon","aria-label","Edit icon",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Info icon",1,"info-icon",3,"click"],["mat-icon-button","","aria-label","Edit icon",1,"edit-icon",3,"click"]],template:function(i,s){1&i&&(Oe(0,"mat-toolbar",0)(1,"span"),cn(2,"Family Tree App"),je(),Br(3,"span",1),Gs(4,Que,3,0,"button",2),Gs(5,Xue,3,0,"button",2),Oe(6,"button",3),kt("click",function(){return s.openInfoDialog()}),Oe(7,"mat-icon"),cn(8,"info"),je()()()),2&i&&(Lr(4),ri("ngIf",!s.canEdit),Lr(1),ri("ngIf",s.canEdit))},dependencies:[lE,xC,Kue],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.top-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#cfcdcd;color:#000;z-index:1000}"]}),n})();function Ij(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function v(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){Ij(s,r,i,o,a,"next",l)}function a(l){Ij(s,r,i,o,a,"throw",l)}o(void 0)})}}const Sj=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Tj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Sj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new nde;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nde extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Km=function(n){return function(n){const e=Sj(n);return Tj.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Ym=function(n){try{return Tj.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Qm=()=>{try{return function sde(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ym(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},xj=n=>{var e,t;return null===(t=null===(e=Qm())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},cde=n=>{const e=xj(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Mj=()=>{var n;return null===(n=Qm())||void 0===n?void 0:n.config},Oj=n=>{var e;return null===(e=Qm())||void 0===e?void 0:e[`_${n}`]};class kj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function un(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class _s extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rh.prototype.create)}}class rh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function vde(n,e){return n.replace(bde,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new _s(i,`${this.serviceName}: ${o} (${i}).`,r)}}const bde=/\{\$([^}]+)}/g;function Jm(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Nj(s)&&Nj(o)){if(!Jm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Nj(n){return null!==n&&"object"==typeof n}function Zm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Cde{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Dde(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=QC),void 0===i.error&&(i.error=QC),void 0===i.complete&&(i.complete=QC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QC(){}function ha(n){return n&&n._delegate?n._delegate:n}class fa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pa="[DEFAULT]";class Mde{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new kj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function kde(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===pa?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rde{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mde(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const JC=[];var ke=(()=>{return(n=ke||(ke={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",ke;var n})();const Pj={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Nde=ke.INFO,Pde={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Fde=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Pde[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class ZC{constructor(e){this.name=e,this._logLevel=Nde,this._logHandler=Fde,this._userLogHandler=null,JC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Pj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Lde=(n,e)=>e.some(t=>n instanceof t);let Fj,Lj;const Vj=new WeakMap,eD=new WeakMap,Bj=new WeakMap,tD=new WeakMap,nD=new WeakMap;let rD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return eD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Bj.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ao(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Hde(n){return"function"==typeof n?function zde(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Bde(){return Lj||(Lj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(iD(this),e),ao(Vj.get(this))}:function(...e){return ao(n.apply(iD(this),e))}:function(e,...t){const r=n.call(iD(this),e,...t);return Bj.set(r,e.sort?e.sort():[e]),ao(r)}}(n):(n instanceof IDBTransaction&&function $de(n){if(eD.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});eD.set(n,e)}(n),Lde(n,function Vde(){return Fj||(Fj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,rD):n)}function ao(n){if(n instanceof IDBRequest)return function Ude(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ao(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Vj.set(t,n)}).catch(()=>{}),nD.set(e,n),e}(n);if(tD.has(n))return tD.get(n);const e=Hde(n);return e!==n&&(tD.set(n,e),nD.set(e,n)),e}const iD=n=>nD.get(n);function Uj(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ao(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ao(o.result),l.oldVersion,l.newVersion,ao(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Gde=["get","getKey","getAll","getAllKeys","count"],Wde=["put","add","delete","clear"],sD=new Map;function $j(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(sD.get(e))return sD.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Wde.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Gde.includes(t))return;const s=function(){var o=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return sD.set(e,s),s}!function jde(n){rD=n(rD)}(n=>({...n,get:(e,t,r)=>$j(e,t)||n.get(e,t,r),has:(e,t)=>!!$j(e,t)||n.has(e,t)}));class qde{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Kde(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const oD="@firebase/app",ga=new ZC("@firebase/app"),e_="[DEFAULT]",bhe={[oD]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ma=new Map,t_=new Map;function whe(n,e){try{n.container.addComponent(e)}catch(t){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dc(n){const e=n.name;if(t_.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;t_.set(e,n);for(const t of ma.values())whe(t,n);return!0}function n_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const ys=new rh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Che{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}const Ic="9.23.0";function zj(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:e_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ys.create("bad-app-name",{appName:String(i)});if(t||(t=Mj()),!t)throw ys.create("no-options");const s=ma.get(i);if(s){if(Jm(t,s.options)&&Jm(r,s.config))return s;throw ys.create("duplicate-app",{appName:i})}const o=new Rde(i);for(const l of t_.values())o.addComponent(l);const a=new Che(t,r,o);return ma.set(i,a),a}function aD(n=e_){const e=ma.get(n);if(!e&&n===e_&&Mj())return zj();if(!e)throw ys.create("no-app",{appName:n});return e}function Hj(){return Array.from(ma.values())}function Ir(n,e,t){var r;let i=null!==(r=bhe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ga.warn(a.join(" "))}Dc(new fa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Dhe="firebase-heartbeat-database",Ihe=1,ih="firebase-heartbeat-store";let cD=null;function Gj(){return cD||(cD=Uj(Dhe,Ihe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ih)}}).catch(n=>{throw ys.create("idb-open",{originalErrorMessage:n.message})})),cD}function uD(){return(uD=v(function*(n){try{return yield(yield Gj()).transaction(ih).objectStore(ih).get(qj(n))}catch(e){if(e instanceof _s)ga.warn(e.message);else{const t=ys.create("idb-get",{originalErrorMessage:e?.message});ga.warn(t.message)}}})).apply(this,arguments)}function Wj(n,e){return dD.apply(this,arguments)}function dD(){return(dD=v(function*(n,e){try{const r=(yield Gj()).transaction(ih,"readwrite");yield r.objectStore(ih).put(e,qj(n)),yield r.done}catch(t){if(t instanceof _s)ga.warn(t.message);else{const r=ys.create("idb-set",{originalErrorMessage:t?.message});ga.warn(r.message)}}})).apply(this,arguments)}function qj(n){return`${n.name}!${n.options.appId}`}class xhe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ohe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Kj();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=Kj(),{heartbeatsToSend:r,unsentEntries:i}=function Mhe(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Yj(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Yj(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Km(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Kj(){return(new Date).toISOString().substring(0,10)}class Ohe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!function mde(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function _de(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function She(n){return uD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Wj(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Wj(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Yj(n){return Km(JSON.stringify({version:2,heartbeats:n})).length}!function khe(n){Dc(new fa("platform-logger",e=>new qde(e),"PRIVATE")),Dc(new fa("heartbeat",e=>new xhe(e),"PRIVATE")),Ir(oD,"0.9.13",n),Ir(oD,"0.9.13","esm2017"),Ir("fire-js","")}(""),Ir("firebase","9.23.0","app");const Qj=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Xj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Qj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Vhe;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Vhe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r_=function(n){return function(n){const e=Qj(n);return Xj.encodeByteArray(e,!0)}(n).replace(/\./g,"")};class sh extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,sh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zj.prototype.create)}}class Zj{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Jhe(n,e){return n.replace(Zhe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new sh(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Zhe=/\{\$([^}]+)}/g;class mD{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _D=[];var Ze=(()=>{return(n=Ze||(Ze={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ze;var n})();const nz={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},dfe=Ze.INFO,hfe={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},ffe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=hfe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class gfe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function mfe(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const a_="@firebase/app",yD="0.10.13",vs=new class pfe{constructor(e){this.name=e,this._logLevel=dfe,this._logHandler=ffe,this._userLogHandler=null,_D.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?nz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}("@firebase/app"),Hfe={[a_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ya=new Map,oh=new Map,ah=new Map;function rz(n,e){try{n.container.addComponent(e)}catch(t){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Gr(n){const e=n.name;if(ah.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;ah.set(e,n);for(const t of ya.values())rz(t,n);for(const t of oh.values())rz(t,n);return!0}function vD(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Wr=new Zj("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});function Sr(n,e,t){var r;let i=null!==(r=Hfe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void vs.warn(a.join(" "))}Gr(new mD(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Jfe="firebase-heartbeat-database",Zfe=1,lh="firebase-heartbeat-store";let wD=null;function iz(){return wD||(wD=Uj(Jfe,Zfe,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(lh)}catch(t){console.warn(t)}}}).catch(n=>{throw Wr.create("idb-open",{originalErrorMessage:n.message})})),wD}function ED(){return(ED=v(function*(n){try{const t=(yield iz()).transaction(lh),r=yield t.objectStore(lh).get(oz(n));return yield t.done,r}catch(e){if(e instanceof sh)vs.warn(e.message);else{const t=Wr.create("idb-get",{originalErrorMessage:e?.message});vs.warn(t.message)}}})).apply(this,arguments)}function sz(n,e){return CD.apply(this,arguments)}function CD(){return(CD=v(function*(n,e){try{const r=(yield iz()).transaction(lh,"readwrite");yield r.objectStore(lh).put(e,oz(n)),yield r.done}catch(t){if(t instanceof sh)vs.warn(t.message);else{const r=Wr.create("idb-set",{originalErrorMessage:t?.message});vs.warn(r.message)}}})).apply(this,arguments)}function oz(n){return`${n.name}!${n.options.appId}`}class rpe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new spe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){var t,r;try{const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=az();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===o||e._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){vs.warn(i)}})()}getHeartbeatsHeader(){var e=this;return v(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=az(),{heartbeatsToSend:i,unsentEntries:s}=function ipe(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lz(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lz(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=r_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o}catch(r){return vs.warn(r),""}})()}}function az(){return(new Date).toISOString().substring(0,10)}class spe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!function Yhe(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Qhe(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function epe(n){return ED.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return sz(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return sz(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function lz(n){return r_(JSON.stringify({version:2,heartbeats:n})).length}!function ope(n){Gr(new mD("platform-logger",e=>new gfe(e),"PRIVATE")),Gr(new mD("heartbeat",e=>new rpe(e),"PRIVATE")),Sr(a_,yD,n),Sr(a_,yD,"esm2017"),Sr("fire-js","")}("");class upe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}function fz(){try{return"object"==typeof indexedDB}catch{return!1}}class d_ extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,d_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pz.prototype.create)}}class pz{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Epe(n,e){return n.replace(Cpe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new d_(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Cpe=/\{\$([^}]+)}/g,Tpe=1e3,Ape=2,xpe=144e5,Mpe=.5;function Ope(n,e=Tpe,t=Ape){const r=e*Math.pow(t,n),i=Math.round(Mpe*r*(Math.random()-.5)*2);return Math.min(xpe,r+i)}class Npe{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const AD=[];var Xe=(()=>{return(n=Xe||(Xe={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Xe;var n})();const _z={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},Vpe=Xe.INFO,Bpe={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},Upe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Bpe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class $pe{constructor(e){this.name=e,this._logLevel=Vpe,this._logHandler=Upe,this._userLogHandler=null,AD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?_z[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}class Gpe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}class g_ extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,g_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ez.prototype.create)}}class Ez{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function nge(n,e){return n.replace(rge,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new g_(i,`${this.serviceName}: ${o} (${i}).`,r)}}const rge=/\{\$([^}]+)}/g;class Iz{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gge=(n,e)=>e.some(t=>n instanceof t);let Sz,Tz;const Az=new WeakMap,RD=new WeakMap,xz=new WeakMap,ND=new WeakMap,PD=new WeakMap;let FD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return RD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||xz.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Ege(n){return"function"==typeof n?function wge(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _ge(){return Tz||(Tz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(LD(this),e),lo(Az.get(this))}:function(...e){return lo(n.apply(LD(this),e))}:function(e,...t){const r=n.call(LD(this),e,...t);return xz.set(r,e.sort?e.sort():[e]),lo(r)}}(n):(n instanceof IDBTransaction&&function vge(n){if(RD.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});RD.set(n,e)}(n),gge(n,function mge(){return Sz||(Sz=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,FD):n)}function lo(n){if(n instanceof IDBRequest)return function yge(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(lo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Az.set(t,n)}).catch(()=>{}),PD.set(e,n),e}(n);if(ND.has(n))return ND.get(n);const e=Ege(n);return e!==n&&(ND.set(n,e),PD.set(e,n)),e}const LD=n=>PD.get(n),Dge=["get","getKey","getAll","getAllKeys","count"],Ige=["put","add","delete","clear"],VD=new Map;function Mz(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(VD.get(e))return VD.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Ige.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Dge.includes(t))return;const s=function(){var o=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return VD.set(e,s),s}!function bge(n){FD=n(FD)}(n=>({...n,get:(e,t,r)=>Mz(e,t)||n.get(e,t,r),has:(e,t)=>!!Mz(e,t)||n.has(e,t)}));const Oz="@firebase/installations",BD="0.6.4",kz=1e4,Rz=`w:${BD}`,Nz="FIS_v2",Sge="https://firebaseinstallations.googleapis.com/v1",Tge=36e5,bs=new Ez("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pz(n){return n instanceof g_&&n.code.includes("request-failed")}function UD({projectId:n}){return`${Sge}/projects/${n}/installations`}function Fz(n){return{token:n.token,requestStatus:2,expiresIn:Oge(n.expiresIn),creationTime:Date.now()}}function $D(n,e){return jD.apply(this,arguments)}function jD(){return(jD=v(function*(n,e){const r=(yield e.json()).error;return bs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Lz({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function zD(n){return HD.apply(this,arguments)}function HD(){return(HD=v(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Oge(n){return Number(n.replace("s","000"))}function GD(){return(GD=v(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=UD(n),i=Lz(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:Nz,appId:n.appId,sdkVersion:Rz})},l=yield zD(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:Fz(c.authToken)}}throw yield $D("Create Installation",l)})).apply(this,arguments)}function Bz(n){return new Promise(e=>{setTimeout(e,n)})}const Pge=/^[cdef][\w-]{21}$/,WD="";function Fge(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Lge(n){return function Nge(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Pge.test(t)?t:WD}catch{return WD}}function Sc(n){return`${n.appName}!${n.appId}`}const Tc=new Map;function Uz(n,e){const t=Sc(n);$z(t,e),function Uge(n,e){const t=function jz(){return!wa&&"BroadcastChannel"in self&&(wa=new BroadcastChannel("[Firebase] FID Change"),wa.onmessage=n=>{$z(n.data.key,n.data.fid)}),wa}();t&&t.postMessage({key:n,fid:e}),function zz(){0===Tc.size&&wa&&(wa.close(),wa=null)}()}(t,e)}function $z(n,e){const t=Tc.get(n);if(t)for(const r of t)r(e)}let wa=null;const $ge="firebase-installations-database",jge=1,Ea="firebase-installations-store";let qD=null;function KD(){return qD||(qD=function Cge(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=lo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(lo(o.result),l.oldVersion,l.newVersion,lo(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}($ge,jge,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ea)}})),qD}function __(n,e){return YD.apply(this,arguments)}function YD(){return(YD=v(function*(n,e){const t=Sc(n),i=(yield KD()).transaction(Ea,"readwrite"),s=i.objectStore(Ea),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&Uz(n,e.fid),e})).apply(this,arguments)}function QD(n){return XD.apply(this,arguments)}function XD(){return(XD=v(function*(n){const e=Sc(n),r=(yield KD()).transaction(Ea,"readwrite");yield r.objectStore(Ea).delete(e),yield r.done})).apply(this,arguments)}function ch(n,e){return JD.apply(this,arguments)}function JD(){return(JD=v(function*(n,e){const t=Sc(n),i=(yield KD()).transaction(Ea,"readwrite"),s=i.objectStore(Ea),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&Uz(n,a.fid),a})).apply(this,arguments)}function ZD(n){return eI.apply(this,arguments)}function eI(){return eI=v(function*(n){let e;const t=yield ch(n.appConfig,r=>{const i=function zge(n){return Gz(n||{fid:Fge(),registrationStatus:0})}(r),s=function Hge(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(bs.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Gge(n,e){return tI.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Wge(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===WD?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),eI.apply(this,arguments)}function tI(){return tI=v(function*(n,e){try{const t=yield function Rge(n,e){return GD.apply(this,arguments)}(n,e);return __(n.appConfig,t)}catch(t){throw Pz(t)&&409===t.customData.serverCode?yield QD(n.appConfig):yield __(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),tI.apply(this,arguments)}function Wge(n){return nI.apply(this,arguments)}function nI(){return(nI=v(function*(n){let e=yield Hz(n.appConfig);for(;1===e.registrationStatus;)yield Bz(100),e=yield Hz(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield ZD(n);return r||t}return e})).apply(this,arguments)}function Hz(n){return ch(n,e=>{if(!e)throw bs.create("installation-not-found");return Gz(e)})}function Gz(n){return function qge(n){return 1===n.registrationStatus&&n.registrationTime+kz<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function rI(){return(rI=v(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Yge(n,{fid:e}){return`${UD(n)}/${e}/authTokens:generate`}(n,t),i=function Vz(n,{refreshToken:e}){const t=Lz(n);return t.append("Authorization",function kge(n){return`${Nz} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Rz,appId:n.appId}})},l=yield zD(()=>fetch(r,a));if(l.ok)return Fz(yield l.json());throw yield $D("Generate Auth Token",l)})).apply(this,arguments)}function iI(n){return sI.apply(this,arguments)}function sI(){return sI=v(function*(n,e=!1){let t;const r=yield ch(n.appConfig,s=>{if(!qz(s))throw bs.create("not-registered");const o=s.authToken;if(!e&&function Jge(n){return 2===n.requestStatus&&!function Zge(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Tge}(n)}(o))return s;if(1===o.requestStatus)return t=function Qge(n,e){return oI.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw bs.create("app-offline");const a=function eme(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function Xge(n,e){return aI.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),sI.apply(this,arguments)}function oI(){return(oI=v(function*(n,e){let t=yield Wz(n.appConfig);for(;1===t.authToken.requestStatus;)yield Bz(100),t=yield Wz(n.appConfig);const r=t.authToken;return 0===r.requestStatus?iI(n,e):r})).apply(this,arguments)}function Wz(n){return ch(n,e=>{if(!qz(e))throw bs.create("not-registered");return function tme(n){return 1===n.requestStatus&&n.requestTime+kz<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function aI(){return aI=v(function*(n,e){try{const t=yield function Kge(n,e){return rI.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield __(n.appConfig,r),t}catch(t){if(!Pz(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield __(n.appConfig,r)}else yield QD(n.appConfig);throw t}}),aI.apply(this,arguments)}function qz(n){return void 0!==n&&2===n.registrationStatus}function lI(){return(lI=v(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield ZD(e);return r?r.catch(console.error):iI(e).catch(console.error),t.fid})).apply(this,arguments)}function cI(){return cI=v(function*(n,e=!1){const t=n;return yield function ime(n){return uI.apply(this,arguments)}(t),(yield iI(t,e)).token}),cI.apply(this,arguments)}function uI(){return(uI=v(function*(n){const{registrationPromise:e}=yield ZD(n);e&&(yield e)})).apply(this,arguments)}function fI(n){return bs.create("missing-app-config-values",{valueName:n})}const Kz="installations",cme=n=>{const e=n.getProvider("app").getImmediate(),t=function ame(n){if(!n||!n.options)throw fI("App Configuration");if(!n.name)throw fI("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw fI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:vD(e,"heartbeat"),_delete:()=>Promise.resolve()}},ume=n=>{const t=vD(n.getProvider("app").getImmediate(),Kz).getImmediate();return{getId:()=>function nme(n){return lI.apply(this,arguments)}(t),getToken:i=>function rme(n){return cI.apply(this,arguments)}(t,i)}};(function dme(){Gr(new Iz(Kz,cme,"PUBLIC")),Gr(new Iz("installations-internal",ume,"PRIVATE"))})(),Sr(Oz,BD),Sr(Oz,BD,"esm2017");const pI="@firebase/remote-config",lr=new pz("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Eme{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Cme(n=navigator){return n.languages&&n.languages[0]||n.language}class Dme{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Cme()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((_,b)=>{e.signal.addEventListener(()=>{const y=new Error("The operation was aborted.");y.name="AbortError",b(y)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(_){let b="fetch-client-network";throw"AbortError"===_?.name&&(b="fetch-timeout"),lr.create(b,{originalErrorMessage:_?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let _;try{_=yield h.json()}catch(b){throw lr.create("fetch-client-parse",{originalErrorMessage:b?.message})}m=_.entries,g=_.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw lr.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Tme{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return v(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return v(function*(){yield function Ime(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(lr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Sme(n){if(!(n instanceof d_&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Ope(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Mme{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function v_(n,e){const t=n.target.error||void 0;return lr.create(e,{originalErrorMessage:t&&t?.message})}const Ca="app_namespace_store";class Nme{constructor(e,t,r,i=function Rme(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(v_(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ca,{keyPath:"compositeKey"})}}catch(t){e(lr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ca],"readonly").objectStore(Ca),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(v_(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(lr.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([Ca],"readwrite").objectStore(Ca),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(v_(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(lr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ca],"readwrite").objectStore(Ca),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(v_(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(lr.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Pme{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Lme(){return vI.apply(this,arguments)}function vI(){return(vI=v(function*(){if(!fz())return!1;try{return yield function bpe(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}()}catch{return!1}})).apply(this,arguments)}!function Fme(){Gr(new Npe("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw lr.create("registration-window");if(!fz())throw lr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw lr.create("registration-project-id");if(!o)throw lr.create("registration-api-key");if(!a)throw lr.create("registration-app-id");const l=new Nme(a,r.name,t=t||"firebase"),c=new Pme(l),u=new $pe(pI);u.logLevel=Xe.ERROR;const d=new Dme(i,"10.14.1",t,s,o,a),h=new Tme(d,l),f=new Eme(h,l,c,u),p=new Mme(r,f,c,l,u);return function vme(n){const e=function Rpe(n){return n&&n._delegate?n._delegate:n}(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Sr(pI,"0.4.4"),Sr(pI,"0.4.4","esm2017")}();class $me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}class EI extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,EI.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nH.prototype.create)}}class nH{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function t_e(n,e){return n.replace(n_e,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new EI(i,`${this.serviceName}: ${o} (${i}).`,r)}}const n_e=/\{\$([^}]+)}/g;class sH{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const p_e=(n,e)=>e.some(t=>n instanceof t);let oH,aH;const lH=new WeakMap,II=new WeakMap,cH=new WeakMap,SI=new WeakMap,TI=new WeakMap;let AI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return II.get(n);if("objectStoreNames"===e)return n.objectStoreNames||cH.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function w_e(n){return"function"==typeof n?function b_e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function m_e(){return aH||(aH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(xI(this),e),ws(lH.get(this))}:function(...e){return ws(n.apply(xI(this),e))}:function(e,...t){const r=n.call(xI(this),e,...t);return cH.set(r,e.sort?e.sort():[e]),ws(r)}}(n):(n instanceof IDBTransaction&&function y_e(n){if(II.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});II.set(n,e)}(n),p_e(n,function g_e(){return oH||(oH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,AI):n)}function ws(n){if(n instanceof IDBRequest)return function __e(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ws(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&lH.set(t,n)}).catch(()=>{}),TI.set(e,n),e}(n);if(SI.has(n))return SI.get(n);const e=w_e(n);return e!==n&&(SI.set(n,e),TI.set(e,n)),e}const xI=n=>TI.get(n);function uH(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ws(o.result),l.oldVersion,l.newVersion,ws(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function MI(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ws(t).then(()=>{})}const E_e=["get","getKey","getAll","getAllKeys","count"],C_e=["put","add","delete","clear"],OI=new Map;function dH(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(OI.get(e))return OI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=C_e.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!E_e.includes(t))return;const s=function(){var o=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return OI.set(e,s),s}!function v_e(n){AI=n(AI)}(n=>({...n,get:(e,t,r)=>dH(e,t)||n.get(e,t,r),has:(e,t)=>!!dH(e,t)||n.has(e,t)}));const D_e="/firebase-messaging-sw.js",I_e="/firebase-cloud-messaging-push-scope",hH="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",S_e="https://fcmregistrations.googleapis.com/v1",fH="google.c.a.c_id",T_e="google.c.a.c_l",A_e="google.c.a.ts",x_e="google.c.a.e";var Ac=(()=>{return(n=Ac||(Ac={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Ac;var n})();function Es(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function M_e(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const kI="fcm_token_details_db",O_e=5,pH="fcm_token_object_Store";function RI(){return RI=v(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(kI))return null;let e=null;return(yield uH(kI,O_e,{upgrade:(r=v(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(pH))return;const c=a.objectStore(pH),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Es(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Es(d.auth),p256dh:Es(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Es(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Es(d.auth),p256dh:Es(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Es(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield MI(kI),yield MI("fcm_vapid_details_db"),yield MI("undefined"),function R_e(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),RI.apply(this,arguments)}const N_e="firebase-messaging-database",P_e=1,Ia="firebase-messaging-store";let NI=null;function PI(){return NI||(NI=uH(N_e,P_e,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ia)}})),NI}function gH(n){return FI.apply(this,arguments)}function FI(){return FI=v(function*(n){const e=UI(n),r=yield(yield PI()).transaction(Ia).objectStore(Ia).get(e);if(r)return r;{const i=yield function k_e(n){return RI.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield LI(n,i),i}}),FI.apply(this,arguments)}function LI(n,e){return VI.apply(this,arguments)}function VI(){return(VI=v(function*(n,e){const t=UI(n),i=(yield PI()).transaction(Ia,"readwrite");return yield i.objectStore(Ia).put(e,t),yield i.done,e})).apply(this,arguments)}function BI(){return(BI=v(function*(n){const e=UI(n),r=(yield PI()).transaction(Ia,"readwrite");yield r.objectStore(Ia).delete(e),yield r.done})).apply(this,arguments)}function UI({appConfig:n}){return n.appId}const En=new nH("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function V_e(n,e){return $I.apply(this,arguments)}function $I(){return($I=v(function*(n,e){const t=yield GI(n),r=_H(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(HI(n.appConfig),i)).json()}catch(o){throw En.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw En.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw En.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function jI(){return(jI=v(function*(n,e){const t=yield GI(n),r=_H(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${HI(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw En.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw En.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw En.create("token-update-no-token");return s.token})).apply(this,arguments)}function mH(n,e){return zI.apply(this,arguments)}function zI(){return(zI=v(function*(n,e){const r={method:"DELETE",headers:yield GI(n)};try{const s=yield(yield fetch(`${HI(n.appConfig)}/${e}`,r)).json();if(s.error)throw En.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw En.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function HI({projectId:n}){return`${S_e}/projects/${n}/registrations`}function GI(n){return WI.apply(this,arguments)}function WI(){return(WI=v(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function _H({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==hH&&(i.web.applicationPubKey=r),i}const U_e=6048e5;function qI(){return qI=v(function*(n){const e=yield function z_e(n,e){return XI.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Es(e.getKey("auth")),p256dh:Es(e.getKey("p256dh"))},r=yield gH(n.firebaseDependencies);if(r){if(function H_e(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+U_e?function j_e(n,e){return YI.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield mH(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return vH(n.firebaseDependencies,t)}return vH(n.firebaseDependencies,t)}),qI.apply(this,arguments)}function KI(){return KI=v(function*(n){const e=yield gH(n.firebaseDependencies);e&&(yield mH(n.firebaseDependencies,e.token),yield function F_e(n){return BI.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),KI.apply(this,arguments)}function YI(){return YI=v(function*(n,e){try{const t=yield function B_e(n,e){return jI.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield LI(n.firebaseDependencies,r),t}catch(t){throw yield function yH(n){return KI.apply(this,arguments)}(n),t}}),YI.apply(this,arguments)}function vH(n,e){return QI.apply(this,arguments)}function QI(){return(QI=v(function*(n,e){const r={token:yield V_e(n,e),createTime:Date.now(),subscriptionOptions:e};return yield LI(n,r),r.token})).apply(this,arguments)}function XI(){return(XI=v(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:M_e(e)})})).apply(this,arguments)}function bH(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function G_e(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function W_e(n,e){e.data&&(n.data=e.data)}(e,n),function q_e(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function wH(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function JI(n){return En.create("missing-app-config-values",{valueName:n})}wH("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wH("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Q_e{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Y_e(n){if(!n||!n.options)throw JI("App Configuration Object");if(!n.name)throw JI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw JI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function EH(n){return ZI.apply(this,arguments)}function ZI(){return(ZI=v(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(D_e,{scope:I_e}),n.swRegistration.update().catch(()=>{})}catch(e){throw En.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function eS(){return(eS=v(function*(n,e){if(!e&&!n.swRegistration&&(yield EH(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function tS(){return(tS=v(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=hH)})).apply(this,arguments)}function nS(){return nS=v(function*(n,e){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield function J_e(n,e){return tS.apply(this,arguments)}(n,e?.vapidKey),yield function X_e(n,e){return eS.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function $_e(n){return qI.apply(this,arguments)}(n)}),nS.apply(this,arguments)}function rS(){return(rS=v(function*(n,e,t){const r=function eye(n){switch(n){case Ac.NOTIFICATION_CLICKED:return"notification_open";case Ac.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[fH],message_name:t[T_e],message_time:t[A_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function iS(){return iS=v(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Ac.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(bH(t)):n.onMessageHandler.next(bH(t)));const r=t.data;(function K_e(n){return"object"==typeof n&&!!n&&fH in n})(r)&&"1"===r[x_e]&&(yield function Z_e(n,e,t){return rS.apply(this,arguments)}(n,t.messageType,r))}),iS.apply(this,arguments)}const DH="@firebase/messaging",nye=n=>{const e=new Q_e(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function tye(n,e){return iS.apply(this,arguments)}(e,t)),e},rye=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function CH(n,e){return nS.apply(this,arguments)}(e,r)}};function SH(){return sS.apply(this,arguments)}function sS(){return(sS=v(function*(){try{yield function Jme(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}()}catch{return!1}return typeof window<"u"&&function Xme(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Zme(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function iye(){Gr(new sH("messaging",nye,"PUBLIC")),Gr(new sH("messaging-internal",rye,"PRIVATE")),Sr(DH,"0.12.4"),Sr(DH,"0.12.4","esm2017")}();const lS=[];var et=(()=>{return(n=et||(et={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",et;var n})();const TH={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},aye=et.INFO,lye={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},cye=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=lye[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class pye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}function kH(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function RH(){try{return"object"==typeof indexedDB}catch{return!1}}function NH(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function PH(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class I_ extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,I_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,FH.prototype.create)}}class FH{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Iye(n,e){return n.replace(Sye,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new I_(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Sye=/\{\$([^}]+)}/g,Mye=1e3,Oye=2,kye=144e5,Rye=.5;function BH(n,e=Mye,t=Oye){const r=e*Math.pow(t,n),i=Math.round(Rye*r*(Math.random()-.5)*2);return Math.min(kye,r+i)}class UH{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const T_="analytics",Bye="firebase_id",Uye="origin",$ye=6e4,jye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fS="https://www.googletagmanager.com/gtag/js",dn=new class uye{constructor(e){this.name=e,this._logLevel=aye,this._logHandler=cye,this._userLogHandler=null,lS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?TH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}("@firebase/analytics"),Jn=new FH("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Hye(n){if(!n.startsWith(fS)){const e=Jn.create("invalid-gtag-resource",{gtagURL:n});return dn.warn(e.message),""}return n}function $H(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function pS(){return(pS=v(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield $H(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){dn.error(a)}n("config",i,s)})).apply(this,arguments)}function gS(){return(gS=v(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield $H(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){dn.error(s)}})).apply(this,arguments)}const Zye=30,jH=new class tve{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function nve(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function mS(){return(mS=v(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:nve(r)},s=jye.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function _S(){return(_S=v(function*(n,e=jH,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Jn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Jn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ave;return setTimeout(v(function*(){a.abort()}),void 0!==t?t:$ye),zH({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function zH(n,e,t){return yS.apply(this,arguments)}function yS(){return yS=v(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=jH){var s;const{appId:o,measurementId:a}=n;try{yield function sve(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function rve(n){return mS.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!function ove(n){if(!(n instanceof I_&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?BH(t,i.intervalMillis,Zye):BH(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,d),dn.debug(`Calling attemptFetch again in ${u} millis`),zH(n,d,r,i)}}),yS.apply(this,arguments)}class ave{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let vS,SS;function bS(){return(bS=v(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function TS(){return(TS=v(function*(){if(!RH())return dn.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield NH()}catch(n){return dn.warn(Jn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function AS(){return AS=v(function*(n,e,t,r,i,s,o){var a;const l=function ive(n){return _S.apply(this,arguments)}(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>dn.error(f)),e.push(l);const c=function pve(){return TS.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);(function Jye(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(fS)&&t.src.includes(n))return t;return null})(s)||function Wye(n,e){const t=function Gye(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Hye}),r=document.createElement("script"),i=`${fS}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),SS&&(i("consent","default",SS),function HH(n){SS=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Uye]="firebase",h.update=!0,null!=d&&(h[Bye]=d),i("config",u.measurementId,h),vS&&(i("set",vS),function GH(n){vS=n}(void 0)),u.measurementId}),AS.apply(this,arguments)}class mve{constructor(e){this.app=e}_delete(){return delete Ni[this.app.options.appId],Promise.resolve()}}let Ni={},WH=[];const qH={};let YH,Pi,A_="dataLayer",KH="gtag",xS=!1;function yve(n,e,t){!function _ve(){const n=[];if(kH()&&n.push("This is a browser extension environment."),PH()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Jn.create("invalid-analytics-context",{errorInfo:e});dn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Jn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Jn.create("no-api-key");dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ni[r])throw Jn.create("already-exists",{id:r});if(!xS){!function qye(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(A_);const{wrappedGtag:s,gtagCore:o}=function Xye(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Qye(n,e,t,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[l,c]=a;yield function Yye(n,e,t,r,i){return gS.apply(this,arguments)}(n,e,t,l,c)}else if("config"===o){const[l,c]=a;yield function Kye(n,e,t,r,i,s){return pS.apply(this,arguments)}(n,e,t,r,l,c)}else if("consent"===o){const[l]=a;n("consent","update",l)}else if("get"===o){const[l,c,u]=a;n("get",l,c,u)}else if("set"===o){const[l]=a;n("set",l)}else n(o,...a)}catch(l){dn.error(l)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(Ni,WH,qH,A_,KH);Pi=s,YH=o,xS=!0}return Ni[r]=function gve(n,e,t,r,i,s,o){return AS.apply(this,arguments)}(n,WH,qH,e,YH,A_,t),new mve(n)}function bve(){return MS.apply(this,arguments)}function MS(){return(MS=v(function*(){if(kH()||!PH()||!RH())return!1;try{return yield NH()}catch{return!1}})).apply(this,arguments)}const QH="@firebase/analytics";!function Eve(){Gr(new UH(T_,(e,{options:t})=>yve(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Gr(new UH("analytics-internal",function n(e){try{const t=e.getProvider(T_).getImmediate();return{logEvent:(r,i,s)=>function wve(n,e,t,r){n=function Pye(n){return n&&n._delegate?n._delegate:n}(n),function lve(n,e,t,r,i){return bS.apply(this,arguments)}(Pi,Ni[n.app.options.appId],e,t,r).catch(i=>dn.error(i))}(t,r,i,s)}}catch(t){throw Jn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Sr(QH,"0.10.0"),Sr(QH,"0.10.0","esm2017")}();const Ive=new class Dve extends um{}(class Cve extends cm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),x_=new Hs("7.6.1"),kS="__angularfire_symbol__analyticsIsSupportedValue",RS="__angularfire_symbol__analyticsIsSupported",NS="__angularfire_symbol__remoteConfigIsSupportedValue",PS="__angularfire_symbol__remoteConfigIsSupported",FS="__angularfire_symbol__messagingIsSupportedValue",LS="__angularfire_symbol__messagingIsSupported";function BS(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[RS]||(globalThis[RS]=bve().then(n=>globalThis[kS]=n).catch(()=>globalThis[kS]=!1)),globalThis[LS]||(globalThis[LS]=SH().then(n=>globalThis[FS]=n).catch(()=>globalThis[FS]=!1)),globalThis[PS]||(globalThis[PS]=Lme().then(n=>globalThis[NS]=n).catch(()=>globalThis[NS]=!1));const US=(n,e)=>{const t=e?[e]:Hj(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function xc(){}class JH{constructor(e,t=Ive){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Sve{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xc,{},xc,xc)),t.pipe(Ft({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $S=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new JH(Zone.current)),this.insideAngular=t.run(()=>new JH(Zone.current,fm)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(S(pe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ta(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Aa(n){return Ta().ngZone.run(()=>n())}function Ave(n){return Ta(),function xve(n){return function(t){return(t=t.lift(new Sve(n.ngZone))).pipe(tp(n.outsideAngular),ep(n.insideAngular))}}(Ta())(n)}const Mve=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Aa(()=>n.apply(void 0,r))},uh=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Aa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xc,{},xc,xc)))),r[s]=Mve(r[s],t));const i=function Tve(n){return Ta().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Le){const s=Ta();return i.pipe(tp(s.outsideAngular),ep(s.insideAngular))}return Aa(()=>i)}return i instanceof Le?i.pipe(Ave):i instanceof Promise?Aa(()=>new Promise((s,o)=>i.then(a=>Aa(()=>s(a)),a=>Aa(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Aa(()=>i)};class Mc{constructor(e){return e}}class jS{constructor(){return Hj()}}const zS=new P("angularfire2._apps"),kve={provide:Mc,useFactory:function Ove(n){return n&&1===n.length?n[0]:new Mc(aD())},deps:[[new zt,zS]]},Rve={provide:jS,deps:[[new zt,zS]]};function Nve(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Mc(r)}}let Pve=(()=>{class n{constructor(t){Ir("angularfire",x_.full,"core"),Ir("angularfire",x_.full,"app"),Ir("angular",lP.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(S(Xo))},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({providers:[kve,Rve]}),n})();function Fve(n,...e){return{ngModule:Pve,providers:[{provide:zS,useFactory:Nve(n),multi:!0,deps:[pe,Ht,$S,...e]}]}}const Lve=uh(zj,!0),GS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new $ve;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}class KS extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,KS.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n4.prototype.create)}}class n4{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Jve(n,e){return n.replace(Zve,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new KS(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Zve=/\{\$([^}]+)}/g;class s4{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const XS=[];var tt=(()=>{return(n=tt||(tt={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",tt;var n})();const o4={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},dbe=tt.INFO,hbe={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},fbe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=hbe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)},JS=new Map,a4={activated:!1,tokenObservers:[]},gbe={initialized:!1,enabled:!1};function Dt(n){return JS.get(n)||Object.assign({},a4)}function R_(){return gbe}const ZS="https://content-firebaseappcheck.googleapis.com/v1",vbe="exchangeDebugToken",l4={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class wbe{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return v(function*(){t.stop();try{t.pending=new qS,yield function Ebe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new qS,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Cn=new n4("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function eT(n){if(!Dt(n).activated)throw Cn.create("use-before-activation",{appName:n.name})}function F_(n,e){return nT.apply(this,arguments)}function nT(){return(nT=v(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Cn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Cn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Cn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Cn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function c4(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${ZS}/projects/${t}/apps/${r}:${vbe}?key=${i}`,body:{debug_token:e}}}const Sbe="firebase-app-check-database",Tbe=1,dh="firebase-app-check-store";let L_=null;function h4(n,e){return rT.apply(this,arguments)}function rT(){return(rT=v(function*(n,e){const r=(yield function d4(){return L_||(L_=new Promise((n,e)=>{try{const t=indexedDB.open(Sbe,Tbe);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Cn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(dh,{keyPath:"compositeKey"})}}catch(t){e(Cn.create("storage-open",{originalErrorMessage:t?.message}))}}),L_)}()).transaction(dh,"readwrite"),s=r.objectStore(dh).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Cn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const hh=new class pbe{constructor(e){this.name=e,this._logLevel=dbe,this._logHandler=fbe,this._userLogHandler=null,XS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}("@firebase/app-check");function oT(n,e){return function Qve(){try{return"object"==typeof indexedDB}catch{return!1}}()?function xbe(n,e){return h4(function p4(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function lT(){return R_().enabled}function cT(){return uT.apply(this,arguments)}function uT(){return(uT=v(function*(){const n=R_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pbe={error:"UNKNOWN_ERROR"};function Fbe(n){return GS.encodeString(JSON.stringify(n),!1)}function V_(n){return dT.apply(this,arguments)}function dT(){return(dT=v(function*(n,e=!1){const t=n.app;eT(t);const r=Dt(t);let s,i=r.token;if(i&&!Oc(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(Oc(l)?i=l:yield oT(t,void 0))}if(!e&&i&&Oc(i))return{token:i.token};let a,o=!1;if(lT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=F_(c4(t,yield cT()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield oT(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Dt(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?hh.warn(l.message):hh.error(l),s=l}return i?s?a=Oc(i)?{token:i.token,internalError:s}:y4(s):(a={token:i.token},r.token=i,yield oT(t,i)):a=y4(s),o&&function _4(n,e){const t=Dt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function g4(n){return hT.apply(this,arguments)}function hT(){return(hT=v(function*(n){const e=n.app;eT(e);const{provider:t}=Dt(e);if(lT()){const r=yield cT(),{token:i}=yield F_(c4(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function pT(n,e){const t=Dt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function m4(n){const{app:e}=n,t=Dt(e);let r=t.tokenRefresher;r||(r=function Lbe(n){const{app:e}=n;return new wbe(v(function*(){let r;if(r=Dt(e).token?yield V_(n,!0):yield V_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Dt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},l4.RETRIAL_MIN_WAIT,l4.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Oc(n){return n.expireTimeMillis-Date.now()>0}function y4(n){return{token:Fbe(Pbe),error:n}}class Vbe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Dt(this.app);for(const t of e)pT(this.app,t.next);return Promise.resolve()}}const S4="app-check-internal";!function Jbe(){Gr(new s4("app-check",n=>function Bbe(n,e){return new Vbe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(S4).initialize()})),Gr(new s4(S4,n=>function Ube(n){return{getToken:e=>V_(n,e),getLimitedUseToken:()=>g4(n),addTokenListener:e=>function fT(n,e,t,r){const{app:i}=n,s=Dt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&Oc(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),m4(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>m4(n))}(n,"INTERNAL",e),removeTokenListener:e=>pT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Sr("@firebase/app-check","0.8.0")}();class yT{constructor(){return US("app-check")}}typeof window<"u"&&window;const r0e=function A4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},x4=new rh("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),U_=new ZC("@firebase/auth");function $_(n,...e){U_.logLevel<=ke.ERROR&&U_.error(`Auth (${Ic}): ${n}`,...e)}function cr(n,...e){throw bT(n,...e)}function Fi(n,...e){return bT(n,...e)}function bT(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return x4.create(n,...e)}function B(n,e,...t){if(!n)throw bT(e,...t)}function Li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $_(e),new Error(e)}function co(n,e){n||Li(e)}function fh(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function O4(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function s0e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function wT(){return"http:"===O4()||"https:"===O4()}()||function fde(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class ph{constructor(e,t){this.shortDelay=e,this.longDelay=t,co(t>e,"Short delay should be less than long delay!"),this.isMobile=function dde(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}()||function pde(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return s0e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ET(n,e){co(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class k4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const a0e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},l0e=new ph(3e4,6e4);function _t(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function It(n,e,t,r){return CT.apply(this,arguments)}function CT(){return(CT=v(function*(n,e,t,r,i={}){return R4(n,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Zm(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),k4.fetch()(N4(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function R4(n,e,t){return DT.apply(this,arguments)}function DT(){return(DT=v(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},a0e),e);try{const i=new c0e(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw gh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw gh(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw gh(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw gh(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function M4(n,e,t){const r=Object.assign(Object.assign({},r0e()),{[e]:t});return new rh("auth","Firebase",r).create(e,{appName:n.name})}(n,u,c);cr(n,u)}}catch(i){if(i instanceof _s)throw i;cr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Cs(n,e,t,r){return IT.apply(this,arguments)}function IT(){return(IT=v(function*(n,e,t,r,i={}){const s=yield It(n,e,t,r,i);return"mfaPendingCredential"in s&&cr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function N4(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?ET(n.config,i):`${n.config.apiScheme}://${i}`}class c0e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),l0e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Fi(n,e,r);return i.customData._tokenResponse=t,i}function ST(){return(ST=v(function*(n,e){return It(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function AT(){return(AT=v(function*(n,e){return It(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function mh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xT(){return(xT=v(function*(n,e=!1){const t=ha(n),r=yield t.getIdToken(e),i=j_(r);B(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:mh(MT(i.auth_time)),issuedAtTime:mh(MT(i.iat)),expirationTime:mh(MT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function MT(n){return 1e3*Number(n)}function j_(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return $_("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ym(t);return i?JSON.parse(i):($_("Failed to decode base64 JWT payload"),null)}catch(i){return $_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ds(n,e){return OT.apply(this,arguments)}function OT(){return(OT=v(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof _s&&function g0e({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class m0e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield t.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class P4{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=mh(this.lastLoginAt),this.creationTime=mh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _h(n){return kT.apply(this,arguments)}function kT(){return kT=v(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ds(n,function h0e(n,e){return AT.apply(this,arguments)}(t,{idToken:r}));B(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function v0e(n){return n.map(e=>{var{providerId:t}=e,r=wb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function y0e(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new P4(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),kT.apply(this,arguments)}function RT(){return(RT=v(function*(n){const e=ha(n);yield _h(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function NT(){return(NT=v(function*(n,e){const t=yield R4(n,{},v(function*(){const r=Zm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=N4(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",k4.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class yh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function p0e(n){const e=j_(n);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return v(function*(){return B(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function b0e(n,e){return NT.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new yh;return r&&(B("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(B("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(B("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yh,this.toJSON())}_performRefresh(){return Li("not implemented")}}function uo(n,e){B("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ma{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=wb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new P4(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return v(function*(){const r=yield Ds(t,t.stsTokenManager.getToken(t.auth,e));return B(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function f0e(n){return xT.apply(this,arguments)}(this,e)}reload(){return function _0e(n){return RT.apply(this,arguments)}(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ma(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield _h(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const t=yield e.getIdToken();return yield Ds(e,function u0e(n,e){return ST.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,_=null!==(c=t.createdAt)&&void 0!==c?c:void 0,b=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:D,isAnonymous:k,providerData:F,stsTokenManager:ee}=t;B(y&&ee,e,"internal-error");const fe=yh.fromJSON(this.name,ee);B("string"==typeof y,e,"internal-error"),uo(d,e.name),uo(h,e.name),B("boolean"==typeof D,e,"internal-error"),B("boolean"==typeof k,e,"internal-error"),uo(f,e.name),uo(p,e.name),uo(m,e.name),uo(g,e.name),uo(_,e.name),uo(b,e.name);const Fe=new Ma({uid:y,auth:e,email:h,emailVerified:D,displayName:d,isAnonymous:k,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:fe,createdAt:_,lastLoginAt:b});return F&&Array.isArray(F)&&(Fe.providerData=F.map(Te=>Object.assign({},Te))),g&&(Fe._redirectEventId=g),Fe}static _fromIdTokenResponse(e,t,r=!1){return v(function*(){const i=new yh;i.updateFromServerResponse(t);const s=new Ma({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _h(s),s})()}}const F4=new Map;function Is(n){co(n instanceof Function,"Expected a class definition");let e=F4.get(n);return e?(co(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,F4.set(n,e),e)}const L4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(t,r){var i=this;return v(function*(){i.storage[t]=r})()}_get(t){var r=this;return v(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return v(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function z_(n,e,t){return`firebase:${n}:${e}:${t}`}class Rc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=z_(this.userKey,i.apiKey,s),this.fullPersistenceKey=z_("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ma._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return v(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(function*(){if(!t.length)return new Rc(Is(L4),e,r);const i=(yield Promise.all(t.map(function(){var c=v(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Is(L4);const o=z_(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=Ma._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Rc(s,e,r)):new Rc(s,e,r)})()}}function V4(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z4(e))return"Blackberry";if(H4(e))return"Webos";if(PT(e))return"Safari";if((e.includes("chrome/")||U4(e))&&!e.includes("edge/"))return"Chrome";if(j4(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function B4(n=un()){return/firefox\//i.test(n)}function PT(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U4(n=un()){return/crios\//i.test(n)}function $4(n=un()){return/iemobile/i.test(n)}function j4(n=un()){return/android/i.test(n)}function z4(n=un()){return/blackberry/i.test(n)}function H4(n=un()){return/webos/i.test(n)}function H_(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function G4(n=un()){return H_(n)||j4(n)||H4(n)||z4(n)||/windows phone/i.test(n)||$4(n)}function W4(n,e=[]){let t;switch(n){case"Browser":t=V4(un());break;case"Worker":t=`${V4(un())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ic}/${r}`}function q4(n,e){return LT.apply(this,arguments)}function LT(){return(LT=v(function*(n,e){return It(n,"GET","/v2/recaptchaConfig",_t(n,e))})).apply(this,arguments)}function Y4(n){return void 0!==n&&void 0!==n.enterprise}class Q4{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function VT(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Fi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function I0e(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function X4(n){return`__${n}${Math.floor(1e6*Math.random())}`}const A0e="NO_RECAPTCHA";class J4{constructor(e){this.type="recaptcha-enterprise",this.auth=hn(e)}verify(e="verify",t=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=v(function*(c,u){q4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new Q4(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;Y4(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l(A0e)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&Y4(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));VT("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}class x0e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return v(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class M0e{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z4(this),this.idTokenSubscription=new Z4(this),this.beforeStateQueue=new x0e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Is(t)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Rc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return v(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return B(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return v(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return v(function*(){try{yield _h(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function o0e(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return v(function*(){const r=e?ha(e):null;return r&&B(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return v(function*(){if(!r._deleted)return e&&B(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(v(function*(){yield t.assertedPersistence.setPersistence(Is(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const t=yield q4(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Q4(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new J4(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return v(function*(){if(!t.redirectPersistenceManager){const r=e&&Is(e)||t._popupRedirectResolver;B(r,t,"argument-error"),t.redirectPersistenceManager=yield Rc.create(t,[Is(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return v(function*(){var r,i;return t._isInitialized&&(yield t.queue(v(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return v(function*(){if(e===t.currentUser)return t.queue(v(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return B(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return v(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function i0e(n,...e){U_.logLevel<=ke.WARN&&U_.warn(`Auth (${Ic}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function hn(n){return ha(n)}class Z4{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Ede(n,e){const t=new Cde(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function e3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function t3(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class F0e{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,t){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}function Ss(n,e){return tA.apply(this,arguments)}function tA(){return(tA=v(function*(n,e){return Cs(n,"POST","/v1/accounts:signInWithIdp",_t(n,e))})).apply(this,arguments)}class fo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Q0e extends fo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(function*(){const s=yield Ma._fromIdTokenResponse(e,r,i),o=o3(r);return new qr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=o3(r);return new qr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function o3(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Y_ extends _s{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Y_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Y_(e,t,r,i)}}function a3(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Y_._fromErrorAndOperation(n,s,e,r):s})}function uA(n,e){return dA.apply(this,arguments)}function dA(){return(dA=v(function*(n,e,t=!1){const r=yield Ds(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return qr._forOperation(n,"link",r)})).apply(this,arguments)}function c3(n,e){return fA.apply(this,arguments)}function fA(){return(fA=v(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Ds(n,a3(r,i,e,n),t);B(s.idToken,r,"internal-error");const o=j_(s.idToken);B(o,r,"internal-error");const{sub:a}=o;return B(n.uid===a,r,"user-mismatch"),qr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&cr(r,"user-mismatch"),s}})).apply(this,arguments)}function u3(n,e){return pA.apply(this,arguments)}function pA(){return(pA=v(function*(n,e,t=!1){const r="signIn",i=yield a3(n,r,e),s=yield qr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}const X_="__sak";class h3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(X_,"1"),this.storage.removeItem(X_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vwe=(()=>{class n extends h3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mwe(){const n=un();return PT(n)||H_(n)}()&&function C0e(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=G4(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function E0e(){return function gde(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),f3=(()=>{class n extends h3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let wwe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return v(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=v(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function bwe(n){return Promise.all(n.map(function(){var e=v(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function HA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Ewe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=HA("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Yt(){return window}function GA(){return typeof Yt().WorkerGlobalScope<"u"&&"function"==typeof Yt().importScripts}function WA(){return(WA=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const p3="firebaseLocalStorageDb",Twe=1,J_="firebaseLocalStorage",g3="fbase_key";class Eh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Z_(n,e){return n.transaction([J_],e?"readwrite":"readonly").objectStore(J_)}function qA(){const n=indexedDB.open(p3,Twe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(J_,{keyPath:g3})}catch(i){t(i)}}),n.addEventListener("success",v(function*(){const r=n.result;r.objectStoreNames.contains(J_)?e(r):(r.close(),yield function Awe(){const n=indexedDB.deleteDatabase(p3);return new Eh(n).toPromise()}(),e(yield qA()))}))})}function m3(n,e,t){return KA.apply(this,arguments)}function KA(){return(KA=v(function*(n,e,t){const r=Z_(n,!0).put({[g3]:e,value:t});return new Eh(r).toPromise()})).apply(this,arguments)}function YA(){return(YA=v(function*(n,e){const t=Z_(n,!1).get(e),r=yield new Eh(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function _3(n,e){const t=Z_(n,!0).delete(e);return new Eh(t).toPromise()}const kwe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return v(function*(){return t.db||(t.db=yield qA()),t.db})()}_withRetries(t){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return v(function*(){return GA()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return v(function*(){t.receiver=wwe._getInstance(function Swe(){return GA()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return v(function*(){var r,i;if(t.activeServiceWorker=yield function Dwe(){return WA.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Ewe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function Iwe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const t=yield qA();return yield m3(t,X_,"1"),yield _3(t,X_),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return v(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>m3(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return v(function*(){const i=yield r._withRetries(s=>function xwe(n,e){return YA.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>_3(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return v(function*(){const r=yield t._withRetries(o=>{const a=Z_(o,!1).getAll();return new Eh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();X4("rcb"),new ph(3e4,6e4);class ix extends F0e{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ss(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ss(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ss(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Kwe(n){return u3(n.auth,new ix(n),n.bypassAuthState)}function Ywe(n){const{auth:e,user:t}=n;return B(t,e,"internal-error"),c3(t,new ix(n),n.bypassAuthState)}function Qwe(n){return sx.apply(this,arguments)}function sx(){return(sx=v(function*(n){const{auth:e,user:t}=n;return B(t,e,"internal-error"),uA(t,new ix(n),n.bypassAuthState)})).apply(this,arguments)}class Xwe{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kwe;case"linkViaPopup":case"linkViaRedirect":return Qwe;case"reauthViaPopup":case"reauthViaRedirect":return Ywe;default:cr(this.auth,"internal-error")}}resolve(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ph(2e3,1e4);const Jwe="pendingRedirect",Ch=new Map;class Zwe extends Xwe{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return v(function*(){let r=Ch.get(t.auth._key());if(!r){try{const s=(yield function eEe(n,e){return ux.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ch.set(t.auth._key(),r)}return t.bypassAuthState||Ch.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function ux(){return(ux=v(function*(n,e){const t=function b3(n){return z_(Jwe,n.config.apiKey,n.name)}(e),r=function v3(n){return Is(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function tEe(n,e){Ch.set(n._key(),e)}function w3(n,e){return _x.apply(this,arguments)}function _x(){return(_x=v(function*(n,e,t=!1){const r=hn(n),i=function ka(n,e){return e?Is(e):(B(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new Zwe(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class oEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function aEe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D3(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!D3(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(C3(e))}saveEventToCache(e){this.cachedEventUids.add(C3(e)),this.lastProcessedEventTime=Date.now()}}function C3(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function D3({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function vx(){return(vx=v(function*(n,e={}){return It(n,"GET","/v1/projects",e)})).apply(this,arguments)}const cEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uEe=/^https?/;function bx(){return bx=v(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function lEe(n){return vx.apply(this,arguments)}(n);for(const t of e)try{if(hEe(t))return}catch{}cr(n,"unauthorized-domain")}),bx.apply(this,arguments)}function hEe(n){const e=fh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!uEe.test(t))return!1;if(cEe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const fEe=new ph(3e4,6e4);function I3(){const n=Yt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let ty=null;const mEe=new ph(5e3,15e3),_Ee="__/auth/iframe",yEe="emulator/auth/iframe",vEe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bEe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wEe(n){const e=n.config;B(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ET(e,yEe):`https://${n.config.authDomain}/${_Ee}`,r={apiKey:e.apiKey,appName:n.name,v:Ic},i=bEe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Zm(r).slice(1)}`}function wx(){return wx=v(function*(n){const e=yield function gEe(n){return ty=ty||function pEe(n){return new Promise((e,t)=>{var r,i,s;function o(){I3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I3(),t(Fi(n,"network-request-failed"))},timeout:fEe.get()})}if(null!==(i=null===(r=Yt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Yt().gapi)||void 0===s||!s.load){const a=X4("iframefcb");return Yt()[a]=()=>{gapi.load?o():t(Fi(n,"network-request-failed"))},VT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw ty=null,e})}(n),ty}(n),t=Yt().gapi;return B(t,n,"internal-error"),e.open({where:document.body,url:wEe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vEe,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Fi(n,"network-request-failed"),l=Yt().setTimeout(()=>{o(a)},mEe.get());function c(){Yt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),wx.apply(this,arguments)}const CEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEe=500,IEe=600,SEe="_blank",TEe="http://localhost";class S3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const MEe="__/auth/handler",OEe="emulator/auth/handler",kEe=encodeURIComponent("fac");function T3(n,e,t,r,i,s){return Ex.apply(this,arguments)}function Ex(){return(Ex=v(function*(n,e,t,r,i,s){B(n.config.authDomain,n,"auth-domain-config-required"),B(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ic,eventId:i};if(e instanceof fo){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function wde(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Q0e){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${kEe}=${encodeURIComponent(l)}`:"";return`${function REe({config:n}){return n.emulator?ET(n,OEe):`https://${n.authDomain}/${MEe}`}(n)}?${Zm(a).slice(1)}${c}`})).apply(this,arguments)}const Cx="webStorageSupport",PEe=class NEe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f3,this._completeRedirectFn=w3,this._overrideRedirectResult=tEe}_openPopup(e,t,r,i){var s=this;return v(function*(){var o;co(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield T3(e,t,r,fh(),i);return function AEe(n,e,t,r=DEe,i=IEe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},CEe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=un().toLowerCase();t&&(a=U4(c)?SEe:t),B4(c)&&(e=e||TEe,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function w0e(n=un()){var e;return H_(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function xEe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new S3(null);const d=window.open(e||"",a,u);B(d,n,"popup-blocked");try{d.focus()}catch{}return new S3(d)}(e,a,HA())})()}_openRedirect(e,t,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function Cwe(n){Yt().location.href=n}(yield T3(e,t,r,fh(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(co(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return v(function*(){const r=yield function EEe(n){return wx.apply(this,arguments)}(e),i=new oEe(e);return r.register("authEvent",s=>(B(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cx,{type:Cx},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Cx];void 0!==o&&t(!!o),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function dEe(n){return bx.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return G4()||PT()||H_()}};var M3="@firebase/auth";class FEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return v(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const UEe=Oj("authIdTokenMaxAge")||300;let k3=null;const $Ee=n=>function(){var e=v(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>UEe)return;const s=r?.token;k3!==s&&(k3=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function jEe(n=aD()){const e=n_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function O0e(n,e){const t=n_(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Jm(t.getOptions(),e??{}))return i;cr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:PEe,persistence:[kwe,vwe,f3]}),r=Oj("authTokenSyncURL");if(r){const s=$Ee(r);(function dwe(n,e,t){ha(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function uwe(n,e,t,r){ha(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=xj("auth");return i&&function R0e(n,e,t){const r=hn(n);B(r._canInitEmulator,r,"emulator-config-failed"),B(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=e3(e),{host:o,port:a}=function N0e(n){const e=e3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:t3(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:t3(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function P0e(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function VEe(n){Dc(new fa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W4(n)},c=new M0e(r,i,s,l);return function k0e(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Is);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Dc(new fa("auth-internal",e=>{const t=hn(e.getProvider("auth").getImmediate());return new FEe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(M3,"0.23.2",function LEe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ir(M3,"0.23.2","esm2017")}("Browser");class Ix{constructor(e){return e}}class N3{constructor(){return US("auth")}}const Sx=new P("angularfire2.auth-instances");function HEe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ix(r)}}const GEe={provide:N3,deps:[[new zt,Sx]]},WEe={provide:Ix,useFactory:function zEe(n,e){const t=BS("auth",n,e);return t&&new Ix(t)},deps:[[new zt,Sx],Mc]};let qEe=(()=>{class n{constructor(){Ir("angularfire",x_.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({providers:[WEe,GEe]}),n})();function KEe(n,...e){return{ngModule:qEe,providers:[{provide:Sx,useFactory:HEe(n),multi:!0,deps:[pe,Ht,$S,jS,[new zt,yT],...e]}]}}const YEe=uh(jEe,!0);var j,QEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},di={},Tx=Tx||{},ce=QEe||self;function ry(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Dh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ax="closure_uid_"+(1e9*Math.random()>>>0),JEe=0;function ZEe(n,e,t){return n.call.apply(n.bind,arguments)}function eCe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Pn(n,e,t){return(Pn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ZEe:eCe).apply(null,arguments)}function iy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function fn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function po(){this.s=this.s,this.o=this.o}po.prototype.s=!1,po.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function XEe(n){Object.prototype.hasOwnProperty.call(n,Ax)&&n[Ax]||(n[Ax]=++JEe)}(this)},po.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const P3=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function xx(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function F3(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ry(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Fn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Fn.prototype.h=function(){this.defaultPrevented=!0};var nCe=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ce.addEventListener("test",()=>{},e),ce.removeEventListener("test",()=>{},e)}catch{}return n}();function Ih(n){return/^[\s\xa0]*$/.test(n)}function sy(){var n=ce.navigator;return n&&(n=n.userAgent)?n:""}function Vi(n){return-1!=sy().indexOf(n)}function Mx(n){return Mx[" "](n),n}Mx[" "]=function(){};var kx,n,iCe=Vi("Opera"),Pc=Vi("Trident")||Vi("MSIE"),L3=Vi("Edge"),Ox=L3||Pc,V3=Vi("Gecko")&&!(-1!=sy().toLowerCase().indexOf("webkit")&&!Vi("Edge"))&&!(Vi("Trident")||Vi("MSIE"))&&!Vi("Edge"),sCe=-1!=sy().toLowerCase().indexOf("webkit")&&!Vi("Edge");function B3(){var n=ce.document;return n?n.documentMode:void 0}e:{var Rx="",Nx=(n=sy(),V3?/rv:([^\);]+)(\)|;)/.exec(n):L3?/Edge\/([\d\.]+)/.exec(n):Pc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sCe?/WebKit\/(\S+)/.exec(n):iCe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nx&&(Rx=Nx?Nx[1]:""),Pc){var Px=B3();if(null!=Px&&Px>parseFloat(Rx)){kx=String(Px);break e}}kx=Rx}var oCe=ce.document&&Pc&&(B3()||parseInt(kx,10))||void 0;function Sh(n,e){if(Fn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(V3){e:{try{Mx(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:aCe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sh.$.h.call(this)}}fn(Sh,Fn);var aCe={2:"touch",3:"pen",4:"mouse"};Sh.prototype.h=function(){Sh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Th="closure_listenable_"+(1e6*Math.random()|0),lCe=0;function cCe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++lCe,this.fa=this.ia=!1}function oy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Lx(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $3(n){const e={};for(const t in n)e[t]=n[t];return e}const j3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z3(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<j3.length;s++)t=j3[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ay(n){this.src=n,this.g={},this.h=0}function Vx(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=P3(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(oy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Bx(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}ay.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=Bx(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new cCe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var Ux="closure_lm_"+(1e6*Math.random()|0),$x={};function H3(n,e,t,r,i){if(r&&r.once)return W3(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)H3(n,e[s],t,r,i);return null}return t=Gx(t),n&&n[Th]?n.O(e,t,Dh(r)?!!r.capture:!!r,i):G3(n,e,t,!1,r,i)}function G3(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Dh(i)?!!i.capture:!!i,a=zx(n);if(a||(n[Ux]=a=new ay(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function dCe(){const e=hCe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)nCe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(K3(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function W3(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)W3(n,e[s],t,r,i);return null}return t=Gx(t),n&&n[Th]?n.P(e,t,Dh(r)?!!r.capture:!!r,i):G3(n,e,t,!0,r,i)}function q3(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)q3(n,e[s],t,r,i);else r=Dh(r)?!!r.capture:!!r,t=Gx(t),n&&n[Th]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Bx(s=n.g[e],t,r,i))&&(oy(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=zx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Bx(e,t,r,i)),(t=-1<n?e[n]:null)&&jx(t))}function jx(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Th])Vx(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(K3(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=zx(e))?(Vx(t,n),0==t.h&&(t.src=null,e[Ux]=null)):oy(n)}}}function K3(n){return n in $x?$x[n]:$x[n]="on"+n}function hCe(n,e){if(n.fa)n=!0;else{e=new Sh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&jx(n),n=t.call(r,e)}return n}function zx(n){return(n=n[Ux])instanceof ay?n:null}var Hx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gx(n){return"function"==typeof n?n:(n[Hx]||(n[Hx]=function(e){return n.handleEvent(e)}),n[Hx])}function pn(){po.call(this),this.i=new ay(this),this.S=this,this.J=null}function Dn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Fn(e,n);else if(e instanceof Fn)e.target=e.target||n;else{var i=e;z3(e=new Fn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=ly(o,r,!0,e)&&i}if(i=ly(o=e.g=n,r,!0,e)&&i,i=ly(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=ly(o=e.g=t[s],r,!1,e)&&i}function ly(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&Vx(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}fn(pn,po),pn.prototype[Th]=!0,pn.prototype.removeEventListener=function(n,e,t,r){q3(this,n,e,t,r)},pn.prototype.N=function(){if(pn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)oy(t[r]);delete n.g[e],n.h--}}this.J=null},pn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},pn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Wx=ce.JSON.stringify;function pCe(){var n=qx;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Y3=new class fCe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mCe,n=>n.reset());class mCe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _Ce(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function yCe(n){ce.setTimeout(()=>{throw n},0)}let Ah,xh=!1,qx=new class gCe{constructor(){this.h=this.g=null}add(e,t){const r=Y3.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Q3=()=>{const n=ce.Promise.resolve(void 0);Ah=()=>{n.then(vCe)}};var vCe=()=>{for(var n;n=pCe();){try{n.h.call(n.g)}catch(t){yCe(t)}var e=Y3;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xh=!1};function cy(n,e){pn.call(this),this.h=n||1,this.g=e||ce,this.j=Pn(this.qb,this),this.l=Date.now()}function Kx(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Yx(n,e,t){if("function"==typeof n)t&&(n=Pn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Pn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ce.setTimeout(n,e||0)}function X3(n){n.g=Yx(()=>{n.g=null,n.i&&(n.i=!1,X3(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fn(cy,pn),(j=cy.prototype).ga=!1,j.T=null,j.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dn(this,"tick"),this.ga&&(Kx(this),this.start()))}},j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},j.N=function(){cy.$.N.call(this),Kx(this),delete this.g};class bCe extends po{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:X3(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mh(n){po.call(this),this.h=n,this.g={}}fn(Mh,po);var J3=[];function Z3(n,e,t,r){Array.isArray(t)||(t&&(J3[0]=t.toString()),t=J3);for(var i=0;i<t.length;i++){var s=H3(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function e6(n){Lx(n.g,function(e,t){this.g.hasOwnProperty(t)&&jx(e)},n),n.g={}}function uy(){this.g=!0}function Fc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function DCe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Wx(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Mh.prototype.N=function(){Mh.$.N.call(this),e6(this)},Mh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uy.prototype.Ea=function(){this.g=!1},uy.prototype.info=function(){};var Ra={},t6=null;function dy(){return t6=t6||new pn}function n6(n){Fn.call(this,Ra.Ta,n)}function Oh(n){const e=dy();Dn(e,new n6(e))}function r6(n,e){Fn.call(this,Ra.STAT_EVENT,n),this.stat=e}function Zn(n){const e=dy();Dn(e,new r6(e,n))}function i6(n,e){Fn.call(this,Ra.Ua,n),this.size=e}function kh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){n()},e)}Ra.Ta="serverreachability",fn(n6,Fn),Ra.STAT_EVENT="statevent",fn(r6,Fn),Ra.Ua="timingevent",fn(i6,Fn);var hy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},s6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qx(){}function a6(){}Qx.prototype.h=null;var Zx,Rh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xx(){Fn.call(this,"d")}function Jx(){Fn.call(this,"c")}function fy(){}function Nh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Mh(this),this.P=ICe,this.V=new cy(n=Ox?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new l6}function l6(){this.i=null,this.g="",this.h=!1}fn(Xx,Fn),fn(Jx,Fn),fn(fy,Qx),fy.prototype.g=function(){return new XMLHttpRequest},fy.prototype.i=function(){return{}},Zx=new fy;var ICe=45e3,eM={},py={};function tM(n,e,t){n.L=1,n.v=yy(Ts(e)),n.s=t,n.S=!0,c6(n,null)}function c6(n,e){n.G=Date.now(),Ph(n),n.A=Ts(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),v6(t.i,"t",r),n.C=0,t=n.l.J,n.h=new l6,n.g=z6(n.l,t?e:null,!n.s),0<n.O&&(n.M=new bCe(Pn(n.Pa,n,n.g),n.O)),Z3(n.U,n.g,"readystatechange",n.nb),e=n.I?$3(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Oh(),function wCe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function u6(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function d6(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=SCe(n,t),i==py){4==e&&(n.o=4,Zn(14),r=!1),Fc(n.j,n.m,null,"[Incomplete Response]");break}if(i==eM){n.o=4,Zn(15),Fc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Fc(n.j,n.m,i,null),nM(n,i)}u6(n)&&i!=py&&i!=eM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Zn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),cM(e),e.M=!0,Zn(11))):(Fc(n.j,n.m,t,"[Invalid Chunked Response]"),Na(n),Fh(n))}function SCe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?py:(t=Number(e.substring(t,r)),isNaN(t)?eM:(r+=1)+t>e.length?py:(e=e.slice(r,r+t),n.C=r+t,e))}function Ph(n){n.Y=Date.now()+n.P,h6(n,n.P)}function h6(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=kh(Pn(n.lb,n),e)}function gy(n){n.B&&(ce.clearTimeout(n.B),n.B=null)}function Fh(n){0==n.l.H||n.J||B6(n.l,n)}function Na(n){gy(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Kx(n.V),e6(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function nM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||rM(t.i,n)))if(!n.K&&rM(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Dy(t),Ey(t)}lM(t),Zn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=kh(Pn(t.ib,t),6e3));if(1>=E6(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Fa(t,11)}else if((n.K||t.g==n)&&Dy(t),!Ih(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(iM(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,ct(r.I,r.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=j6(r,r.J?r.pa:null,r.Y),o.K){C6(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(gy(a),Ph(a)),r.g=o}else L6(r);0<t.j.length&&Cy(t)}else"stop"!=c[0]&&"close"!=c[0]||Fa(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Fa(t,7):aM(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Oh()}catch{}}function f6(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ry(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ACe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ry(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TCe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ry(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(j=Nh.prototype).setTimeout=function(n){this.P=n},j.nb=function(n){n=n.target;const e=this.M;e&&3==Bi(n)?e.l():this.Pa(n)},j.Pa=function(n){try{if(n==this.g)e:{const u=Bi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Ox||this.g&&(this.h.h||this.g.ja()||O6(this.g)))){this.J||4!=u||7==e||Oh(),gy(this);var t=this.g.da();this.ca=t;t:if(u6(this)){var r=O6(this.g);n="";var i=r.length,s=4==Bi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Na(this),Fh(this);var o="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function ECe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ih(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Zn(12),Na(this),Fh(this);break e}Fc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nM(this,t)}this.S?(d6(this,u,o),Ox&&this.i&&3==u&&(Z3(this.U,this.V,"tick",this.mb),this.V.start())):(Fc(this.j,this.m,o,null),nM(this,o)),4==u&&Na(this),this.i&&!this.J&&(4==u?B6(this.l,this):(this.i=!1,Ph(this)))}else(function WCe(n){const e={};n=(n.g&&2<=Bi(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ih(n[r]))continue;var t=_Ce(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function uCe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Zn(12)):(this.o=0,Zn(13)),Na(this),Fh(this)}}}catch{}},j.mb=function(){if(this.g){var n=Bi(this.g),e=this.g.ja();this.C<e.length&&(gy(this),d6(this,n,e),this.i&&4!=n&&Ph(this))}},j.cancel=function(){this.J=!0,Na(this)},j.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function CCe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Oh(),Zn(17)),Na(this),this.o=2,Fh(this)):h6(this,this.Y-n)};var p6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Pa){this.h=n.h,my(this,n.j),this.s=n.s,this.g=n.g,_y(this,n.m),this.l=n.l;var e=n.i,t=new Bh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),g6(this,t),this.o=n.o}else n&&(e=String(n).match(p6))?(this.h=!1,my(this,e[1]||"",!0),this.s=Lh(e[2]||""),this.g=Lh(e[3]||"",!0),_y(this,e[4]),this.l=Lh(e[5]||"",!0),g6(this,e[6]||"",!0),this.o=Lh(e[7]||"")):(this.h=!1,this.i=new Bh(null,this.h))}function Ts(n){return new Pa(n)}function my(n,e,t){n.j=t?Lh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _y(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function g6(n,e,t){e instanceof Bh?(n.i=e,function PCe(n,e){e&&!n.j&&(go(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(_6(this,r),v6(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Vh(e,RCe)),n.i=new Bh(e,n.h))}function ct(n,e,t){n.i.set(e,t)}function yy(n){return ct(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,MCe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function MCe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Pa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vh(e,m6,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vh(e,m6,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vh(t,"/"==t.charAt(0)?kCe:OCe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vh(t,NCe)),n.join("")};var m6=/[#\/\?@]/g,OCe=/[#\?:]/g,kCe=/[#\?]/g,RCe=/[#\?@]/g,NCe=/#/g;function Bh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function go(n){n.g||(n.g=new Map,n.h=0,n.i&&function xCe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _6(n,e){go(n),e=Lc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function y6(n,e){return go(n),e=Lc(n,e),n.g.has(e)}function v6(n,e,t){_6(n,e),0<t.length&&(n.i=null,n.g.set(Lc(n,e),xx(t)),n.h+=t.length)}function Lc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function b6(n){this.l=n||LCe,n=ce.PerformanceNavigationTiming?0<(n=ce.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(j=Bh.prototype).add=function(n,e){go(this),this.i=null,n=Lc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},j.forEach=function(n,e){go(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},j.ta=function(){go(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},j.Z=function(n){go(this);let e=[];if("string"==typeof n)y6(this,n)&&(e=e.concat(this.g.get(Lc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},j.set=function(n,e){return go(this),this.i=null,y6(this,n=Lc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},j.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var LCe=10;function w6(n){return!!n.h||!!n.g&&n.g.size>=n.j}function E6(n){return n.h?1:n.g?n.g.size:0}function rM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function iM(n,e){n.g?n.g.add(e):n.h=e}function C6(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function D6(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return xx(n.i)}b6.prototype.cancel=function(){if(this.i=D6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var VCe=class{stringify(n){return ce.JSON.stringify(n,void 0)}parse(n){return ce.JSON.parse(n,void 0)}};function BCe(){this.g=new VCe}function UCe(n,e,t){const r=t||"";try{f6(n,function(i,s){let o=i;Dh(i)&&(o=Wx(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vy(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Uh(n){this.l=n.fc||null,this.j=n.ob||!1}function by(n,e){pn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=sM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fn(Uh,Qx),Uh.prototype.g=function(){return new by(this.l,this.j)},Uh.prototype.i=function(n){return function(){return n}}({}),fn(by,pn);var sM=0;function I6(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function $h(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jh(n)}function jh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(j=by.prototype).open=function(n,e){if(this.readyState!=sM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,jh(this)},j.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$h(this)),this.readyState=sM},j.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jh(this)),this.g&&(this.readyState=3,jh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;I6(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},j.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$h(this):jh(this),3==this.readyState&&I6(this)}},j.Za=function(n){this.g&&(this.response=this.responseText=n,$h(this))},j.Ya=function(n){this.g&&(this.response=n,$h(this))},j.ka=function(){this.g&&$h(this)},j.setRequestHeader=function(n,e){this.v.append(n,e)},j.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},j.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(by.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jCe=ce.JSON.parse;function St(n){pn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=S6,this.L=this.M=!1}fn(St,pn);var S6="",zCe=/^https?$/i,HCe=["POST","PUT"];function T6(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,A6(n),wy(n)}function A6(n){n.F||(n.F=!0,Dn(n,"complete"),Dn(n,"error"))}function x6(n){if(n.h&&typeof Tx<"u"&&(!n.C[1]||4!=Bi(n)||2!=n.da()))if(n.v&&4==Bi(n))Yx(n.La,0,n);else if(Dn(n,"readystatechange"),4==Bi(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(p6)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!zCe.test(i?i.toLowerCase():"")}t=r}if(t)Dn(n,"complete"),Dn(n,"success");else{n.m=6;try{var s=2<Bi(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",A6(n)}}finally{wy(n)}}}function wy(n,e){if(n.g){M6(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Dn(n,"ready");try{t.onreadystatechange=r}catch{}}}function M6(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ce.clearTimeout(n.A),n.A=null)}function Bi(n){return n.g?n.g.readyState:0}function O6(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case S6:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function k6(n){let e="";return Lx(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function oM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=k6(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ct(n,e,t))}function zh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function R6(n){this.Ga=0,this.j=[],this.l=new uy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zh("baseRetryDelayMs",5e3,n),this.hb=zh("retryDelaySeedMs",1e4,n),this.eb=zh("forwardChannelMaxRetries",2,n),this.xa=zh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new b6(n&&n.concurrentRequestLimit),this.Ja=new BCe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function aM(n){if(N6(n),3==n.H){var e=n.W++,t=Ts(n.I);if(ct(t,"SID",n.K),ct(t,"RID",e),ct(t,"TYPE","terminate"),Hh(n,t),(e=new Nh(n,n.l,e)).L=2,e.v=yy(Ts(t)),t=!1,ce.navigator&&ce.navigator.sendBeacon)try{t=ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=z6(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ph(e)}$6(n)}function Ey(n){n.g&&(cM(n),n.g.cancel(),n.g=null)}function N6(n){Ey(n),n.u&&(ce.clearTimeout(n.u),n.u=null),Dy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ce.clearTimeout(n.m),n.m=null)}function Cy(n){if(!w6(n.i)&&!n.m){n.m=!0;var e=n.Na;Ah||Q3(),xh||(Ah(),xh=!0),qx.add(e,n),n.C=0}}function P6(n,e){var t;t=e?e.m:n.W++;const r=Ts(n.I);ct(r,"SID",n.K),ct(r,"RID",t),ct(r,"AID",n.V),Hh(n,r),n.o&&n.s&&oM(r,n.o,n.s),t=new Nh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=F6(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),iM(n.i,t),tM(t,r,e)}function Hh(n,e){n.na&&Lx(n.na,function(t,r){ct(e,r,t)}),n.h&&f6({},function(t,r){ct(e,r,t)})}function F6(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Pn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{UCe(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function L6(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ah||Q3(),xh||(Ah(),xh=!0),qx.add(e,n),n.A=0}}function lM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=kh(Pn(n.Ma,n),U6(n,n.A)),n.A++,0))}function cM(n){null!=n.B&&(ce.clearTimeout(n.B),n.B=null)}function V6(n){n.g=new Nh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ts(n.wa);ct(e,"RID","rpc"),ct(e,"SID",n.K),ct(e,"AID",n.V),ct(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ct(e,"TO",n.qa),ct(e,"TYPE","xmlhttp"),Hh(n,e),n.o&&n.s&&oM(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=yy(Ts(e)),t.s=null,t.S=!0,c6(t,n)}function Dy(n){null!=n.v&&(ce.clearTimeout(n.v),n.v=null)}function B6(n,e){var t=null;if(n.g==e){Dy(n),cM(n),n.g=null;var r=2}else{if(!rM(n.i,e))return;t=e.F,C6(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Dn(r=dy(),new i6(r,t)),Cy(n)}else L6(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function qCe(n,e){return!(E6(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=kh(Pn(n.Na,n,e),U6(n,n.C)),n.C++,0)))}(n,e)||2==r&&lM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Fa(n,5);break;case 4:Fa(n,10);break;case 3:Fa(n,6);break;default:Fa(n,2)}}function U6(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Fa(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Pn(n.pb,n);t||(t=new Pa("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||my(t,"https"),yy(t)),function $Ce(n,e){const t=new uy;if(ce.Image){const r=new Image;r.onload=iy(vy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=iy(vy,t,r,"TestLoadImage: error",!1,e),r.onabort=iy(vy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=iy(vy,t,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Zn(2);n.H=0,n.h&&n.h.za(e),$6(n),N6(n)}function $6(n){if(n.H=0,n.ma=[],n.h){const e=D6(n.i);(0!=e.length||0!=n.j.length)&&(F3(n.ma,e),F3(n.ma,n.j),n.i.i.length=0,xx(n.j),n.j.length=0),n.h.ya()}}function j6(n,e,t){var r=t instanceof Pa?Ts(t):new Pa(t);if(""!=r.g)e&&(r.g=e+"."+r.g),_y(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Pa(null);r&&my(s,r),e&&(s.g=e),i&&_y(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ct(r,t,e),ct(r,"VER",n.ra),Hh(n,r),r}function z6(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new St(t&&n.Ha&&!n.va?new Uh({ob:!0}):n.va)).Oa(n.J),e}function H6(){}function Iy(){if(Pc&&!(10<=Number(oCe)))throw Error("Environmental error: no available transport.")}function Tr(n,e){pn.call(this),this.g=new R6(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ih(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ih(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Vc(this)}function G6(n){Xx.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function W6(){Jx.call(this),this.status=1}function Vc(n){this.g=n}function hi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function uM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ke(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(j=St.prototype).Oa=function(n){this.M=n},j.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zx.g(),this.C=function o6(n){return n.h||(n.h=n.i())}(this.u?this.u:Zx),this.g.onreadystatechange=Pn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void T6(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ce.FormData&&n instanceof ce.FormData,!(0<=P3(HCe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{M6(this),0<this.B&&((this.L=function GCe(n){return Pc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pn(this.ua,this)):this.A=Yx(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){T6(this,s)}},j.ua=function(){typeof Tx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))},j.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Dn(this,"complete"),Dn(this,"abort"),wy(this))},j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wy(this,!0)),St.$.N.call(this)},j.La=function(){this.s||(this.G||this.v||this.l?x6(this):this.kb())},j.kb=function(){x6(this)},j.isActive=function(){return!!this.g},j.da=function(){try{return 2<Bi(this)?this.g.status:-1}catch{return-1}},j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},j.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jCe(e)}},j.Ia=function(){return this.m},j.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(j=R6.prototype).ra=8,j.H=1,j.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Nh(this,this.l,n);let s=this.s;if(this.U&&(s?(s=$3(s),z3(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=F6(this,i,e),ct(t=Ts(this.I),"RID",n),ct(t,"CVER",22),this.F&&ct(t,"X-HTTP-Session-Id",this.F),Hh(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(k6(s)))+"&"+e:this.o&&oM(t,this.o,s)),iM(this.i,i),this.bb&&ct(t,"TYPE","init"),this.P?(ct(t,"$req",e),ct(t,"SID","null"),i.aa=!0,tM(i,t,null)):tM(i,t,e),this.H=2}}else 3==this.H&&(n?P6(this,n):0==this.j.length||w6(this.i)||P6(this))},j.Ma=function(){if(this.u=null,V6(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=kh(Pn(this.jb,this),n)}},j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zn(10),Ey(this),V6(this))},j.ib=function(){null!=this.v&&(this.v=null,Ey(this),lM(this),Zn(19))},j.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Zn(2)):(this.l.info("Failed to ping google.com"),Zn(1))},j.isActive=function(){return!!this.h&&this.h.isActive(this)},(j=H6.prototype).Ba=function(){},j.Aa=function(){},j.za=function(){},j.ya=function(){},j.isActive=function(){return!0},j.Va=function(){},Iy.prototype.g=function(n,e){return new Tr(n,e)},fn(Tr,pn),Tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Zn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=j6(n,null,n.Y),Cy(n)},Tr.prototype.close=function(){aM(this.g)},Tr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Wx(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Cy(e)},Tr.prototype.N=function(){this.g.h=null,delete this.j,aM(this.g),delete this.g,Tr.$.N.call(this)},fn(G6,Xx),fn(W6,Jx),fn(Vc,H6),Vc.prototype.Ba=function(){Dn(this.g,"a")},Vc.prototype.Aa=function(n){Dn(this.g,new G6(n))},Vc.prototype.za=function(n){Dn(this.g,new W6)},Vc.prototype.ya=function(){Dn(this.g,"b")},fn(hi,function KCe(){this.blockSize=-1}),hi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hi.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)uM(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){uM(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){uM(this,r),i=0;break}}this.h=i,this.i+=e},hi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var YCe={};function dM(n){return-128<=n&&128>n?function rCe(n,e){var t=YCe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ke([0|e],0>e?-1:0)}):new Ke([0|n],0>n?-1:0)}function Ui(n){if(isNaN(n)||!isFinite(n))return Bc;if(0>n)return In(Ui(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=hM;return new Ke(e,0)}var hM=4294967296,Bc=dM(0),fM=dM(1),K6=dM(16777216);function As(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Kr(n){return-1==n.h}function In(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ke(t,~n.h).add(fM)}function Sy(n,e){return n.add(In(e))}function Ty(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Gh(n,e){this.g=n,this.h=e}function Ay(n,e){if(As(e))throw Error("division by zero");if(As(n))return new Gh(Bc,Bc);if(Kr(n))return e=Ay(In(n),e),new Gh(In(e.g),In(e.h));if(Kr(e))return e=Ay(n,In(e)),new Gh(In(e.g),e.h);if(30<n.g.length){if(Kr(n)||Kr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=fM,r=e;0>=r.X(n);)t=Y6(t),r=Y6(r);var i=Uc(t,1),s=Uc(r,1);for(r=Uc(r,2),t=Uc(t,2);!As(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Uc(r,1),t=Uc(t,1)}return e=Sy(n,i.R(e)),new Gh(i,e)}for(i=Bc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ui(t)).R(e);Kr(o)||0<o.X(n);)o=(s=Ui(t-=r)).R(e);As(s)&&(s=fM),i=i.add(s),n=Sy(n,o)}return new Gh(i,n)}function Y6(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ke(t,n.h)}function Uc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ke(i,n.h)}(j=Ke.prototype).ea=function(){if(Kr(this))return-In(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:hM+r)*e,e*=hM}return n},j.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(As(this))return"0";if(Kr(this))return"-"+In(this).toString(n);for(var e=Ui(Math.pow(n,6)),t=this,r="";;){var i=Ay(t,e).g,s=((0<(t=Sy(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(As(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},j.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},j.X=function(n){return Kr(n=Sy(this,n))?-1:As(n)?0:1},j.abs=function(){return Kr(this)?In(this):this},j.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Ke(t,-2147483648&t[t.length-1]?-1:0)},j.R=function(n){if(As(this)||As(n))return Bc;if(Kr(this))return Kr(n)?In(this).R(In(n)):In(In(this).R(n));if(Kr(n))return In(this.R(In(n)));if(0>this.X(K6)&&0>n.X(K6))return Ui(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,Ty(t,2*r+2*i),t[2*r+2*i+1]+=s*l,Ty(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Ty(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Ty(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ke(t,0)},j.gb=function(n){return Ay(this,n).h},j.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ke(t,this.h&n.h)},j.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ke(t,this.h|n.h)},j.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ke(t,this.h^n.h)},Iy.prototype.createWebChannel=Iy.prototype.g,Tr.prototype.send=Tr.prototype.u,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,hy.NO_ERROR=0,hy.TIMEOUT=8,hy.HTTP_ERROR=6,s6.COMPLETE="complete",a6.EventType=Rh,Rh.OPEN="a",Rh.CLOSE="b",Rh.ERROR="c",Rh.MESSAGE="d",pn.prototype.listen=pn.prototype.O,St.prototype.listenOnce=St.prototype.P,St.prototype.getLastError=St.prototype.Sa,St.prototype.getLastErrorCode=St.prototype.Ia,St.prototype.getStatus=St.prototype.da,St.prototype.getResponseJson=St.prototype.Wa,St.prototype.getResponseText=St.prototype.ja,St.prototype.send=St.prototype.ha,St.prototype.setWithCredentials=St.prototype.Oa,hi.prototype.digest=hi.prototype.l,hi.prototype.reset=hi.prototype.reset,hi.prototype.update=hi.prototype.j,Ke.prototype.add=Ke.prototype.add,Ke.prototype.multiply=Ke.prototype.R,Ke.prototype.modulo=Ke.prototype.gb,Ke.prototype.compare=Ke.prototype.X,Ke.prototype.toNumber=Ke.prototype.ea,Ke.prototype.toString=Ke.prototype.toString,Ke.prototype.getBits=Ke.prototype.D,Ke.fromNumber=Ui,Ke.fromString=function q6(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return In(q6(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ui(Math.pow(e,8)),r=Bc,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Ui(Math.pow(e,s)),r=r.R(s).add(Ui(o))):r=(r=r.R(t)).add(Ui(o))}return r};var QCe=di.createWebChannelTransport=function(){return new Iy},XCe=di.getStatEventTarget=function(){return dy()},pM=di.ErrorCode=hy,JCe=di.EventType=s6,ZCe=di.Event=Ra,Q6=di.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eDe=di.FetchXmlHttpFactory=Uh,xy=di.WebChannel=a6,tDe=di.XhrIo=St,nDe=di.Md5=hi,$c=di.Integer=Ke;const X6="@firebase/firestore";class gn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let jc="9.23.0";const mo=new ZC("@firebase/firestore");function gM(){return mo.logLevel}function R(n,...e){if(mo.logLevel<=ke.DEBUG){const t=e.map(mM);mo.debug(`Firestore (${jc}): ${n}`,...t)}}function Vt(n,...e){if(mo.logLevel<=ke.ERROR){const t=e.map(mM);mo.error(`Firestore (${jc}): ${n}`,...t)}}function fi(n,...e){if(mo.logLevel<=ke.WARN){const t=e.map(mM);mo.warn(`Firestore (${jc}): ${n}`,...t)}}function mM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function q(n="Unexpected state"){const e=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: `+n;throw Vt(e),new Error(e)}function Y(n,e){n||q()}function $(n,e){return n}const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends _s{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class J6{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rDe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class iDe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sDe{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(v(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y("string"==typeof r.accessToken),new J6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new gn(e)}}class oDe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class aDe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new oDe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lDe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,R("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Y("string"==typeof t.token),this.T=t.token,new Z6(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cDe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class eG{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=cDe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ae(n,e){return n<e?-1:n>e?1:0}function zc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class yt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new yt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new yt(0,0))}static max(){return new Q(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wh{constructor(e,t,r){void 0===t?t=0:t>e.length&&q(),void 0===r?r=e.length-t:r>e.length-t&&q(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Wh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Re extends Wh{construct(e,t,r){return new Re(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new O(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Re(t)}static emptyPath(){return new Re([])}}const uDe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Wh{construct(e,t,r){return new Bt(e,t,r)}static isValidIdentifier(e){return uDe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new O(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new O(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new O(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}class U{constructor(e){this.path=e}static fromPath(e){return new U(Re.fromString(e))}static fromName(e){return new U(Re.fromString(e).popFirst(5))}static empty(){return new U(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Re.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Re.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new Re(e.slice()))}}function rG(n){return new Ar(n.readTime,n.key,-1)}class Ar{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ar(Q.min(),U.empty(),-1)}static max(){return new Ar(Q.max(),U.empty(),-1)}}function yM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=U.comparator(n.documentKey,e.documentKey),0!==t?t:ae(n.largestBatchId,e.largestBatchId))}const iG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fDe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _o(n){return vM.apply(this,arguments)}function vM(){return vM=v(function*(n){if(n.code!==T.FAILED_PRECONDITION||n.message!==iG)throw n;R("LocalStore","Unexpectedly lost primary lease")}),vM.apply(this,arguments)}class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof C?t:C.resolve(t)}catch(t){return C.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):C.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):C.reject(t)}static resolve(e){return new C((t,r)=>{t(e)})}static reject(e){return new C((t,r)=>{r(e)})}static waitFor(e){return new C((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=C.resolve(!1);for(const r of e)t=t.next(i=>i?C.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new C((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new C((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function yo(n){return"IndexedDbTransactionError"===n.name}let xr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Yh(n){return null==n}function Qh(n){return 0===n&&1/n==-1/0}function fG(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class ot{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ny(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ny(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ny(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ny(this.root,e,this.comparator,!0)}}class Ny{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Sn.RED,this.left=i??Sn.EMPTY,this.right=s??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Sn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1,Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Sn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ut{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gG(this.data.getIterator())}getIteratorFrom(e){return new gG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ut(this.comparator);return t.data=e,t}}class gG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ur{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new ur([])}unionWith(e){let t=new ut(Bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mG("Invalid base64 string: "+i):i}}(e);return new nn(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const FDe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(n){if(Y(!!n),"string"==typeof n){let e=0;const t=FDe.exec(n);if(Y(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xs(n){return"string"==typeof n?nn.fromBase64String(n):nn.fromUint8Array(n)}function Py(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fy(n){const e=n.mapValue.fields.__previous_value__;return Py(e)?Fy(e):e}function Xh(n){const e=bo(n.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}class LDe{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}const wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Py(n)?4:bG(n)?9007199254740991:10:q()}function ji(n,e){if(n===e)return!0;const t=Eo(n);if(t!==Eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xh(n).isEqual(Xh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=bo(r.timestampValue),o=bo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,xs(n.bytesValue).isEqual(xs(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Tt(r.geoPointValue.latitude)===Tt(i.geoPointValue.latitude)&&Tt(r.geoPointValue.longitude)===Tt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Tt(r.integerValue)===Tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Tt(r.doubleValue),o=Tt(i.doubleValue);return s===o?Qh(s)===Qh(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return zc(n.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(fG(s)!==fG(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ji(s[a],o[a])))return!1;return!0}(n,e);default:return q()}var i}function Jh(n,e){return void 0!==(n.values||[]).find(t=>ji(t,e))}function Co(n,e){if(n===e)return 0;const t=Eo(n),r=Eo(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Tt(i.integerValue||i.doubleValue),a=Tt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return _G(n.timestampValue,e.timestampValue);case 4:return _G(Xh(n),Xh(e));case 5:return ae(n.stringValue,e.stringValue);case 6:return function(i,s){const o=xs(i),a=xs(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ae(o[l],a[l]);if(0!==c)return c}return ae(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ae(Tt(i.latitude),Tt(s.latitude));return 0!==o?o:ae(Tt(i.longitude),Tt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Co(o[l],a[l]);if(c)return c}return ae(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===wo.mapValue&&s===wo.mapValue)return 0;if(i===wo.mapValue)return 1;if(s===wo.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ae(a[u],c[u]);if(0!==d)return d;const h=Co(o[a[u]],l[c[u]]);if(0!==h)return h}return ae(a.length,c.length)}(n.mapValue,e.mapValue);default:throw q()}}function _G(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ae(n,e);const t=bo(n),r=bo(e),i=ae(t.seconds,r.seconds);return 0!==i?i:ae(t.nanos,r.nanos)}function Gc(n){return EM(n)}function EM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=bo(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xs(n.bytesValue).toBase64():"referenceValue"in n?U.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=EM(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${EM(r.fields[a])}`;return s+"}"}(n.mapValue):q();var e}function CM(n){return!!n&&"integerValue"in n}function Zh(n){return!!n&&"arrayValue"in n}function yG(n){return!!n&&"nullValue"in n}function vG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function By(n){return!!n&&"mapValue"in n}function ef(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ef(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ef(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!By(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ef(t)}setAll(e){let t=Bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ef(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());By(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];By(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Tn(ef(this.value))}}class dt{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,Q.min(),Q.min(),Q.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,i){return new dt(e,1,t,Q.min(),r,i,0)}static newNoDocument(e,t){return new dt(e,2,t,Q.min(),Q.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new dt(e,3,t,Q.min(),Q.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Do{constructor(e,t){this.position=e,this.inclusive=t}}function DG(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?U.comparator(U.fromName(o.referenceValue),t.key):Co(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function IG(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ji(n.position[t],e.position[t]))return!1;return!0}class Wc{constructor(e,t="asc"){this.field=e,this.dir=t}}function UDe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class SG{}class Ae extends SG{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new $De(e,t,r):"array-contains"===t?new HDe(e,r):"in"===t?new kG(e,r):"not-in"===t?new GDe(e,r):"array-contains-any"===t?new WDe(e,r):new Ae(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new jDe(e,r):new zDe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Co(t,this.value)):null!==t&&Eo(this.value)===Eo(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ye extends SG{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ye(e,t)}matches(e){return qc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function qc(n){return"and"===n.op}function IM(n){return function TG(n){for(const e of n.filters)if(e instanceof Ye)return!1;return!0}(n)&&qc(n)}function SM(n){if(n instanceof Ae)return n.field.canonicalString()+n.op.toString()+Gc(n.value);if(IM(n))return n.filters.map(e=>SM(e)).join(",");{const e=n.filters.map(t=>SM(t)).join(",");return`${n.op}(${e})`}}function AG(n,e){return n instanceof Ae?(t=n,(r=e)instanceof Ae&&t.op===r.op&&t.field.isEqual(r.field)&&ji(t.value,r.value)):n instanceof Ye?function(t,r){return r instanceof Ye&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&AG(s,r.filters[o]),!0)}(n,e):void q();var t,r}function MG(n){return n instanceof Ae?`${(e=n).field.canonicalString()} ${e.op} ${Gc(e.value)}`:n instanceof Ye?function(e){return e.op.toString()+" {"+e.getFilters().map(MG).join(" ,")+"}"}(n):"Filter";var e}class $De extends Ae{constructor(e,t,r){super(e,t,r),this.key=U.fromName(r.referenceValue)}matches(e){const t=U.comparator(e.key,this.key);return this.matchesComparison(t)}}class jDe extends Ae{constructor(e,t){super(e,"in",t),this.keys=OG(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zDe extends Ae{constructor(e,t){super(e,"not-in",t),this.keys=OG(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OG(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>U.fromName(r.referenceValue))}class HDe extends Ae{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zh(t)&&Jh(t.arrayValue,this.value)}}class kG extends Ae{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jh(this.value.arrayValue,t)}}class GDe extends Ae{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jh(this.value.arrayValue,t)}}class WDe extends Ae{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jh(this.value.arrayValue,r))}}class qDe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function TM(n,e=null,t=[],r=[],i=null,s=null,o=null){return new qDe(n,e,t,r,i,s,o)}function $a(n){const e=$(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>SM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gc(r)).join(",")),e.dt=t}return e.dt}function tf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!UDe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AG(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IG(n.startAt,e.startAt)&&IG(n.endAt,e.endAt)}function Uy(n){return U.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ms{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function Kc(n){return new Ms(n)}function FG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ja(n){const e=$(n);if(null===e.wt){e.wt=[];const t=function jy(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function AM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Wc(t)),e.wt.push(new Wc(Bt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Wc(Bt.keyField(),s))}}}return e.wt}function er(n){const e=$(n);if(!e._t)if("F"===e.limitType)e._t=TM(e.path,e.collectionGroup,ja(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of ja(e))t.push(new Wc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Do(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Do(e.startAt.position,e.startAt.inclusive):null;e._t=TM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function zy(n,e,t){return new Ms(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nf(n,e){return tf(er(n),er(e))&&n.limitType===e.limitType}function LG(n){return`${$a(er(n))}|lt:${n.limitType}`}function OM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>MG(r)).join(", ")}]`),Yh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gc(r)).join(",")),`Target(${t})`}(er(n))}; limitType=${n.limitType})`}function rf(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):U.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of ja(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=DG(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,ja(t),r)||t.endAt&&!function(i,s,o){const a=DG(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,ja(t),r)));var t,r}function BG(n){return(e,t)=>{let r=!1;for(const i of ja(n)){const s=KDe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function KDe(n,e,t){const r=n.field.isKeyField()?U.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?Co(a,l):q()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}class Os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function pG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const YDe=new ot(U.comparator);function dr(){return YDe}const UG=new ot(U.comparator);function sf(...n){let e=UG;for(const t of n)e=e.insert(t.key,t);return e}function $G(n){let e=UG;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zi(){return af()}function jG(){return af()}function af(){return new Os(n=>n.toString(),(n,e)=>n.isEqual(e))}new ot(U.comparator);const XDe=new ut(U.comparator);function ye(...n){let e=XDe;for(const t of n)e=e.add(t);return e}const JDe=new ut(ae);class Hy{constructor(){this._=void 0}}function ZDe(n,e,t){return n instanceof Yc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Py(i)&&(i=Fy(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof za?qG(n,e):n instanceof Ha?KG(n,e):function(r,i){const s=function WG(n,e){return n instanceof Qc?CM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}(r,i),o=YG(s)+YG(r.gt);return CM(s)&&CM(r.gt)?function HG(n){return{integerValue:""+n}}(o):function zG(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}(r.serializer,o)}(n,e)}function eIe(n,e,t){return n instanceof za?qG(n,e):n instanceof Ha?KG(n,e):t}class Yc extends Hy{}class za extends Hy{constructor(e){super(),this.elements=e}}function qG(n,e){const t=QG(e);for(const r of n.elements)t.some(i=>ji(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ha extends Hy{constructor(e){super(),this.elements=e}}function KG(n,e){let t=QG(e);for(const r of n.elements)t=t.filter(i=>!ji(i,r));return{arrayValue:{values:t}}}class Qc extends Hy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function YG(n){return Tt(n.integerValue||n.doubleValue)}function QG(n){return Zh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class pt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pt}static exists(e){return new pt(void 0,e)}static updateTime(e){return new pt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class RM{}function XG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Jc(n.key,pt.none()):new Xc(n.key,n.data,pt.none());{const t=n.data,r=Tn.empty();let i=new ut(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ks(n.key,r,new ur(i.toArray()),pt.none())}}function rIe(n,e,t){n instanceof Xc?function(r,i,s){const o=r.value.clone(),a=eW(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof ks?function(r,i,s){if(!Gy(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=eW(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ZG(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cf(n,e,t,r){return n instanceof Xc?function(i,s,o,a){if(!Gy(i.precondition,s))return o;const l=i.value.clone(),c=tW(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof ks?function(i,s,o,a){if(!Gy(i.precondition,s))return o;const l=tW(i.fieldTransforms,a,s),c=s.data;return c.setAll(ZG(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,Gy(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function JG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&zc(t,r,(i,s)=>function tIe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof za&&r instanceof za||t instanceof Ha&&r instanceof Ha?zc(t.elements,r.elements,ji):t instanceof Qc&&r instanceof Qc?ji(t.gt,r.gt):t instanceof Yc&&r instanceof Yc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Xc extends RM{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ks extends RM{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function eW(n,e,t){const r=new Map;Y(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,eIe(o,a,t[i]))}return r}function tW(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,ZDe(s,o,e))}return r}class Jc extends RM{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rIe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=cf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=cf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jG();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=XG(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,(t,r)=>JG(t,r))&&zc(this.baseMutations,e.baseMutations,(t,r)=>JG(t,r))}}class LM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class oIe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qt,Ne;function rW(n){if(void 0===n)return Vt("GRPC error has no .code"),T.UNKNOWN;switch(n){case Qt.OK:return T.OK;case Qt.CANCELLED:return T.CANCELLED;case Qt.UNKNOWN:return T.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return T.INTERNAL;case Qt.UNAVAILABLE:return T.UNAVAILABLE;case Qt.UNAUTHENTICATED:return T.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case Qt.NOT_FOUND:return T.NOT_FOUND;case Qt.ALREADY_EXISTS:return T.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return T.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case Qt.ABORTED:return T.ABORTED;case Qt.OUT_OF_RANGE:return T.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return T.UNIMPLEMENTED;case Qt.DATA_LOSS:return T.DATA_LOSS;default:return q()}}(Ne=Qt||(Qt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";class VM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Wy}static getOrCreateInstance(){return null===Wy&&(Wy=new VM),Wy}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Wy=null;const aIe=new $c([4294967295,4294967295],0);function sW(n){const e=function iW(){return new TextEncoder}().encode(n),t=new nDe;return t.update(e),new Uint8Array(t.digest())}function oW(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $c([t,r],0),new $c([i,s],0)]}class BM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new uf(`Invalid padding: ${t}`);if(r<0)throw new uf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new uf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new uf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=$c.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply($c.fromNumber(r)));return 1===i.compare(aIe)&&(i=new $c([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=sW(e),[r,i]=oW(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new BM(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=sW(e),[r,i]=oW(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class uf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new df(Q.min(),i,new ot(ae),dr(),ye())}}class hf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hf(r,t,ye(),ye(),ye())}}class qy{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class aW{constructor(e,t){this.targetId=e,this.Vt=t}}class lW{constructor(e,t,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cW{constructor(){this.St=0,this.Dt=dW(),this.Ct=nn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ye(),t=ye(),r=ye();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:q()}}),new hf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=dW()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=dr(),this.zt=uW(),this.Wt=new ot(ae)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:q()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Uy(o))if(0===i){const a=new U(o.path);this.Yt(r,a,dt.newNoDocument(a,Q.min()))}else Y(1===i);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);0!==l&&(this.ee(r),this.Wt=this.Wt.insert(r,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=VM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,m,g,_;const b={localCacheCount:u,existenceFilterCount:d.count},y=d.unchangedNames;return y&&(b.bloomFilter={applied:0===c,hashCount:null!==(h=y?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=y?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(_=null===(g=y?.bits)||void 0===g?void 0:g.padding)&&void 0!==_?_:0}),b}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=xs(s).toUint8Array()}catch(u){if(u instanceof mG)return fi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new BM(l,o,a)}catch(u){return fi(u instanceof uf?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Uy(a.target)){const l=new U(a.target.path);null!==this.jt.get(l)||this.ae(o,l)||this.Yt(o,l,dt.newNoDocument(l,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=ye();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new df(e,t,this.Wt,this.jt,r);return this.jt=dr(),this.zt=uW(),this.Wt=new ot(ae),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new cW,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ut(ae),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cW),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function uW(){return new ot(U.comparator)}function dW(){return new ot(U.comparator)}const cIe={asc:"ASCENDING",desc:"DESCENDING"},uIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dIe={and:"AND",or:"OR"};class hIe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function UM(n,e){return n.useProto3Json||Yh(e)?e:{value:e}}function Ut(n){return Y(!!n),Q.fromTimestamp(function(e){const t=bo(e);return new yt(t.seconds,t.nanos)}(n))}function fW(n){const e=Re.fromString(n);return Y(EW(e)),e}function Hi(n,e){const t=fW(e);if(t.get(1)!==n.databaseId.projectId)throw new O(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new U(gW(t))}function jM(n,e){return function $M(n,e){return(t=n,new Re(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e)}function pf(n){return new Re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gW(n){return Y(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yW(n,e){return{documents:[jM(n,e.path)]}}function HM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=jM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=jM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return wW(Ye.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Io((u=c).field),direction:yIe(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=UM(n,e.limit);var a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function vW(n){let e=function pW(n){const e=fW(n);return 4===e.length?Re.emptyPath():gW(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Y(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=bW(u);return d instanceof Ye&&IM(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Wc(eu((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Yh(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Do((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Do(u.values||[],!u.before)}(t.endAt)),function PG(n,e,t,r,i,s,o,a){return new Ms(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function bW(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=eu(e.unaryFilter.field);return Ae.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=eu(e.unaryFilter.field);return Ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=eu(e.unaryFilter.field);return Ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=eu(e.unaryFilter.field);return Ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(n):void 0!==n.fieldFilter?Ae.create(eu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ye.create(e.compositeFilter.filters.map(t=>bW(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return q()}}(e.compositeFilter.op))}(n):q();var e}function yIe(n){return cIe[n]}function vIe(n){return uIe[n]}function bIe(n){return dIe[n]}function Io(n){return{fieldPath:n.canonicalString()}}function eu(n){return Bt.fromServerFormat(n.fieldPath)}function wW(n){return n instanceof Ae?function(e){if("=="===e.op){if(vG(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NAN"}};if(yG(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vG(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NAN"}};if(yG(e.value))return{unaryFilter:{field:Io(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(e.field),op:vIe(e.op),value:e.value}}}(n):n instanceof Ye?function(e){const t=e.getFilters().map(r=>wW(r));return 1===t.length?t[0]:{compositeFilter:{op:bIe(e.op),filters:t}}}(n):q()}function EW(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Rs{constructor(e,t,r,i,s=Q.min(),o=Q.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CW{constructor(e){this.fe=e}}function GM(n){const e=vW({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zy(e,e.limit,"L"):e}class Ka{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Tt(e.integerValue));else if("doubleValue"in e){const r=Tt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Qh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(xs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?bG(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):q()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),U.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ka.Ve=new Ka;class MIe{constructor(){this.rn=new XM}addToCollectionParentIndex(e,t){return this.rn.add(t),C.resolve()}getCollectionParents(e,t){return C.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return C.resolve()}deleteFieldIndex(e,t){return C.resolve()}getDocumentsMatchingTarget(e,t){return C.resolve(null)}getIndexType(e,t){return C.resolve(0)}getFieldIndexes(e,t){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,t){return C.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,t){return C.resolve(Ar.min())}updateCollectionGroup(e,t,r){return C.resolve()}updateIndexEntries(e,t){return C.resolve()}}class XM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ut(Re.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Re.comparator)).toArray()}}new Uint8Array(0);class Vn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(41943040,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);class Qa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qa(0)}static Mn(){return new Qa(-1)}}class FIe{constructor(){this.changes=new Os(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?C.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BIe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class YW{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&cf(r.mutation,i,ur.empty(),yt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ye()){const i=zi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=sf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=zi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ye()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=dr();const o=af(),a=af();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof ks)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),cf(u.mutation,c,u.mutation.getFieldMask(),yt.now())):o.set(c.key,ur.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new BIe(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=af();let i=new ot((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||ur.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=jG();u.forEach(h=>{if(!s.has(h)){const f=XG(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return U.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function xM(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):C.resolve(zi());let a=-1,l=s;return o.next(c=>C.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ye())).next(u=>({batchId:a,changes:$G(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new U(t)).next(r=>{let i=sf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=sf();return this.indexManager.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const l=(c=t,u=a.child(i),new Ms(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,dt.newInvalidDocument(c)))});let o=sf();return s.forEach((a,l)=>{const c=i.get(a);void 0!==c&&cf(c.mutation,l,ur.empty(),yt.now()),rf(t,l)&&(o=o.insert(a,l))}),o})}}class UIe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return C.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Ut(r.createTime)}),C.resolve()}getNamedQuery(e,t){return C.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:GM(r.bundledQuery),readTime:Ut(r.readTime)}),C.resolve();var r}}class $Ie{constructor(){this.overlays=new ot(U.comparator),this.ls=new Map}getOverlay(e,t){return C.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zi();return C.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),C.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),C.resolve()}getOverlaysForCollection(e,t,r){const i=zi(),s=t.length+1,o=new U(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return C.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ot((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=zi(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=zi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return C.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LM(t,r));let s=this.ls.get(t);void 0===s&&(s=ye(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class JM{constructor(){this.fs=new ut(_n.ds),this.ws=new ut(_n._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new _n(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new _n(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new U(new Re([])),r=new _n(t,e),i=new _n(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new U(new Re([])),r=new _n(t,e),i=new _n(t,e+1);let s=ye();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new _n(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class _n{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return U.comparator(e.key,t.key)||ae(e.As,t.As)}static _s(e,t){return ae(e.As,t.As)||U.comparator(e.key,t.key)}}class jIe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ut(_n.ds)}checkEmpty(e){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new PM(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new _n(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,t){return C.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _n(t,0),i=new _n(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(ae);return t.forEach(i=>{const s=new _n(i,0),o=new _n(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),C.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new _n(new U(s),0);let a=new ut(ae);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),C.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Y(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return C.forEach(t.mutations,i=>{const s=new _n(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new _n(t,0),i=this.Rs.firstAfterOrEqual(r);return C.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zIe{constructor(e){this.Ds=e,this.docs=new ot(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return C.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(t))}getEntries(e,t){let r=dr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dt.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=dr();const o=t.path,a=new U(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||yM(rG(u),r)<=0||(i.has(u.key)||rf(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(e,t,r,i){q()}Cs(e,t){return C.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HIe(this)}getSize(e){return C.resolve(this.size)}}class HIe extends FIe{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),C.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class GIe{constructor(e){this.persistence=e,this.xs=new Os(t=>$a(t),tf),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Ns=0,this.ks=new JM,this.targetCount=0,this.Ms=Qa.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),C.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Qa(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,C.resolve()}updateTargetData(e,t){return this.Fn(t),C.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return C.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),C.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),C.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return C.resolve(r)}containsKey(e,t){return C.resolve(this.ks.containsKey(t))}}class ZM{constructor(e,t){this.$s={},this.overlays={},this.Os=new xr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new GIe(this),this.indexManager=new MIe,this.remoteDocumentCache=new zIe(r=>this.referenceDelegate.Ls(r)),this.serializer=new CW(t),this.qs=new UIe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $Ie,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new jIe(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){R("MemoryPersistence","Starting transaction:",e);const i=new WIe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return C.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class WIe extends fDe{constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.Qs=new JM,this.js=null}static zs(e){return new nv(e)}get Ws(){if(this.js)return this.js;throw q()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),C.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),C.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Ws,r=>{const i=U.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,Q.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return C.or([()=>C.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class r1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=ye(),i=ye();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new r1(e,t.fromCache,r,i)}}class XW{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(FG(t))return C.resolve(null);let r=er(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=zy(t,null,"F"),r=er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(t,a);return this.zi(t,c,o,l.readTime)?this.Ki(e,zy(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,r,i){return FG(t)||i.isEqual(Q.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(gM()<=ke.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),OM(t)),this.Wi(e,o,t,function nG(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(1e9===r?new yt(t+1,0):new yt(t,r));return new Ar(i,U.empty(),e)}(i,-1)))})}ji(e,t){let r=new ut(BG(e));return t.forEach((i,s)=>{rf(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return gM()<=ke.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",OM(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ar.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class KIe{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new ot(ae),this.Yi=new Os(s=>$a(s),tf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YW(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function ZW(n,e){return s1.apply(this,arguments)}function s1(){return s1=v(function*(n,e){const t=$(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ye();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),s1.apply(this,arguments)}function e8(n){const e=$(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function iu(n,e,t){return o1.apply(this,arguments)}function o1(){return o1=v(function*(n,e,t){const r=$(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!yo(o))throw o;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),o1.apply(this,arguments)}function sv(n,e,t){const r=$(n);let i=Q.min(),s=ye();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=$(a),d=u.Yi.get(c);return void 0!==d?C.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(r,o,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:Q.min(),t?s:ye())).next(a=>(function i8(n,e,t){let r=n.Xi.get(e)||Q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function VG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class d1{constructor(){this.activeTargetIds=function kM(){return JDe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a8{constructor(){this.Hr=new d1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new d1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eSe{Yr(e){}shutdown(){}}class l8{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lv=null;function f1(){return null===lv?lv=268435456+Math.round(2147483648*Math.random()):lv++,"0x"+lv.toString(16)}const tSe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nSe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Bn="WebChannelConnection";class rSe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=f1(),a=this.To(e,t);R("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(R("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw fi("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+jc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${tSe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=f1();return new Promise((o,a)=>{const l=new tDe;l.setWithCredentials(!0),l.listenOnce(JCe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pM.NO_ERROR:const u=l.getResponseJson();R(Bn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case pM.TIMEOUT:R(Bn,`RPC '${e}' ${s} timed out`),a(new O(T.DEADLINE_EXCEEDED,"Request time out"));break;case pM.HTTP_ERROR:const d=l.getStatus();if(R(Bn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(g)>=0?g:T.UNKNOWN}(f.status);a(new O(p,f.message))}else a(new O(T.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new O(T.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{R(Bn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);R(Bn,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=f1(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QCe(),a=XCe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new eDe({})),this.Eo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");R(Bn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new nSe({ro:g=>{f?R(Bn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||(R(Bn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),R(Bn,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},oo:()=>d.close()}),m=(g,_,b)=>{g.listen(_,y=>{try{b(y)}catch(D){setTimeout(()=>{throw D},0)}})};return m(d,xy.EventType.OPEN,()=>{f||R(Bn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,xy.EventType.CLOSE,()=>{f||(f=!0,R(Bn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,xy.EventType.ERROR,g=>{f||(f=!0,fi(Bn,`RPC '${e}' stream ${i} transport errored:`,g),p.wo(new O(T.UNAVAILABLE,"The operation could not be completed")))}),m(d,xy.EventType.MESSAGE,g=>{var _;if(!f){const b=g.data[0];Y(!!b);const D=b.error||(null===(_=b[0])||void 0===_?void 0:_.error);if(D){R(Bn,`RPC '${e}' stream ${i} received error:`,D);const k=D.status;let F=function(fe){const Fe=Qt[fe];if(void 0!==Fe)return rW(Fe)}(k),ee=D.message;void 0===F&&(F=T.INTERNAL,ee="Unknown error status: "+k+" with message "+D.message),f=!0,p.wo(new O(F,ee)),d.close()}else R(Bn,`RPC '${e}' stream ${i} received:`,b),p._o(b)}}),m(a,ZCe.STAT_EVENT,g=>{g.stat===Q6.PROXY?R(Bn,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===Q6.NOPROXY&&R(Bn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function cv(){return typeof document<"u"?document:null}function Df(n){return new hIe(n,!0)}class p1{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class iSe{constructor(e,t,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new p1(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return v(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return v(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return v(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===T.RESOURCE_EXHAUSTED?(Vt(t.toString()),Vt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===T.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new O(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(v(function*(){e.state=0,e.start()}))}tu(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sSe extends iSe{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function gIe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:q(),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Y(void 0===c||"string"==typeof c),nn.fromBase64String(c||"")):(Y(void 0===c||c instanceof Uint8Array),nn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?T.UNKNOWN:rW(l.code);return new O(c,l.message||"")}(o);t=new lW(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Hi(n,r.document.name),s=Ut(r.document.updateTime),o=r.document.createTime?Ut(r.document.createTime):Q.min(),a=new Tn({mapValue:{fields:r.document.fields}}),l=dt.newFoundDocument(i,s,o,a);t=new qy(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Hi(n,r.document),s=r.readTime?Ut(r.readTime):Q.min(),o=dt.newNoDocument(i,s);t=new qy([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Hi(n,r.document);t=new qy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return q();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new oIe(i,s);t=new aW(r.targetId,o)}}var l;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?Ut(s.readTime):Q.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=pf(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=Uy(a)?{documents:yW(i,a)}:{query:HM(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function hW(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const l=UM(i,s.expectedCount);null!==l&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(Q.min())>0){o.readTime=function Zc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const l=UM(i,s.expectedCount);null!==l&&(o.expectedCount=l)}return o}(this.serializer,e);const r=function _Ie(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=pf(this.serializer),t.removeTarget=e,this.Wo(t)}}class aSe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new O(T.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new O(T.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(T.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class cSe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vt(t),this.mu=!1):R("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class uSe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(v(function*(){var l;xo(o)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(l=v(function*(c){const u=$(c);u.vu.add(4),yield su(u),u.bu.set("Unknown"),u.vu.delete(4),yield If(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.bu=new cSe(r,i)}}function If(n){return m1.apply(this,arguments)}function m1(){return m1=v(function*(n){if(xo(n))for(const e of n.Ru)yield e(!0)}),m1.apply(this,arguments)}function su(n){return _1.apply(this,arguments)}function _1(){return _1=v(function*(n){for(const e of n.Ru)yield e(!1)}),_1.apply(this,arguments)}function uv(n,e){const t=$(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),b1(t)?v1(t):au(t).Ko()&&y1(t,e))}function Sf(n,e){const t=$(n),r=au(t);t.Au.delete(e),r.Ko()&&u8(t,e),0===t.Au.size&&(r.Ko()?r.jo():xo(t)&&t.bu.set("Unknown"))}function y1(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}au(n).su(e)}function u8(n,e){n.Vu.qt(e),au(n).iu(e)}function v1(n){n.Vu=new lIe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),au(n).start(),n.bu.gu()}function b1(n){return xo(n)&&!au(n).Uo()&&n.Au.size>0}function xo(n){return 0===$(n).vu.size}function d8(n){n.Vu=void 0}function dSe(n){return w1.apply(this,arguments)}function w1(){return w1=v(function*(n){n.Au.forEach((e,t)=>{y1(n,e)})}),w1.apply(this,arguments)}function hSe(n,e){return E1.apply(this,arguments)}function E1(){return E1=v(function*(n,e){d8(n),b1(n)?(n.bu.Iu(e),v1(n)):n.bu.set("Unknown")}),E1.apply(this,arguments)}function fSe(n,e,t){return C1.apply(this,arguments)}function C1(){return C1=v(function*(n,e,t){if(n.bu.set("Online"),e instanceof lW&&2===e.state&&e.cause)try{yield(r=v(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dv(n,r)}else if(e instanceof qy?n.Vu.Ht(e):e instanceof aW?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Q.min()))try{const r=yield e8(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(nn.EMPTY_BYTE_STRING,c.snapshotVersion)),u8(i,a);const u=new Rs(c.target,a,l,c.sequenceNumber);y1(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){R("RemoteStore","Failed to raise snapshot:",r),yield dv(n,r)}var r}),C1.apply(this,arguments)}function dv(n,e,t){return D1.apply(this,arguments)}function D1(){return D1=v(function*(n,e,t){if(!yo(e))throw e;n.vu.add(1),yield su(n),n.bu.set("Offline"),t||(t=()=>e8(n.localStore)),n.asyncQueue.enqueueRetryable(v(function*(){R("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield If(n)}))}),D1.apply(this,arguments)}function g8(n,e){return M1.apply(this,arguments)}function M1(){return M1=v(function*(n,e){const t=$(n);t.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const r=xo(t);t.vu.add(3),yield su(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield If(t)}),M1.apply(this,arguments)}function k1(){return k1=v(function*(n,e){const t=$(n);e?(t.vu.delete(2),yield If(t)):e||(t.vu.add(2),yield su(t),t.bu.set("Unknown"))}),k1.apply(this,arguments)}function au(n){return n.Su||(n.Su=function(e,t,r){const i=$(e);return i.fu(),new sSe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:dSe.bind(null,n),ao:hSe.bind(null,n),nu:fSe.bind(null,n)}),n.Ru.push(function(){var e=v(function*(t){t?(n.Su.Qo(),b1(n)?v1(n):n.bu.set("Unknown")):(yield n.Su.stop(),d8(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}class R1{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new R1(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new O(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lu(n,e){if(Vt("AsyncQueue",`${e}: ${n}`),yo(n))return new O(T.UNAVAILABLE,`${e}: ${n}`);throw n}class cu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||U.comparator(t.key,r.key):(t,r)=>U.comparator(t.key,r.key),this.keyedMap=sf(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new cu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class m8{constructor(){this.Cu=new ot(U.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):q():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class uu{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new uu(e,t,cu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class bSe{constructor(){this.Nu=void 0,this.listeners=[]}}class wSe{constructor(){this.queries=new Os(e=>LG(e),nf),this.onlineState="Unknown",this.ku=new Set}}function P1(){return P1=v(function*(n,e){const t=$(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new bSe),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=lu(o,`Initialization of query '${OM(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&V1(t)}),P1.apply(this,arguments)}function L1(){return L1=v(function*(n,e){const t=$(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),L1.apply(this,arguments)}function ESe(n,e){const t=$(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&V1(t)}function CSe(n,e,t){const r=$(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function V1(n){n.ku.forEach(e=>{e.next()})}class B1{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class v8{constructor(e){this.key=e}}class b8{constructor(e){this.key=e}}class w8{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ye(),this.mutatedKeys=ye(),this.tc=BG(e),this.ec=new cu(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new m8,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=rf(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),g=!0):this.rc(h,f)||(r.track({type:2,doc:f}),g=!0,(l&&this.tc(f,l)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),g=!0):h&&!f&&(r.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==s.length||l?{snapshot:new uu(this.query,e.ec,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new m8,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ye(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new b8(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new v8(r))}),t}hc(e){this.Yu=e.ir,this.Zu=ye();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return uu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class SSe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class TSe{constructor(e){this.key=e,this.fc=!1}}class ASe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Os(a=>LG(a),nf),this._c=new Map,this.mc=new Set,this.gc=new ot(U.comparator),this.yc=new Map,this.Ic=new JM,this.Tc={},this.Ec=new Map,this.Ac=Qa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function xSe(n,e){return U1.apply(this,arguments)}function U1(){return U1=v(function*(n,e){const t=function cO(n){const e=$(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=E8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kSe.bind(null,e),e.dc.nu=ESe.bind(null,e.eventManager),e.dc.Pc=CSe.bind(null,e.eventManager),e}(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function ru(n,e){const t=$(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Rs(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,er(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function $1(n,e,t,r,i){return j1.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&uv(t.remoteStore,o)}return i}),U1.apply(this,arguments)}function j1(){return j1=v(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=v(function*(m,g,_,b){let y=g.view.sc(_);y.zi&&(y=yield sv(m.localStore,g.query,!1).then(({documents:F})=>g.view.sc(F,y)));const D=b&&b.targetChanges.get(g.targetId),k=g.view.applyChanges(y,m.isPrimaryClient,D);return J1(m,g.targetId,k.cc),k.snapshot}),function(m,g,_,b){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield sv(n.localStore,e,!0),o=new w8(e,s.ir),a=o.sc(s.documents),l=hf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);J1(n,t,c.cc);const u=new SSe(e,t,o);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),j1.apply(this,arguments)}function MSe(n,e){return z1.apply(this,arguments)}function z1(){return z1=v(function*(n,e){const t=$(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!nf(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield iu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Sf(t.remoteStore,r.targetId),du(t,r.targetId)}).catch(_o))):(du(t,r.targetId),yield iu(t.localStore,r.targetId,!0))}),z1.apply(this,arguments)}function E8(n,e){return G1.apply(this,arguments)}function G1(){return G1=v(function*(n,e){const t=$(n);try{const r=yield function QIe(n,e){const t=$(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,g;null!==e.targetMismatches.get(d)?f=f.withResumeToken(nn.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),m=f,g=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let l=dr(),c=ye();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function t8(n,e,t){let r=ye(),i=ye();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=dr();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(Q.min())){const u=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Y(o.fc):i.removedDocuments.size>0&&(Y(o.fc),o.fc=!1))}),yield Ns(t,r,e)}catch(r){yield _o(r)}}),G1.apply(this,arguments)}function C8(n,e,t){const r=$(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=$(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&V1(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kSe(n,e,t){return W1.apply(this,arguments)}function W1(){return W1=v(function*(n,e,t){const r=$(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ot(U.comparator);o=o.insert(s,dt.newNoDocument(s,Q.min()));const a=ye().add(s),l=new df(Q.min(),new Map,new ot(ae),o,a);yield E8(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),Z1(r)}else yield iu(r.localStore,e,!1).then(()=>du(r,e,t)).catch(_o)}),W1.apply(this,arguments)}function du(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||D8(n,r)})}function D8(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Sf(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Z1(n))}function J1(n,e,t){for(const r of t)r instanceof v8?(n.Ic.addReference(r.key,e),FSe(n,r)):r instanceof b8?(R("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||D8(n,r.key)):q()}function FSe(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(R("SyncEngine","New document in limbo: "+t),n.mc.add(r),Z1(n))}function Z1(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new U(Re.fromString(e)),r=n.Ac.next();n.yc.set(r,new TSe(t)),n.gc=n.gc.insert(t,r),uv(n.remoteStore,new Rs(er(Kc(t.path)),r,"TargetPurposeLimboResolution",xr.ct))}}function Ns(n,e,t){return eO.apply(this,arguments)}function eO(){return eO=v(function*(n,e,t){const r=$(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=r1.Li(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=v(function*(l,c){const u=$(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(c,h=>C.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!yo(d))throw d;R("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),eO.apply(this,arguments)}function LSe(n,e){return tO.apply(this,arguments)}function tO(){return tO=v(function*(n,e){const t=$(n);if(!t.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const r=yield ZW(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new O(T.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ns(t,r.er)}var i}),tO.apply(this,arguments)}function VSe(n,e){const t=$(n),r=t.yc.get(e);if(r&&r.fc)return ye().add(r.key);{let i=ye();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class hv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return v(function*(){t.serializer=Df(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function JW(n,e,t,r){return new KIe(n,e,t,r)}(this.persistence,new XW,e.initialUser,this.serializer)}createPersistence(e){return new ZM(nv.zs,this.serializer)}createSharedClientState(e){return new a8}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hu{initialize(e,t){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>C8(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=LSe.bind(null,r.syncEngine),yield function O1(n,e){return k1.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wSe}createDatastore(e){const t=Df(e.databaseInfo.databaseId),r=new rSe(e.databaseInfo);return new aSe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>C8(this.syncEngine,a,0),o=l8.D()?new l8:new eSe,new uSe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new ASe(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=v(function*(t){const r=$(t);R("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield su(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class fv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Vt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class XSe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=eG.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){R("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(R("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=lu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function pv(n,e){return dO.apply(this,arguments)}function dO(){return dO=v(function*(n,e){n.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield ZW(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),dO.apply(this,arguments)}function hO(n,e){return fO.apply(this,arguments)}function fO(){return fO=v(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function pO(n){return gO.apply(this,arguments)}(n);R("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>g8(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>g8(e.remoteStore,s)),n._onlineComponents=e}),fO.apply(this,arguments)}function gO(){return gO=v(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function M8(n){return"FirebaseError"===n.name?n.code===T.FAILED_PRECONDITION||n.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;fi("Error using user provided cache. Falling back to memory cache: "+t),yield pv(n,new hv)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield pv(n,new hv);return n._offlineComponents}),gO.apply(this,arguments)}function mO(){return mO=v(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield hO(n,n._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield hO(n,new hu))),n._onlineComponents}),mO.apply(this,arguments)}function yO(){return yO=v(function*(n){const e=yield function gv(n){return mO.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=xSe.bind(null,e.syncEngine),t.onUnlisten=MSe.bind(null,e.syncEngine),t}),yO.apply(this,arguments)}function N8(n,e,t={}){const r=new tn;return n.asyncQueue.enqueueAndForget(v(function*(){return function(i,s,o,a,l){const c=new fv({next:d=>{s.enqueueAndForget(()=>function F1(n,e){return L1.apply(this,arguments)}(i,u));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new O(T.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?l.reject(new O(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new B1(Kc(o.path),c,{includeMetadataChanges:!0,Ku:!0});return function N1(n,e){return P1.apply(this,arguments)}(i,u)}(yield function fu(n){return yO.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function F8(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const L8=new Map;function V8(n){if(!U.isDocumentKey(n))throw new O(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function _v(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":q()}(n);throw new O(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class $8{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new O(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new O(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function oTe(n,e,t,r){if(!0===e&&!0===r)throw new O(T.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=F8(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new O(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new O(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new O(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new O(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $8(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new rDe;switch(t.type){case"firstParty":return new aDe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new O(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=L8.get(e);t&&(R("ComponentProvider","Removing Datastore"),L8.delete(e),t.terminate())}(this),Promise.resolve()}}class $t{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class An{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new An(this.firestore,e,this._query)}}class Gi extends An{constructor(e,t,r){super(e,t,Kc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new U(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function j8(n,e,...t){if(n=ha(n),1===arguments.length&&(e=eG.A()),function vO(n,e,t){if(!t)throw new O(T.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("doc","path",e),n instanceof Tf){const r=Re.fromString(e,...t);return V8(r),new $t(n,null,new U(r))}{if(!(n instanceof $t||n instanceof Gi))throw new O(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Re.fromString(e,...t));return V8(r),new $t(n.firestore,n instanceof Gi?n.converter:null,new U(r))}}class lTe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new p1(this,"async_queue_retry"),this.Xc=()=>{const t=cv();t&&R("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=cv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=cv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new tn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return v(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!yo(t))throw t;R("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Vt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=R1.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&q()}verifyOperationInProgress(){}sa(){var e=this;return v(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class ht extends Tf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new lTe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||H8(this),this._firestoreClient.terminate()}}function uTe(n,e){const r="string"==typeof n?n:e||"(default)",i=n_("object"==typeof n?n:aD(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=cde("firestore");s&&function aTe(n,e,t,r={}){var i;const s=(n=xe(n,Tf))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=gn.MOCK_USER;else{a=function ude(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Km(JSON.stringify({alg:"none",type:"JWT"})),Km(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new O(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gn(c)}n._authCredentials=new iDe(new J6(a,l))}}(i,...s)}return i}function H8(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new LDe(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,F8(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new XSe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(nn.fromBase64String(e))}catch(t){throw new O(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ja(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new O(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wO{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}const yTe=new RegExp("[~\\*/\\[\\]]");function bv(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new O(T.INVALID_ARGUMENT,a+n+l)}class IO{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vTe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vTe extends IO{data(){return super.data()}}function wv(n,e){return"string"==typeof e?function vv(n,e,t){if(e.search(yTe)>=0)throw bv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pu(...e.split("."))._internalPath}catch{throw bv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof pu?e._internalPath:e._delegate._internalPath}class wTe{convertValue(e,t="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw q()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new wO(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Fy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xh(e));default:return null}}convertTimestamp(e){const t=bo(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Re.fromString(e);Y(EW(r));const i=new Ba(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(t)||Vt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _u extends IO{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Iv extends _u{data(e={}){return super.data(e)}}function DTe(n){n=xe(n,$t);const e=xe(n.firestore,ht);return N8(function Xt(n){return n._firestoreClient||H8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(e),n._key).then(t=>function AO(n,e,t){const r=t.docs.get(e._key),i=new Oo(n);return new _u(n,i,e._key,r,new el(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Oo extends wTe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,t)}}!function(n,e=!0){jc=Ic,Dc(new fa("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new ht(new sDe(t.getProvider("auth-internal")),new lDe(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new O(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ir(X6,"3.13.0",n),Ir(X6,"3.13.0","esm2017")}();class Tv{constructor(e){return e}}const dq="firestore",xO=new P("angularfire2.firestore-instances");function VTe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Tv(r)}}const BTe={provide:class FTe{constructor(){return US(dq)}},deps:[[new zt,xO]]},UTe={provide:Tv,useFactory:function LTe(n,e){const t=BS(dq,n,e);return t&&new Tv(t)},deps:[[new zt,xO],Mc]};let $Te=(()=>{class n{constructor(){Ir("angularfire",x_.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({providers:[UTe,BTe]}),n})();function jTe(n,...e){return{ngModule:$Te,providers:[{provide:xO,useFactory:VTe(n),multi:!0,deps:[pe,Ht,$S,jS,[new zt,N3],[new zt,yT],...e]}]}}const MO=uh(j8,!0),OO=uh(DTe,!0),zTe=uh(uTe,!0);let hq=(()=>{class n{constructor(){this._listeners=[]}notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HTe=0;const kO=new P("CdkAccordion");let GTe=(()=>{class n{constructor(){this._stateChanges=new Ie,this._openCloseAllActions=new Ie,this.id="cdk-accordion-"+HTe++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=sa(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[qe([{provide:kO,useExisting:n}]),Wn]}),n})(),WTe=0,qTe=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=sa(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=sa(t)}constructor(t,r,i){this.accordion=t,this._changeDetectorRef=r,this._expansionDispatcher=i,this._openCloseAllSubscription=xt.EMPTY,this.closed=new ze,this.opened=new ze,this.destroyed=new ze,this.expandedChange=new ze,this.id="cdk-accordion-child-"+WTe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=i.listen((s,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(w(kO,12),w(Ys),w(hq))},n.\u0275dir=X({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[qe([{provide:kO,useValue:void 0}])]}),n})(),KTe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({}),n})();const YTe=["body"];function QTe(n,e){}const XTe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],JTe=["mat-expansion-panel-header","*","mat-action-row"];function ZTe(n,e){1&n&&Br(0,"span",2),2&n&&ri("@indicatorRotate",od()._getExpandedState())}const eAe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],tAe=["mat-panel-title","mat-panel-description","*"],RO=new P("MAT_ACCORDION"),fq="225ms cubic-bezier(0.4,0.0,0.2,1)",pq={indicatorRotate:yC("indicatorRotate",[bc("collapsed, void",ki({transform:"rotate(0deg)"})),bc("expanded",ki({transform:"rotate(180deg)"})),Sm("expanded <=> collapsed, void => collapsed",Im(fq))]),bodyExpansion:yC("bodyExpansion",[bc("collapsed, void",ki({height:"0px",visibility:"hidden"})),bc("expanded",ki({height:"*",visibility:"visible"})),Sm("expanded <=> collapsed, void => collapsed",Im(fq))])},gq=new P("MAT_EXPANSION_PANEL");let nAe=(()=>{class n{constructor(t,r){this._template=t,this._expansionPanel=r}}return n.\u0275fac=function(t){return new(t||n)(w(oi),w(gq,8))},n.\u0275dir=X({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),rAe=0;const mq=new P("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let _q=(()=>{class n extends qTe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=sa(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,r,i,s,o,a,l){super(t,r,i),this._viewContainerRef=s,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new ze,this.afterCollapse=new ze,this._inputChanges=new Ie,this._headerId="mat-expansion-panel-header-"+rAe++,this._bodyAnimationDone=new Ie,this.accordion=t,this._document=o,this._bodyAnimationDone.pipe(gU((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ta(null),Pt(()=>this.expanded&&!this._portal),ar(1)).subscribe(()=>{this._portal=new dC(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,r=this._body.nativeElement;return t===r||r.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(w(RO,12),w(Ys),w(hq),w(wr),w(ge),w(Jo,8),w(mq,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,r,i){if(1&t&&Jl(i,nAe,5),2&t){let s;ls(s=cs())&&(r._lazyContent=s.first)}},viewQuery:function(t,r){if(1&t&&ug(YTe,5),2&t){let i;ls(i=cs())&&(r._body=i.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,r){2&t&&Ur("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[qe([{provide:RO,useValue:void 0},{provide:gq,useExisting:n}]),Ce,Wn],ngContentSelectors:JTe,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,r){1&t&&(Ws(XTe),br(0),Oe(1,"div",0,1),kt("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),Oe(3,"div",2),br(4,1),Gs(5,QTe,0,0,"ng-template",3),je(),br(6,2),je()),2&t&&(Lr(1),ri("@bodyExpansion",r._getExpandedState())("id",r.id),bn("aria-labelledby",r._headerId),Lr(4),ri("cdkPortalOutlet",r._portal))},dependencies:[_m],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[pq.bodyExpansion]},changeDetection:0}),n})();class iAe{}const sAe=Vle(iAe);let yq=(()=>{class n extends sAe{constructor(t,r,i,s,o,a,l){super(),this.panel=t,this._element=r,this._focusMonitor=i,this._changeDetectorRef=s,this._animationMode=a,this._parentChangeSubscription=xt.EMPTY;const c=t.accordion?t.accordion._stateChanges.pipe(Pt(u=>!(!u.hideToggle&&!u.togglePosition))):Xr;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=np(t.opened,t.closed,c,t._inputChanges.pipe(Pt(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Pt(()=>t._containsFocus())).subscribe(()=>i.focusVia(r,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:vm(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,r){t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(w(_q,1),w(Qe),w(Em),w(Ys),w(mq,8),w(Jo,8),Cl("tabindex"))},n.\u0275cmp=Mt({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,r){1&t&&kt("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&t&&(bn("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),ad("height",r._getHeaderHeight()),Ur("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Ce],ngContentSelectors:tAe,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,r){1&t&&(Ws(eAe),Oe(0,"span",0),br(1),br(2,1),br(3,2),je(),Gs(4,ZTe,1,1,"span",1)),2&t&&(Ur("mat-content-hide-toggle",!r._showToggle()),Lr(4),ri("ngIf",r._showToggle()))},dependencies:[lE],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[pq.indicatorRotate]},changeDetection:0}),n})(),oAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),aAe=(()=>{class n extends GTe{constructor(){super(...arguments),this._ownHeaders=new Xl,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=sa(t)}ngAfterContentInit(){this._headers.changes.pipe(ta(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(r=>r.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new dle(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ln(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,r,i){if(1&t&&Jl(i,yq,5),2&t){let s;ls(s=cs())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,r){2&t&&Ur("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[qe([{provide:RO,useExisting:n}]),Ce]}),n})(),lAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[fE,ui,KTe,Wd]}),n})();const vq=["*"];class uAe{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(r=>this._trackTile(r))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new dAe(this.rowIndex,t)}_findMatchingGap(e){let t=-1,r=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),r=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(r=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),r=this._findGapEndIndex(t)))}while(r-t<e||0==r);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let r=0;r<t.colspan;r++)this.tracker[e+r]=t.rowspan}}class dAe{constructor(e,t){this.row=e,this.col=t}}const bq=new P("MAT_GRID_LIST");let wq=(()=>{class n{constructor(t,r){this._element=t,this._gridList=r,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(pc(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(pc(t))}_setStyle(t,r){this._element.nativeElement.style[t]=r}}return n.\u0275fac=function(t){return new(t||n)(w(Qe),w(bq,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,r){2&t&&bn("rowspan",r.rowspan)("colspan",r.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:vq,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,r){1&t&&(Ws(),Oe(0,"div",0),br(1),je())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const hAe=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class NO{constructor(){this._rows=0,this._rowspan=0}init(e,t,r,i){this._gutterSize=Eq(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=r,this._direction=i}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":tl(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,r){let i=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(e,r,i,s),this.setRowStyles(e,t,i,s)}setColStyles(e,t,r,i){let s=this.getBaseTileSize(r,i);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,t)),e._setStyle("width",tl(this.getTileSize(s,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class fAe extends NO{constructor(e){super(),this.fixedRowHeight=e}init(e,t,r,i){super.init(e,t,r,i),this.fixedRowHeight=Eq(this.fixedRowHeight),hAe.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",tl(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",tl(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class pAe extends NO{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,r,i){this.baseTileHeight=this.getBaseTileSize(r/this.rowHeightRatio,i),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",tl(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",tl(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class gAe extends NO{setRowStyles(e,t){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(s,t)),e._setStyle("height",tl(this.getTileSize(s,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function tl(n){return`calc(${n})`}function Eq(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let _Ae=(()=>{class n{constructor(t,r){this._element=t,this._dir=r,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(pc(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const r=`${t??""}`;r!==this._rowHeight&&(this._rowHeight=r,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new gAe:t&&t.indexOf(":")>-1?new pAe(t):new fAe(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new uAe);const t=this._tileCoordinator,r=this._tiles.filter(s=>!s._gridList||s._gridList===this),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,r),this._tileStyler.init(this.gutterSize,t,this.cols,i),r.forEach((s,o)=>{const a=t.positions[o];this._tileStyler.setStyle(s,a.row,a.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return n.\u0275fac=function(t){return new(t||n)(w(Qe),w(aa,8))},n.\u0275cmp=Mt({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,r,i){if(1&t&&Jl(i,wq,5),2&t){let s;ls(s=cs())&&(r._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,r){2&t&&bn("cols",r.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[qe([{provide:bq,useExisting:n}])],ngContentSelectors:vq,decls:2,vars:0,template:function(t,r){1&t&&(Ws(),Oe(0,"div"),br(1),je())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),yAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({imports:[NU,ui,NU,ui]}),n})();function vAe(){}function PO(n){return null==n?vAe:function(){return this.querySelector(n)}}function EAe(){return[]}function Cq(n){return null==n?EAe:function(){return this.querySelectorAll(n)}}function Dq(n){return function(){return this.matches(n)}}function Iq(n){return function(e){return e.matches(n)}}var IAe=Array.prototype.find;function TAe(){return this.firstElementChild}var xAe=Array.prototype.filter;function MAe(){return Array.from(this.children)}function Sq(n){return new Array(n.length)}function Av(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}function FAe(n,e,t,r,i,s){for(var a,o=0,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):t[o]=new Av(n,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function LAe(n,e,t,r,i,s,o){var a,l,f,c=new Map,u=e.length,d=s.length,h=new Array(u);for(a=0;a<u;++a)(l=e[a])&&(h[a]=f=o.call(l,l.__data__,a,e)+"",c.has(f)?i[a]=l:c.set(f,l));for(a=0;a<d;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(r[a]=l,l.__data__=s[a],c.delete(f)):t[a]=new Av(n,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(h[a])===l&&(i[a]=l)}function VAe(n){return n.__data__}function UAe(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function WAe(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}Av.prototype={constructor:Av,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var FO="http://www.w3.org/1999/xhtml";const Tq={svg:"http://www.w3.org/2000/svg",xhtml:FO,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xv(n){var e=n+="",t=e.indexOf(":");return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),Tq.hasOwnProperty(e)?{space:Tq[e],local:n}:n}function ZAe(n){return function(){this.removeAttribute(n)}}function exe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function txe(n,e){return function(){this.setAttribute(n,e)}}function nxe(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function rxe(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}function ixe(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function Aq(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function oxe(n){return function(){this.style.removeProperty(n)}}function axe(n,e,t){return function(){this.style.setProperty(n,e,t)}}function lxe(n,e,t){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function vu(n,e){return n.style.getPropertyValue(e)||Aq(n).getComputedStyle(n,null).getPropertyValue(e)}function uxe(n){return function(){delete this[n]}}function dxe(n,e){return function(){this[n]=e}}function hxe(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}function xq(n){return n.trim().split(/^|\s+/)}function LO(n){return n.classList||new Mq(n)}function Mq(n){this._node=n,this._names=xq(n.getAttribute("class")||"")}function Oq(n,e){for(var t=LO(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function kq(n,e){for(var t=LO(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function pxe(n){return function(){Oq(this,n)}}function gxe(n){return function(){kq(this,n)}}function mxe(n,e){return function(){(e.apply(this,arguments)?Oq:kq)(this,n)}}function yxe(){this.textContent=""}function vxe(n){return function(){this.textContent=n}}function bxe(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function Exe(){this.innerHTML=""}function Cxe(n){return function(){this.innerHTML=n}}function Dxe(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function Sxe(){this.nextSibling&&this.parentNode.appendChild(this)}function Axe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mxe(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===FO&&e.documentElement.namespaceURI===FO?e.createElement(n):e.createElementNS(t,n)}}function Oxe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Rq(n){var e=xv(n);return(e.local?Oxe:Mxe)(e)}function Rxe(){return null}function Pxe(){var n=this.parentNode;n&&n.removeChild(this)}function Lxe(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Vxe(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function zxe(n){return function(){var e=this.__on;if(e){for(var s,t=0,r=-1,i=e.length;t<i;++t)s=e[t],n.type&&s.type!==n.type||s.name!==n.name?e[++r]=s:this.removeEventListener(s.type,s.listener,s.options);++r?e.length=r:delete this.__on}}}function Hxe(n,e,t){return function(){var i,r=this.__on,s=function $xe(n){return function(e){n.call(this,e,this.__data__)}}(e);if(r)for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===n.type&&i.name===n.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=t),void(i.value=e);this.addEventListener(n.type,s,t),i={type:n.type,name:n.name,value:e,listener:s,options:t},r?r.push(i):this.__on=[i]}}function Nq(n,e,t){var r=Aq(n),i=r.CustomEvent;"function"==typeof i?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function Wxe(n,e){return function(){return Nq(this,n,e)}}function qxe(n,e){return function(){return Nq(this,n,e.apply(this,arguments))}}Mq.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var Pq=[null];function Mr(n,e){this._groups=n,this._parents=e}function Fq(){return new Mr([[document.documentElement]],Pq)}Mr.prototype=Fq.prototype={constructor:Mr,select:function bAe(n){"function"!=typeof n&&(n=PO(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var l,c,s=e[i],o=s.length,a=r[i]=new Array(o),u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Mr(r,this._parents)},selectAll:function DAe(n){n="function"==typeof n?function CAe(n){return function(){return function wAe(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):Cq(n);for(var e=this._groups,t=e.length,r=[],i=[],s=0;s<t;++s)for(var l,o=e[s],a=o.length,c=0;c<a;++c)(l=o[c])&&(r.push(n.call(l,l.__data__,c,o)),i.push(l));return new Mr(r,i)},selectChild:function AAe(n){return this.select(null==n?TAe:function SAe(n){return function(){return IAe.call(this.children,n)}}("function"==typeof n?n:Iq(n)))},selectChildren:function kAe(n){return this.selectAll(null==n?MAe:function OAe(n){return function(){return xAe.call(this.children,n)}}("function"==typeof n?n:Iq(n)))},filter:function RAe(n){"function"!=typeof n&&(n=Dq(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var l,s=e[i],o=s.length,a=r[i]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Mr(r,this._parents)},data:function BAe(n,e){if(!arguments.length)return Array.from(this,VAe);var t=e?LAe:FAe,r=this._parents,i=this._groups;"function"!=typeof n&&(n=function PAe(n){return function(){return n}}(n));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],d=i[c],h=d.length,f=UAe(n.call(u,u&&u.__data__,c,r)),p=f.length,m=a[c]=new Array(p),g=o[c]=new Array(p);t(u,d,m,g,l[c]=new Array(h),f,e);for(var D,k,b=0,y=0;b<p;++b)if(D=m[b]){for(b>=y&&(y=b+1);!(k=g[y])&&++y<p;);D._next=k||null}}return(o=new Mr(o,r))._enter=a,o._exit=l,o},enter:function NAe(){return new Mr(this._enter||this._groups.map(Sq),this._parents)},exit:function $Ae(){return new Mr(this._exit||this._groups.map(Sq),this._parents)},join:function jAe(n,e,t){var r=this.enter(),i=this,s=this.exit();return"function"==typeof n?(r=n(r))&&(r=r.selection()):r=r.append(n+""),null!=e&&(i=e(i))&&(i=i.selection()),null==t?s.remove():t(s),r&&i?r.merge(i).order():i},merge:function zAe(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,o=Math.min(i,r.length),a=new Array(i),l=0;l<o;++l)for(var f,c=t[l],u=r[l],d=c.length,h=a[l]=new Array(d),p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<i;++l)a[l]=t[l];return new Mr(a,this._parents)},selection:function Qxe(){return this},order:function HAe(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var o,r=n[e],i=r.length-1,s=r[i];--i>=0;)(o=r[i])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function GAe(n){function e(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}n||(n=WAe);for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s){for(var c,o=t[s],a=o.length,l=i[s]=new Array(a),u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new Mr(i,this._parents).order()},call:function qAe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function KAe(){return Array.from(this)},node:function YAe(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function QAe(){let n=0;for(const e of this)++n;return n},empty:function XAe(){return!this.node()},each:function JAe(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a,i=e[t],s=0,o=i.length;s<o;++s)(a=i[s])&&n.call(a,a.__data__,s,i);return this},attr:function sxe(n,e){var t=xv(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((null==e?t.local?exe:ZAe:"function"==typeof e?t.local?ixe:rxe:t.local?nxe:txe)(t,e))},style:function cxe(n,e,t){return arguments.length>1?this.each((null==e?oxe:"function"==typeof e?lxe:axe)(n,e,t??"")):vu(this.node(),n)},property:function fxe(n,e){return arguments.length>1?this.each((null==e?uxe:"function"==typeof e?hxe:dxe)(n,e)):this.node()[n]},classed:function _xe(n,e){var t=xq(n+"");if(arguments.length<2){for(var r=LO(this.node()),i=-1,s=t.length;++i<s;)if(!r.contains(t[i]))return!1;return!0}return this.each(("function"==typeof e?mxe:e?pxe:gxe)(t,e))},text:function wxe(n){return arguments.length?this.each(null==n?yxe:("function"==typeof n?bxe:vxe)(n)):this.node().textContent},html:function Ixe(n){return arguments.length?this.each(null==n?Exe:("function"==typeof n?Dxe:Cxe)(n)):this.node().innerHTML},raise:function Txe(){return this.each(Sxe)},lower:function xxe(){return this.each(Axe)},append:function kxe(n){var e="function"==typeof n?n:Rq(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function Nxe(n,e){var t="function"==typeof n?n:Rq(n),r=null==e?Rxe:"function"==typeof e?e:PO(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function Fxe(){return this.each(Pxe)},clone:function Bxe(n){return this.select(n?Vxe:Lxe)},datum:function Uxe(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function Gxe(n,e,t){var i,o,r=function jxe(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}(n+""),s=r.length;if(!(arguments.length<2)){for(a=e?Hxe:zxe,i=0;i<s;++i)this.each(a(r[i],e,t));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value},dispatch:function Kxe(n,e){return this.each(("function"==typeof e?qxe:Wxe)(n,e))},[Symbol.iterator]:function*Yxe(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var o,r=n[e],i=0,s=r.length;i<s;++i)(o=r[i])&&(yield o)}};const Rf=Fq;var Xxe={value:()=>{}};function Lq(){for(var r,n=0,e=arguments.length,t={};n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Mv(t)}function Mv(n){this._=n}function Zxe(n,e){for(var i,t=0,r=n.length;t<r;++t)if((i=n[t]).name===e)return i.value}function Vq(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=Xxe,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=t&&n.push({name:e,value:t}),n}Mv.prototype=Lq.prototype={constructor:Mv,on:function(n,e){var i,t=this._,r=function Jxe(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}(n+"",t),s=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(n=r[s]).type)t[i]=Vq(t[i],n.name,e);else if(null==e)for(i in t)t[i]=Vq(t[i],n.name,null);return this}for(;++s<o;)if((i=(n=r[s]).type)&&(i=Zxe(t[i],n.name)))return i},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Mv(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var i,s,t=new Array(i),r=0;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=0,i=(s=this._[n]).length;r<i;++r)s[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,s=r.length;i<s;++i)r[i].value.apply(e,t)}};const Bq=Lq;var Ov,Ff,bu=0,Nf=0,Pf=0,Uq=1e3,kv=0,nl=0,Rv=0,Lf="object"==typeof performance&&performance.now?performance:Date,$q="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function VO(){return nl||($q(eMe),nl=Lf.now()+Rv)}function eMe(){nl=0}function Nv(){this._call=this._time=this._next=null}function jq(n,e,t){var r=new Nv;return r.restart(n,e,t),r}function zq(){nl=(kv=Lf.now())+Rv,bu=Nf=0;try{!function tMe(){VO(),++bu;for(var e,n=Ov;n;)(e=nl-n._time)>=0&&n._call.call(void 0,e),n=n._next;--bu}()}finally{bu=0,function rMe(){for(var n,t,e=Ov,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Ov=t);Ff=n,BO(r)}(),nl=0}}function nMe(){var n=Lf.now(),e=n-kv;e>Uq&&(Rv-=e,kv=n)}function BO(n){bu||(Nf&&(Nf=clearTimeout(Nf)),n-nl>24?(n<1/0&&(Nf=setTimeout(zq,n-Lf.now()-Rv)),Pf&&(Pf=clearInterval(Pf))):(Pf||(kv=Lf.now(),Pf=setInterval(nMe,Uq)),bu=1,$q(zq)))}function Hq(n,e,t){var r=new Nv;return r.restart(i=>{r.stop(),n(i+e)},e=null==e?0:+e,t),r}Nv.prototype=jq.prototype={constructor:Nv,restart:function(n,e,t){if("function"!=typeof n)throw new TypeError("callback is not a function");t=(null==t?VO():+t)+(null==e?0:+e),!this._next&&Ff!==this&&(Ff?Ff._next=this:Ov=this,Ff=this),this._call=n,this._time=t,BO()},stop:function(){this._call&&(this._call=null,this._time=1/0,BO())}};var iMe=Bq("start","end","cancel","interrupt"),sMe=[],Gq=0,Wq=1,UO=2,Pv=3,qq=4,$O=5,Fv=6;function Lv(n,e,t,r,i,s){var o=n.__transition;if(o){if(t in o)return}else n.__transition={};!function oMe(n,e,t){var i,r=n.__transition;function o(c){var u,d,h,f;if(t.state!==Wq)return l();for(u in r)if((f=r[u]).name===t.name){if(f.state===Pv)return Hq(o);f.state===qq?(f.state=Fv,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Fv,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete r[u])}if(Hq(function(){t.state===Pv&&(t.state=qq,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=UO,t.on.call("start",n,n.__data__,t.index,t.group),t.state===UO){for(t.state=Pv,i=new Array(h=t.tween.length),u=0,d=-1;u<h;++u)(f=t.tween[u].value.call(n,n.__data__,t.index,t.group))&&(i[++d]=f);i.length=d+1}}function a(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=$O,1),d=-1,h=i.length;++d<h;)i[d].call(n,u);t.state===$O&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){for(var c in t.state=Fv,t.timer.stop(),delete r[e],r)return;delete n.__transition}r[e]=t,t.timer=jq(function s(c){t.state=Wq,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)},0,t.time)}(n,t,{name:e,index:r,group:i,on:iMe,tween:sMe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Gq})}function jO(n,e){var t=gi(n,e);if(t.state>Gq)throw new Error("too late; already scheduled");return t}function Wi(n,e){var t=gi(n,e);if(t.state>Pv)throw new Error("too late; already running");return t}function gi(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function Vv(n,e){var r,i,o,t=n.__transition,s=!0;if(t){for(o in e=null==e?null:e+"",t)(r=t[o]).name===e?(i=r.state>UO&&r.state<$O,r.state=Fv,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[o]):s=!1;s&&delete n.__transition}}function ko(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var Bv,Kq=180/Math.PI,zO={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yq(n,e,t,r,i,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*r)&&(t-=n*l,r-=e*l),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,l/=a),n*r<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,n)*Kq,skewX:Math.atan(l)*Kq,scaleX:o,scaleY:a}}function Qq(n,e,t,r){function i(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],h=[];return c=n(c),u=n(u),function s(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push("translate(",null,e,null,t);p.push({i:m-4,x:ko(c,d)},{i:m-2,x:ko(u,h)})}else(d||h)&&f.push("translate("+d+e+h+t)}(c.translateX,c.translateY,u.translateX,u.translateY,d,h),function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ko(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}(c.rotate,u.rotate,d,h),function a(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ko(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}(c.skewX,u.skewX,d,h),function l(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push(i(f)+"scale(",null,",",null,")");p.push({i:m-4,x:ko(c,d)},{i:m-2,x:ko(u,h)})}else(1!==d||1!==h)&&f.push(i(f)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var g,p=-1,m=h.length;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var uMe=Qq(function lMe(n){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?zO:Yq(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),dMe=Qq(function cMe(n){return null!=n&&(Bv||(Bv=document.createElementNS("http://www.w3.org/2000/svg","g")),Bv.setAttribute("transform",n),n=Bv.transform.baseVal.consolidate())?Yq((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):zO},", ",")",")");function hMe(n,e){var t,r;return function(){var i=Wi(this,n),s=i.tween;if(s!==t)for(var o=0,a=(r=t=s).length;o<a;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function fMe(n,e,t){var r,i;if("function"!=typeof t)throw new Error;return function(){var s=Wi(this,n),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:t},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function HO(n,e,t){var r=n._id;return n.each(function(){var i=Wi(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return gi(i,r).value[e]}}function GO(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Xq(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Vf(){}var Uv=1/.7,wu="\\s*([+-]?\\d+)\\s*",Uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gMe=/^#([0-9a-f]{3,8})$/,mMe=new RegExp(`^rgb\\(${wu},${wu},${wu}\\)$`),_Me=new RegExp(`^rgb\\(${qi},${qi},${qi}\\)$`),yMe=new RegExp(`^rgba\\(${wu},${wu},${wu},${Uf}\\)$`),vMe=new RegExp(`^rgba\\(${qi},${qi},${qi},${Uf}\\)$`),bMe=new RegExp(`^hsl\\(${Uf},${qi},${qi}\\)$`),wMe=new RegExp(`^hsla\\(${Uf},${qi},${qi},${Uf}\\)$`),Jq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zq(){return this.rgb().formatHex()}function e5(){return this.rgb().formatRgb()}function $f(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=gMe.exec(n))?(t=e[1].length,e=parseInt(e[1],16),6===t?t5(e):3===t?new hr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===t?$v(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===t?$v(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=mMe.exec(n))?new hr(e[1],e[2],e[3],1):(e=_Me.exec(n))?new hr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=yMe.exec(n))?$v(e[1],e[2],e[3],e[4]):(e=vMe.exec(n))?$v(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=bMe.exec(n))?s5(e[1],e[2]/100,e[3]/100,1):(e=wMe.exec(n))?s5(e[1],e[2]/100,e[3]/100,e[4]):Jq.hasOwnProperty(n)?t5(Jq[n]):"transparent"===n?new hr(NaN,NaN,NaN,0):null}function t5(n){return new hr(n>>16&255,n>>8&255,255&n,1)}function $v(n,e,t,r){return r<=0&&(n=e=t=NaN),new hr(n,e,t,r)}function jv(n,e,t,r){return 1===arguments.length?function DMe(n){return n instanceof Vf||(n=$f(n)),n?new hr((n=n.rgb()).r,n.g,n.b,n.opacity):new hr}(n):new hr(n,e,t,r??1)}function hr(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}function n5(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function r5(){const n=zv(this.opacity);return`${1===n?"rgb(":"rgba("}${rl(this.r)}, ${rl(this.g)}, ${rl(this.b)}${1===n?")":`, ${n})`}`}function zv(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function rl(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function il(n){return((n=rl(n))<16?"0":"")+n.toString(16)}function s5(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new mi(n,e,t,r)}function o5(n){if(n instanceof mi)return new mi(n.h,n.s,n.l,n.opacity);if(n instanceof Vf||(n=$f(n)),!n)return new mi;if(n instanceof mi)return n;var e=(n=n.rgb()).r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,a=s-i,l=(s+i)/2;return a?(o=e===s?(t-r)/a+6*(t<r):t===s?(r-e)/a+2:(e-t)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new mi(o,a,l,n.opacity)}function mi(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}function a5(n){return(n=(n||0)%360)<0?n+360:n}function Hv(n){return Math.max(0,Math.min(1,n||0))}function WO(n,e,t){return 255*(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)}function l5(n,e,t,r,i){var s=n*n,o=s*n;return((1-3*n+3*s-o)*e+(4-6*s+3*o)*t+(1+3*n+3*s-3*o)*r+o*i)/6}GO(Vf,$f,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Zq,formatHex:Zq,formatHex8:function EMe(){return this.rgb().formatHex8()},formatHsl:function CMe(){return o5(this).formatHsl()},formatRgb:e5,toString:e5}),GO(hr,jv,Xq(Vf,{brighter(n){return n=null==n?Uv:Math.pow(Uv,n),new hr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new hr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new hr(rl(this.r),rl(this.g),rl(this.b),zv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n5,formatHex:n5,formatHex8:function IMe(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:r5,toString:r5})),GO(mi,function SMe(n,e,t,r){return 1===arguments.length?o5(n):new mi(n,e,t,r??1)},Xq(Vf,{brighter(n){return n=null==n?Uv:Math.pow(Uv,n),new mi(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new mi(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new hr(WO(n>=240?n-240:n+120,i,r),WO(n,i,r),WO(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new mi(a5(this.h),Hv(this.s),Hv(this.l),zv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=zv(this.opacity);return`${1===n?"hsl(":"hsla("}${a5(this.h)}, ${100*Hv(this.s)}%, ${100*Hv(this.l)}%${1===n?")":`, ${n})`}`}}));const c5=n=>()=>n;function d5(n,e){var t=e-n;return t?function u5(n,e){return function(t){return n+t*e}}(n,t):c5(isNaN(n)?e:n)}const h5=function n(e){var t=function MMe(n){return 1==(n=+n)?d5:function(e,t){return t-e?function xMe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}(e,t,n):c5(isNaN(e)?t:e)}}(e);function r(i,s){var o=t((i=jv(i)).r,(s=jv(s)).r),a=t(i.g,s.g),l=t(i.b,s.b),c=d5(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=n,r}(1);function f5(n){return function(e){var o,a,t=e.length,r=new Array(t),i=new Array(t),s=new Array(t);for(o=0;o<t;++o)a=jv(e[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=n(r),i=n(i),s=n(s),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=s(l),a+""}}}f5(function TMe(n){var e=n.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),i=n[r],s=n[r+1];return l5((t-r/e)*e,r>0?n[r-1]:2*i-s,i,s,r<e-1?n[r+2]:2*s-i)}}),f5(function AMe(n){var e=n.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e);return l5((t-r/e)*e,n[(r+e-1)%e],n[r%e],n[(r+1)%e],n[(r+2)%e])}});var qO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KO=new RegExp(qO.source,"g");function RMe(n,e){var r,i,s,t=qO.lastIndex=KO.lastIndex=0,o=-1,a=[],l=[];for(n+="",e+="";(r=qO.exec(n))&&(i=KO.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:ko(r,i)})),t=KO.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?function kMe(n){return function(e){return n(e)+""}}(l[0].x):function OMe(n){return function(){return n}}(e):(e=l.length,function(c){for(var d,u=0;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function p5(n,e){var t;return("number"==typeof e?ko:e instanceof $f?h5:(t=$f(e))?(e=t,h5):RMe)(n,e)}function NMe(n){return function(){this.removeAttribute(n)}}function PMe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function FMe(n,e,t){var r,s,i=t+"";return function(){var o=this.getAttribute(n);return o===i?null:o===r?s:s=e(r=o,t)}}function LMe(n,e,t){var r,s,i=t+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===i?null:o===r?s:s=e(r=o,t)}}function VMe(n,e,t){var r,i,s;return function(){var o,l,a=t(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(l=a+"")?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function BMe(n,e,t){var r,i,s;return function(){var o,l,a=t(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function zMe(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&function jMe(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}(n,s)),t}return i._value=e,i}function HMe(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&function $Me(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}(n,s)),t}return i._value=e,i}function WMe(n,e){return function(){jO(this,n).delay=+e.apply(this,arguments)}}function qMe(n,e){return e=+e,function(){jO(this,n).delay=e}}function YMe(n,e){return function(){Wi(this,n).duration=+e.apply(this,arguments)}}function QMe(n,e){return e=+e,function(){Wi(this,n).duration=e}}var d1e=Rf.prototype.constructor;function g5(n){return function(){this.style.removeProperty(n)}}var x1e=0;function Ps(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function m5(){return++x1e}var Fs=Rf.prototype;Ps.prototype=function M1e(n){return Rf().transition(n)}.prototype={constructor:Ps,select:function c1e(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=PO(n));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var u,d,a=r[o],l=a.length,c=s[o]=new Array(l),h=0;h<l;++h)(u=a[h])&&(d=n.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Lv(c[h],e,t,h,c,gi(u,t)));return new Ps(s,this._parents,e,t)},selectAll:function u1e(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=Cq(n));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u,l=r[a],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var f,h=n.call(u,u.__data__,d,l),p=gi(u,t),m=0,g=h.length;m<g;++m)(f=h[m])&&Lv(f,e,t,m,h,p);s.push(h),o.push(u)}return new Ps(s,o,e,t)},selectChild:Fs.selectChild,selectChildren:Fs.selectChildren,filter:function n1e(n){"function"!=typeof n&&(n=Dq(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var l,s=e[i],o=s.length,a=r[i]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Ps(r,this._parents,this._name,this._id)},merge:function r1e(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,s=Math.min(r,t.length),o=new Array(r),a=0;a<s;++a)for(var h,l=e[a],c=t[a],u=l.length,d=o[a]=new Array(u),f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<r;++a)o[a]=e[a];return new Ps(o,this._parents,this._name,this._id)},selection:function h1e(){return new d1e(this._groups,this._parents)},transition:function T1e(){for(var n=this._name,e=this._id,t=m5(),r=this._groups,i=r.length,s=0;s<i;++s)for(var l,o=r[s],a=o.length,c=0;c<a;++c)if(l=o[c]){var u=gi(l,e);Lv(l,n,t,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ps(r,this._parents,n,t)},call:Fs.call,nodes:Fs.nodes,node:Fs.node,size:Fs.size,empty:Fs.empty,each:Fs.each,on:function o1e(n,e){var t=this._id;return arguments.length<2?gi(this.node(),t).on.on(n):this.each(function s1e(n,e,t){var r,i,s=function i1e(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(e)?jO:Wi;return function(){var o=s(this,n),a=o.on;a!==r&&(i=(r=a).copy()).on(e,t),o.on=i}}(t,n,e))},attr:function UMe(n,e){var t=xv(n),r="transform"===t?dMe:p5;return this.attrTween(n,"function"==typeof e?(t.local?BMe:VMe)(t,r,HO(this,"attr."+n,e)):null==e?(t.local?PMe:NMe)(t):(t.local?LMe:FMe)(t,r,e))},attrTween:function GMe(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;var r=xv(n);return this.tween(t,(r.local?zMe:HMe)(r,e))},style:function _1e(n,e,t){var r="transform"==(n+="")?uMe:p5;return null==e?this.styleTween(n,function f1e(n,e){var t,r,i;return function(){var s=vu(this,n),o=(this.style.removeProperty(n),vu(this,n));return s===o?null:s===t&&o===r?i:i=e(t=s,r=o)}}(n,r)).on("end.style."+n,g5(n)):"function"==typeof e?this.styleTween(n,function g1e(n,e,t){var r,i,s;return function(){var o=vu(this,n),a=t(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=vu(this,n)),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}(n,r,HO(this,"style."+n,e))).each(function m1e(n,e){var t,r,i,a,s="style."+e,o="end."+s;return function(){var l=Wi(this,n),c=l.on,u=null==l.value[s]?a||(a=g5(e)):void 0;(c!==t||i!==u)&&(r=(t=c).copy()).on(o,i=u),l.on=r}}(this._id,n)):this.styleTween(n,function p1e(n,e,t){var r,s,i=t+"";return function(){var o=vu(this,n);return o===i?null:o===r?s:s=e(r=o,t)}}(n,r,e),t).on("end.style."+n,null)},styleTween:function b1e(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function v1e(n,e,t){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function y1e(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}(n,o,t)),r}return s._value=e,s}(n,e,t??""))},text:function C1e(n){return this.tween("text","function"==typeof n?function E1e(n){return function(){var e=n(this);this.textContent=e??""}}(HO(this,"text",n)):function w1e(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function S1e(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,function I1e(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&function D1e(n){return function(e){this.textContent=n.call(this,e)}}(i)),e}return r._value=n,r}(n))},remove:function l1e(){return this.on("end.remove",function a1e(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}(this._id))},tween:function pMe(n,e){var t=this._id;if(n+="",arguments.length<2){for(var o,r=gi(this.node(),t).tween,i=0,s=r.length;i<s;++i)if((o=r[i]).name===n)return o.value;return null}return this.each((null==e?hMe:fMe)(t,n,e))},delay:function KMe(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?WMe:qMe)(e,n)):gi(this.node(),e).delay},duration:function XMe(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?YMe:QMe)(e,n)):gi(this.node(),e).duration},ease:function ZMe(n){var e=this._id;return arguments.length?this.each(function JMe(n,e){if("function"!=typeof e)throw new Error;return function(){Wi(this,n).ease=e}}(e,n)):gi(this.node(),e).ease},easeVarying:function t1e(n){if("function"!=typeof n)throw new Error;return this.each(function e1e(n,e){return function(){var t=e.apply(this,arguments);if("function"!=typeof t)throw new Error;Wi(this,n).ease=t}}(this._id,n))},end:function A1e(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--i&&s()}};t.each(function(){var c=Wi(this,r),u=c.on;u!==n&&((e=(n=u).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),0===i&&s()})},[Symbol.iterator]:Fs[Symbol.iterator]};var k1e={time:null,delay:0,duration:250,ease:function O1e(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function R1e(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}Rf.prototype.interrupt=function aMe(n){return this.each(function(){Vv(this,n)})},Rf.prototype.transition=function N1e(n){var e,t;n instanceof Ps?(e=n._id,n=n._name):(e=m5(),(t=k1e).time=VO(),n=null==n?null:n+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var l,o=r[s],a=o.length,c=0;c<a;++c)(l=o[c])&&Lv(l,n,e,c,o,t||R1e(l,e));return new Ps(r,this._parents,n,e)};Math;function jf(n){return{type:n}}function j1e(n){var e=0,t=n.children,r=t&&t.length;if(r)for(;--r>=0;)e+=t[r].value;else e=1;n.value=e}function Du(n,e){n instanceof Map?(n=[void 0,n],void 0===e&&(e=sOe)):void 0===e&&(e=iOe);for(var r,s,o,a,l,t=new zf(n),i=[t];r=i.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,a=l-1;a>=0;--a)i.push(s=o[a]=new zf(o[a])),s.parent=r,s.depth=r.depth+1;return t.eachBefore(aOe)}function iOe(n){return n.children}function sOe(n){return Array.isArray(n)?n[1]:null}function oOe(n){void 0!==n.data.value&&(n.value=n.data.value),n.data=n.data.data}function aOe(n){var e=0;do{n.height=e}while((n=n.parent)&&n.height<++e)}function zf(n){this.data=n,this.depth=this.height=0,this.parent=null}function lOe(n,e){return n.parent===e.parent?1:2}function ZO(n){var e=n.children;return e?e[0]:n.t}function ek(n){var e=n.children;return e?e[e.length-1]:n.t}function cOe(n,e,t){var r=t/(e.i-n.i);e.c-=r,e.s+=t,n.c+=r,e.z+=t,e.m+=t}function dOe(n,e,t){return n.a.parent===e.parent?n.a:t}function qv(n,e){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function E5(){var n=lOe,e=1,t=1,r=null;function i(c){var u=function hOe(n){for(var t,i,s,o,a,e=new qv(n,0),r=[e];t=r.pop();)if(s=t._.children)for(t.children=new Array(a=s.length),o=a-1;o>=0;--o)r.push(i=t.children[o]=new qv(s[o],o)),i.parent=t;return(e.parent=new qv(null,0)).children=[e],e}(c);if(u.eachAfter(s),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(l);else{var d=c,h=c,f=c;c.eachBefore(function(b){b.x<d.x&&(d=b),b.x>h.x&&(h=b),b.depth>f.depth&&(f=b)});var p=d===h?1:n(d,h)/2,m=p-d.x,g=e/(h.x+p+m),_=t/(f.depth||1);c.eachBefore(function(b){b.x=(b.x+m)*g,b.y=b.depth*_})}return c}function s(c){var u=c.children,d=c.parent.children,h=c.i?d[c.i-1]:null;if(u){!function uOe(n){for(var s,e=0,t=0,r=n.children,i=r.length;--i>=0;)(s=r[i]).z+=e,s.m+=e,e+=s.s+(t+=s.c)}(c);var f=(u[0].z+u[u.length-1].z)/2;h?(c.z=h.z+n(c._,h._),c.m=c.z-f):c.z=f}else h&&(c.z=h.z+n(c._,h._));c.parent.A=function a(c,u,d){if(u){for(var D,h=c,f=c,p=u,m=h.parent.children[0],g=h.m,_=f.m,b=p.m,y=m.m;p=ek(p),h=ZO(h),p&&h;)m=ZO(m),(f=ek(f)).a=c,(D=p.z+b-h.z-g+n(p._,h._))>0&&(cOe(dOe(p,c,d),c,D),g+=D,_+=D),b+=p.m,g+=h.m,y+=m.m,_+=f.m;p&&!ek(f)&&(f.t=p,f.m+=b-_),h&&!ZO(m)&&(m.t=h,m.m+=g-y,d=c)}return d}(c,h,c.parent.A||d[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function l(c){c.x*=e,c.y=c.depth*t}return i.separation=function(c){return arguments.length?(n=c,i):n},i.size=function(c){return arguments.length?(r=!1,e=+c[0],t=+c[1],i):r?null:[e,t]},i.nodeSize=function(c){return arguments.length?(r=!0,e=+c[0],t=+c[1],i):r?[e,t]:null},i}function Ro(n){return"string"==typeof n?new Mr([[document.querySelector(n)]],[document.documentElement]):new Mr([[n]],Pq)}["w","e"].map(jf),["n","s"].map(jf),["n","w","e","s","nw","ne","sw","se"].map(jf),zf.prototype=Du.prototype={constructor:zf,count:function z1e(){return this.eachAfter(j1e)},each:function H1e(n,e){let t=-1;for(const r of this)n.call(e,r,++t,this);return this},eachAfter:function W1e(n,e){for(var s,o,a,t=this,r=[t],i=[],l=-1;t=r.pop();)if(i.push(t),s=t.children)for(o=0,a=s.length;o<a;++o)r.push(s[o]);for(;t=i.pop();)n.call(e,t,++l,this);return this},eachBefore:function G1e(n,e){for(var i,s,t=this,r=[t],o=-1;t=r.pop();)if(n.call(e,t,++o,this),i=t.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this},find:function q1e(n,e){let t=-1;for(const r of this)if(n.call(e,r,++t,this))return r},sum:function K1e(n){return this.eachAfter(function(e){for(var t=+n(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)t+=r[i].value;e.value=t})},sort:function Y1e(n){return this.eachBefore(function(e){e.children&&e.children.sort(n)})},path:function Q1e(n){for(var e=this,t=function X1e(n,e){if(n===e)return n;var t=n.ancestors(),r=e.ancestors(),i=null;for(n=t.pop(),e=r.pop();n===e;)i=n,n=t.pop(),e=r.pop();return i}(e,n),r=[e];e!==t;)r.push(e=e.parent);for(var i=r.length;n!==t;)r.splice(i,0,n),n=n.parent;return r},ancestors:function J1e(){for(var n=this,e=[n];n=n.parent;)e.push(n);return e},descendants:function Z1e(){return Array.from(this)},leaves:function eOe(){var n=[];return this.eachBefore(function(e){e.children||n.push(e)}),n},links:function tOe(){var n=this,e=[];return n.each(function(t){t!==n&&e.push({source:t.parent,target:t})}),e},copy:function rOe(){return Du(this).eachBefore(oOe)},[Symbol.iterator]:function*nOe(){var e,r,i,s,n=this,t=[n];do{for(e=t.reverse(),t=[];n=e.pop();)if(yield n,r=n.children)for(i=0,s=r.length;i<s;++i)t.push(r[i])}while(t.length)}},qv.prototype=Object.create(zf.prototype);var fOe=Array.prototype.slice;function C5(n){return function(){return n}}class D5{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function gOe(n){return new D5(n,!1)}const tk=Math.PI,nk=2*tk,sl=1e-6,mOe=nk-sl;function I5(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}class Kv{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?I5:function _Oe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return I5;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,o){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,(s=+s)<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-t,u=o-e,d=a-t,h=u*u+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>sl)if(Math.abs(d*l-c*u)>sl&&s){let f=r-o,p=i-a,m=l*l+c*c,g=f*f+p*p,_=Math.sqrt(m),b=Math.sqrt(h),y=s*Math.tan((tk-Math.acos((m+h-g)/(2*_*b)))/2),D=y/b,k=y/_;Math.abs(D-1)>sl&&this._append`L${e+D*u},${t+D*d}`,this._append`A${s},${s},0,0,${+(d*f>u*p)},${this._x1=e+k*l},${this._y1=t+k*c}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,i,s,o){if(e=+e,t=+t,o=!!o,(r=+r)<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=t+l,d=1^o,h=o?i-s:s-i;null===this._x1?this._append`M${c},${u}`:(Math.abs(this._x1-c)>sl||Math.abs(this._y1-u)>sl)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%nk+nk),h>mOe?this._append`A${r},${r},0,1,${d},${e-a},${t-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>sl&&this._append`A${r},${r},0,${+(h>=tk)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function bOe(n){return n[0]}function wOe(n){return n[1]}function EOe(n){return n.source}function COe(n){return n.target}function S5(){return function rk(n){let e=EOe,t=COe,r=bOe,i=wOe,s=null,o=null,a=function vOe(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(null==t)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new Kv(e)}(l);function l(){let c;const u=fOe.call(arguments),d=e.apply(this,u),h=t.apply(this,u);if(null==s&&(o=n(c=a())),o.lineStart(),u[0]=d,o.point(+r.apply(this,u),+i.apply(this,u)),u[0]=h,o.point(+r.apply(this,u),+i.apply(this,u)),o.lineEnd(),c)return o=null,c+""||null}return l.source=function(c){return arguments.length?(e=c,l):e},l.target=function(c){return arguments.length?(t=c,l):t},l.x=function(c){return arguments.length?(r="function"==typeof c?c:C5(+c),l):r},l.y=function(c){return arguments.length?(i="function"==typeof c?c:C5(+c),l):i},l.context=function(c){return arguments.length?(null==c?s=o=null:o=n(s=c),l):s},l}(gOe)}const ik={capture:!0,passive:!1};function sk(n){n.preventDefault(),n.stopImmediatePropagation()}var SOe=1e-12;function T5(n){return((n=Math.exp(n))+1/n)/2}const xOe=function n(e,t,r){function i(s,o){var g,_,a=s[0],l=s[1],c=s[2],h=o[2],f=o[0]-a,p=o[1]-l,m=f*f+p*p;if(m<SOe)_=Math.log(h/c)/e,g=function(ee){return[a+ee*f,l+ee*p,c*Math.exp(e*ee*_)]};else{var b=Math.sqrt(m),y=(h*h-c*c+r*m)/(2*c*t*b),D=(h*h-c*c-r*m)/(2*h*t*b),k=Math.log(Math.sqrt(y*y+1)-y),F=Math.log(Math.sqrt(D*D+1)-D);_=(F-k)/e,g=function(ee){var fe=ee*_,Fe=T5(k),Te=c/(t*b)*(Fe*function AOe(n){return((n=Math.exp(2*n))-1)/(n+1)}(e*fe+k)-function TOe(n){return((n=Math.exp(n))-1/n)/2}(k));return[a+Te*f,l+Te*p,c*Fe/T5(e*fe+k)]}}return g.duration=1e3*_*e/Math.SQRT2,g}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o;return n(o,a,a*a)},i}(Math.SQRT2,2,4);function ol(n,e){if(n=function MOe(n){let e;for(;e=n.sourceEvent;)n=e;return n}(n),void 0===e&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop]}}return[n.pageX,n.pageY]}const Yv=n=>()=>n;function OOe(n,{sourceEvent:e,target:t,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Vs(n,e,t){this.k=n,this.x=e,this.y=t}Vs.prototype={constructor:Vs,scale:function(n){return 1===n?this:new Vs(this.k*n,this.x,this.y)},translate:function(n,e){return 0===n&0===e?this:new Vs(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qv=new Vs(1,0,0);function ok(n){n.stopImmediatePropagation()}function Hf(n){n.preventDefault(),n.stopImmediatePropagation()}function ROe(n){return!(n.ctrlKey&&"wheel"!==n.type||n.button)}function NOe(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n).hasAttribute("viewBox")?[[(n=n.viewBox.baseVal).x,n.y],[n.x+n.width,n.y+n.height]]:[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]:[[0,0],[n.clientWidth,n.clientHeight]]}function A5(){return this.__zoom||Qv}function POe(n){return-n.deltaY*(1===n.deltaMode?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function FOe(){return navigator.maxTouchPoints||"ontouchstart"in this}function LOe(n,e,t){var r=n.invertX(e[0][0])-t[0][0],i=n.invertX(e[1][0])-t[1][0],s=n.invertY(e[0][1])-t[0][1],o=n.invertY(e[1][1])-t[1][1];return n.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}let BOe=(()=>{const e=class{constructor(r){this.platformId=r,this.treeInfo={nr_people:0,inverted:!1},this.width=0,this.height=0,this.innerWidth=0,this.innerHeight=0,this.margin={top:0,right:0,bottom:0,left:0},oV(this.platformId)&&(this.width=document.body.clientWidth,this.height=document.body.clientHeight,this.innerWidth=this.width-this.margin.left-this.margin.right,this.innerHeight=this.height-this.margin.top-this.margin.bottom)}ngAfterViewInit(){this.svg=Ro("svg#tree-svg").attr("width",this.width).attr("height",this.height),this.svg.append("defs").append("pattern").attr("id","grid-pattern").attr("width",20).attr("height",20).append("path").attr("d","M 20 0 L 0 0 0 20").attr("fill","none").attr("stroke","#ddd").attr("stroke-width",.5),this.svg.append("rect").attr("width",this.width).attr("height",this.height).attr("fill","url(#grid-pattern)"),this.g=this.svg.append("g").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`);const i=function VOe(){var u,d,h,n=ROe,e=NOe,t=LOe,r=POe,i=FOe,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=xOe,c=Bq("start","zoom","end"),f=500,p=150,m=0,g=10;function _(I){I.property("__zoom",A5).on("wheel.zoom",fe,{passive:!1}).on("mousedown.zoom",Fe).on("dblclick.zoom",Te).filter(i).on("touchstart.zoom",At).on("touchmove.zoom",jn).on("touchend.zoom touchcancel.zoom",nt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(I,W){return(W=Math.max(s[0],Math.min(s[1],W)))===I.k?I:new Vs(W,I.x,I.y)}function y(I,W,E){var A=W[0]-E[0]*I.k,N=W[1]-E[1]*I.k;return A===I.x&&N===I.y?I:new Vs(I.k,A,N)}function D(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function k(I,W,E,A){I.on("start.zoom",function(){F(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(A).end()}).tween("zoom",function(){var N=this,L=arguments,H=F(N,L).event(A),J=e.apply(N,L),Z=null==E?D(J):"function"==typeof E?E.apply(N,L):E,vt=Math.max(J[1][0]-J[0][0],J[1][1]-J[0][1]),le=N.__zoom,rn="function"==typeof W?W.apply(N,L):W,zn=l(le.invert(Z).concat(vt/le.k),rn.invert(Z).concat(vt/rn.k));return function(_e){if(1===_e)_e=rn;else{var bt=zn(_e),sn=vt/bt[2];_e=new Vs(sn,Z[0]-bt[0]*sn,Z[1]-bt[1]*sn)}H.zoom(null,_e)}})}function F(I,W,E){return!E&&I.__zooming||new ee(I,W)}function ee(I,W){this.that=I,this.args=W,this.active=0,this.sourceEvent=null,this.extent=e.apply(I,W),this.taps=0}function fe(I,...W){if(n.apply(this,arguments)){var E=F(this,W).event(I),A=this.__zoom,N=Math.max(s[0],Math.min(s[1],A.k*Math.pow(2,r.apply(this,arguments)))),L=ol(I);if(E.wheel)(E.mouse[0][0]!==L[0]||E.mouse[0][1]!==L[1])&&(E.mouse[1]=A.invert(E.mouse[0]=L)),clearTimeout(E.wheel);else{if(A.k===N)return;E.mouse=[L,A.invert(L)],Vv(this),E.start()}Hf(I),E.wheel=setTimeout(function H(){E.wheel=null,E.end()},p),E.zoom("mouse",t(y(b(A,N),E.mouse[0],E.mouse[1]),E.extent,o))}}function Fe(I,...W){if(!h&&n.apply(this,arguments)){var E=I.currentTarget,A=F(this,W,!0).event(I),N=Ro(I.view).on("mousemove.zoom",function Z(le){if(Hf(le),!A.moved){var rn=le.clientX-H,zn=le.clientY-J;A.moved=rn*rn+zn*zn>m}A.event(le).zoom("mouse",t(y(A.that.__zoom,A.mouse[0]=ol(le,E),A.mouse[1]),A.extent,o))},!0).on("mouseup.zoom",function vt(le){N.on("mousemove.zoom mouseup.zoom",null),function IOe(n,e){var t=n.document.documentElement,r=Ro(n).on("dragstart.drag",null);e&&(r.on("click.drag",sk,ik),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}(le.view,A.moved),Hf(le),A.event(le).end()},!0),L=ol(I,E),H=I.clientX,J=I.clientY;(function DOe(n){var e=n.document.documentElement,t=Ro(n).on("dragstart.drag",sk,ik);"onselectstart"in e?t.on("selectstart.drag",sk,ik):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")})(I.view),ok(I),A.mouse=[L,this.__zoom.invert(L)],Vv(this),A.start()}}function Te(I,...W){if(n.apply(this,arguments)){var E=this.__zoom,A=ol(I.changedTouches?I.changedTouches[0]:I,this),N=E.invert(A),H=t(y(b(E,E.k*(I.shiftKey?.5:2)),A,N),e.apply(this,W),o);Hf(I),a>0?Ro(this).transition().duration(a).call(k,H,A,I):Ro(this).call(_.transform,H,A,I)}}function At(I,...W){if(n.apply(this,arguments)){var L,H,J,Z,E=I.touches,A=E.length,N=F(this,W,I.changedTouches.length===A).event(I);for(ok(I),H=0;H<A;++H)Z=[Z=ol(J=E[H],this),this.__zoom.invert(Z),J.identifier],N.touch0?!N.touch1&&N.touch0[2]!==Z[2]&&(N.touch1=Z,N.taps=0):(N.touch0=Z,L=!0,N.taps=1+!!u);u&&(u=clearTimeout(u)),L&&(N.taps<2&&(d=Z[0],u=setTimeout(function(){u=null},f)),Vv(this),N.start())}}function jn(I,...W){if(this.__zooming){var L,H,J,Z,E=F(this,W).event(I),A=I.changedTouches,N=A.length;for(Hf(I),L=0;L<N;++L)J=ol(H=A[L],this),E.touch0&&E.touch0[2]===H.identifier?E.touch0[0]=J:E.touch1&&E.touch1[2]===H.identifier&&(E.touch1[0]=J);if(H=E.that.__zoom,E.touch1){var vt=E.touch0[0],le=E.touch0[1],rn=E.touch1[0],zn=E.touch1[1],_e=(_e=rn[0]-vt[0])*_e+(_e=rn[1]-vt[1])*_e,bt=(bt=zn[0]-le[0])*bt+(bt=zn[1]-le[1])*bt;H=b(H,Math.sqrt(_e/bt)),J=[(vt[0]+rn[0])/2,(vt[1]+rn[1])/2],Z=[(le[0]+zn[0])/2,(le[1]+zn[1])/2]}else{if(!E.touch0)return;J=E.touch0[0],Z=E.touch0[1]}E.zoom("touch",t(y(H,J,Z),E.extent,o))}}function nt(I,...W){if(this.__zooming){var L,H,E=F(this,W).event(I),A=I.changedTouches,N=A.length;for(ok(I),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),L=0;L<N;++L)H=A[L],E.touch0&&E.touch0[2]===H.identifier?delete E.touch0:E.touch1&&E.touch1[2]===H.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),2===E.taps&&(H=ol(H,this),Math.hypot(d[0]-H[0],d[1]-H[1])<g)){var J=Ro(this).on("dblclick.zoom");J&&J.apply(this,arguments)}}}return _.transform=function(I,W,E,A){var N=I.selection?I.selection():I;N.property("__zoom",A5),I!==N?k(I,W,E,A):N.interrupt().each(function(){F(this,arguments).event(A).start().zoom(null,"function"==typeof W?W.apply(this,arguments):W).end()})},_.scaleBy=function(I,W,E,A){_.scaleTo(I,function(){return this.__zoom.k*("function"==typeof W?W.apply(this,arguments):W)},E,A)},_.scaleTo=function(I,W,E,A){_.transform(I,function(){var N=e.apply(this,arguments),L=this.__zoom,H=null==E?D(N):"function"==typeof E?E.apply(this,arguments):E,J=L.invert(H),Z="function"==typeof W?W.apply(this,arguments):W;return t(y(b(L,Z),H,J),N,o)},E,A)},_.translateBy=function(I,W,E,A){_.transform(I,function(){return t(this.__zoom.translate("function"==typeof W?W.apply(this,arguments):W,"function"==typeof E?E.apply(this,arguments):E),e.apply(this,arguments),o)},null,A)},_.translateTo=function(I,W,E,A,N){_.transform(I,function(){var L=e.apply(this,arguments),H=this.__zoom,J=null==A?D(L):"function"==typeof A?A.apply(this,arguments):A;return t(Qv.translate(J[0],J[1]).scale(H.k).translate("function"==typeof W?-W.apply(this,arguments):-W,"function"==typeof E?-E.apply(this,arguments):-E),L,o)},A,N)},ee.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,W){return this.mouse&&"mouse"!==I&&(this.mouse[1]=W.invert(this.mouse[0])),this.touch0&&"touch"!==I&&(this.touch0[1]=W.invert(this.touch0[0])),this.touch1&&"touch"!==I&&(this.touch1[1]=W.invert(this.touch1[0])),this.that.__zoom=W,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var W=Ro(this.that).datum();c.call(I,this.that,new OOe(I,{sourceEvent:this.sourceEvent,target:_,type:I,transform:this.that.__zoom,dispatch:c}),W)}},_.wheelDelta=function(I){return arguments.length?(r="function"==typeof I?I:Yv(+I),_):r},_.filter=function(I){return arguments.length?(n="function"==typeof I?I:Yv(!!I),_):n},_.touchable=function(I){return arguments.length?(i="function"==typeof I?I:Yv(!!I),_):i},_.extent=function(I){return arguments.length?(e="function"==typeof I?I:Yv([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),_):e},_.scaleExtent=function(I){return arguments.length?(s[0]=+I[0],s[1]=+I[1],_):[s[0],s[1]]},_.translateExtent=function(I){return arguments.length?(o[0][0]=+I[0][0],o[1][0]=+I[1][0],o[0][1]=+I[0][1],o[1][1]=+I[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(I){return arguments.length?(t=I,_):t},_.duration=function(I){return arguments.length?(a=+I,_):a},_.interpolate=function(I){return arguments.length?(l=I,_):l},_.on=function(){var I=c.on.apply(c,arguments);return I===c?_:I},_.clickDistance=function(I){return arguments.length?(m=(I=+I)*I,_):Math.sqrt(m)},_.tapDistance=function(I){return arguments.length?(g=+I,_):g},_}().on("zoom",l=>{this.g.attr("transform",l.transform)});if(this.svg.call(i),this.svg.call(i.transform,Qv.translate(this.width/25,this.height/3).scale(.4)),this.treeData){const c=Du(this.treeData).height,u=Math.max(30*c,200),d=10*this.innerWidth;this.treeLayout=E5().size([u,d]);const h=this.treeData.info;console.log("Info Data:",h),h.inverted?(console.log("rendering inverted tree"),this.renderInvertedTree()):(console.log("rendering not inverted tree"),this.renderTree())}}ngOnChanges(){if(this.treeData){const i=Du(this.treeData).height,s=900*i,o=60*i;this.treeLayout=E5().size([s,o]);const a=this.treeData.info;console.log("Info Data:",a),console.log(a.inverted),console.log(a.nr_people),a.inverted?(console.log("rendering inverted tree"),this.renderInvertedTree()):(console.log("rendering not inverted tree"),this.renderTree())}}renderTree(){console.log("Rendering tree with data:",this.treeData),this.g.selectAll("path").remove(),this.g.selectAll("g.node").remove();const r=Du(this.treeData),i=this.treeLayout(r),s=i.links(),o=i.descendants(),a=S5().x(c=>c.x).y(c=>c.y);console.log("Links:",s),console.log("Nodes:",o),this.g.selectAll("path").data(s).enter().append("path").attr("d",c=>a(c)).attr("stroke","#add8e6").attr("fill","none");const l=this.g.selectAll("g.node").data(r.descendants(),c=>c.data.name).enter().append("g").attr("class","node").attr("transform",c=>`translate(${c.x}, ${c.y})`);l.append("text").attr("dy","0.32em").style("font-size",c=>1-.1*c.depth+"em").text(c=>`${c.data?.data?.name||"missing"} & ${c.data?.data?.pname||""}`),l.append("text").attr("dy","1.5em").style("font-size",c=>1-.1*c.depth+"em").attr("fill","gray").text(c=>`${c.data?.data?.by||""} - ${c.data?.data?.dy||""}, ${c.data?.data?.pby||""} - ${c.data?.data?.pdy||""}`)}renderInvertedTree(){console.log("Rendering inverted tree with data:",this.treeData),this.g.selectAll("path").remove(),this.g.selectAll("g.node").remove();const r=Du(this.treeData),i=this.treeLayout(r),s=i.links(),o=i.descendants(),a=S5().x(c=>c.x).y(c=>-c.y);console.log("Links:",s),console.log("Nodes:",o),this.g.selectAll("path").data(s).enter().append("path").attr("d",c=>a(c)).attr("stroke","#add8e6").attr("fill","none");const l=this.g.selectAll("g.node").data(r.descendants(),c=>c.data.name).enter().append("g").attr("class","node").attr("transform",c=>`translate(${c.x}, ${-(c.y??0)})`);l.append("text").attr("dy","0.32em").style("font-size",c=>1-.1*c.depth+"em").text(c=>`${c.data?.data?.name||"missing"}`),l.append("text").attr("dy","1.5em").style("font-size",c=>1-.1*c.depth+"em").attr("fill","gray").text(c=>`${c.data?.data?.by||""} - ${c.data?.data?.dy||""} `)}};let n=e;return e.\u0275fac=function(i){return new(i||e)(w(Xo))},e.\u0275cmp=Mt({type:e,selectors:[["ftapp-tree-area"]],inputs:{treeData:"treeData",treeInfo:"treeInfo"},features:[Wn],decls:3,vars:0,consts:[[1,"scrollable-container"],["id","bar"],["id","tree-svg"]],template:function(i,s){1&i&&(Oe(0,"div",0)(1,"figure",1),function LR(){de.lFrame.currentNamespace=wR}(),Br(2,"svg",2),je()())},styles:[".scrollable-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative;border:3px solid #ccc;background-color:#fff}svg[_ngcontent-%COMP%]{width:100%;height:100%;overflow:visible}path[_ngcontent-%COMP%]{fill:none;stroke:#57bdc3}text[_ngcontent-%COMP%]{text-shadow:-1px -1px 3px white,-1px 1px 3px white,1px -1px 3px white,1px 1px 3px white}@media screen and (max-width: 768px){.scrollable-container[_ngcontent-%COMP%]{height:auto;max-height:70vh;overflow-y:auto;padding:10px}}"]}),n})();function UOe(n,e){if(1&n){const t=id();Jp(0),Oe(1,"mat-grid-tile",8),kt("click",function(){const s=Vu(t).$implicit;return Bu(od().onTileClick(s))}),cn(2),je(),Zp()}if(2&n){const t=e.$implicit;Lr(1),ad("background",t.color),ri("colspan",t.cols)("rowspan",t.rows),Lr(1),ng(" ",t.text," ")}}let $Oe=(()=>{const e=class{constructor(){this.parentId=1,this.firestore=oe(Tv),this.tiletext="Inverted",this.tiles=[]}ngOnInit(){this.fetchAvailableCollections().subscribe(r=>{this.tiles=r.map((i,s)=>({text:i,cols:2,rows:1,color:this.getRandomColor()})),console.log(this.tiles)}),this.fetchPersonWithChildren(this.parentId,"Inverted").subscribe(r=>{this.jsonData=r,console.log("Final JSON Data:",JSON.stringify(this.jsonData,null,2))})}fetchPersonWithChildren(r,i,s=!0){const o=MO(this.firestore,`${i}/${r}`),a=s?MO(this.firestore,`${i}/information`):null;return new Le(l=>{const c=()=>new Le(u=>{OO(o).then(d=>{if(d.exists()){const h=d.data();h.children&&0!==h.children.length?EC(h.children.map(p=>this.fetchPersonWithChildren(p,i,!1).pipe(xi(m=>(console.error(`Error fetching child ${p}:`,m),K(null)))))).subscribe(p=>{const m=p.filter(g=>null!==g);u.next({data:{...h,children:void 0},children:m}),u.complete()}):(u.next({data:h,children:[]}),u.complete())}else console.error(`No such document for person ID: ${r}`),u.next(null),u.complete()}).catch(d=>{console.error(`Error fetching person ${r}:`,d),u.next(null),u.complete()})});s?OO(a).then(u=>{if(!u.exists())return console.error(`No such document for collection info in: ${i}`),l.next(null),void l.complete();const d=u.data();c().subscribe(h=>{l.next({info:d,...h}),l.complete()})}).catch(u=>{console.error(`Error fetching collection info: ${u}`),l.next(null),l.complete()}):c().subscribe(u=>{l.next(u),l.complete()})})}fetchAvailableCollections(){const r=MO(this.firestore,"Collections_metadata","1");return console.log("Fetching available collections..."),new Le(i=>{OO(r).then(s=>{if(s.exists()){console.log("Firestore document received:",s.data());const o=s.data().Collections;o&&o.length>0?(console.log("Collections found:",o),i.next(o)):(console.warn("No collections found in the document."),i.next([]))}else console.warn("Document not found."),i.next([]);i.complete()}).catch(s=>{console.error("Error fetching collections metadata:",s),i.next([]),i.complete()})})}getRandomColor(){const r=["#0000FF","#00FFFF","#33FFFF","#66FFFF","#3333FF","#000066","#000088","#000099","#1E90FF","#4682B4","#5F9EA0"];return r[Math.floor(Math.random()*r.length)]}onTileClick(r){this.tiletext=r.text,console.log("Tile clicked:",r.text),this.fetchPersonWithChildren(this.parentId,r.text).subscribe(i=>{this.jsonData=i,console.log("Final JSON Data:",JSON.stringify(this.jsonData,null,2))})}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Mt({type:e,selectors:[["ftapp-desktop"]],decls:12,vars:4,consts:[[1,"table-grid"],["hideToggle","",1,"table-expansion-panel"],[1,"exp-panel-title"],["cols","4","rowHeight","100px"],[4,"ngFor","ngForOf"],[1,"scrollable-container"],[3,"treeData"],[1,"tree-info"],[3,"colspan","rowspan","click"]],template:function(i,s){1&i&&(Oe(0,"div",0)(1,"mat-accordion")(2,"mat-expansion-panel",1)(3,"mat-expansion-panel-header")(4,"mat-panel-title",2),cn(5," See other trees "),je()(),Oe(6,"mat-grid-list",3),Gs(7,UOe,3,5,"ng-container",4),je()()()(),Oe(8,"div",5),Br(9,"ftapp-tree-area",6),je(),Oe(10,"p",7),cn(11),je()),2&i&&(Lr(7),ri("ngForOf",s.tiles),Lr(2),ri("treeData",s.jsonData),Lr(2),pw("",s.tiletext," tree: ",null==s.jsonData||null==s.jsonData.info?null:s.jsonData.info.nr_people," people"))},dependencies:[eV,aAe,_q,yq,oAe,_Ae,wq,BOe],styles:[".mat-tab-group[_ngcontent-%COMP%], .mat-tab[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]{width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{width:100%;min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:16px;text-align:left;min-width:120px}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{flex:1 1 auto;word-wrap:break-word}.table-expansion-panel[_ngcontent-%COMP%]{background-color:#fff;color:#fff;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;cursor:pointer}.exp-panel-title[_ngcontent-%COMP%]{color:#000;text-shadow:none}.table-grid[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:20px}.tree-info[_ngcontent-%COMP%]{color:#9b9b9bc2;font-size:12px;margin:10px}.horizontal-layout[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;justify-content:flex-start}.expansion-panel-label[_ngcontent-%COMP%]{margin-right:20px;font-weight:700}.slider-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.button-container[_ngcontent-%COMP%], .button-primary[_ngcontent-%COMP%]{margin-left:20px}@media screen and (max-width: 768px){.horizontal-layout[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px;padding:10px;width:100%;max-height:50vh;overflow-y:auto}.button-container[_ngcontent-%COMP%], .button-primary[_ngcontent-%COMP%]{margin-left:0;margin-top:10px;width:100%;box-sizing:border-box}.slider-container[_ngcontent-%COMP%]{width:100%;margin-top:10px}.some-text-class[_ngcontent-%COMP%]{font-size:14px;line-height:1.4}}@media (hover: none){.mat-expansion-panel[_ngcontent-%COMP%]:not(.mat-expanded)   .mat-expansion-panel-header[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:#fff!important}}"]}),n})(),jOe=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Mt({type:e,selectors:[["ftapp-footer"]],decls:4,vars:0,consts:[[1,"bottom-card"],[1,"footer-content"]],template:function(i,s){1&i&&(Oe(0,"footer",0)(1,"div",1)(2,"p"),cn(3,"Boros Titusz - 2024"),je()()())},styles:[".bottom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#333;color:#fff;border-top:1px solid #444;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:center;align-items:center;padding:10px}.footer-content[_ngcontent-%COMP%]{text-align:center}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.footer-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:14px;cursor:pointer;transition:background-color .3s ease}.footer-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),n})();const zOe=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Mt({type:e,selectors:[["ftapp-home"]],decls:3,vars:0,template:function(i,s){1&i&&Br(0,"ftapp-header")(1,"ftapp-desktop")(2,"ftapp-footer")},dependencies:[Jue,$Oe,jOe],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;overflow:hidden}ftapp-top-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#fff;color:#fff;z-index:1000;height:64px}ftapp-bottom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#333;color:#fff;border-top:1px solid #444;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:center;align-items:center;padding:10px;height:60px}ftapp-desktop[_ngcontent-%COMP%]{margin-top:400px;margin-bottom:400px;padding:16px;height:calc(100vh - 124px);overflow:auto}"]}),n})()},{path:"**",component:Roe}];let HOe=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e}),e.\u0275inj=Ve({imports:[GB.forRoot(zOe),GB]}),n})(),GOe=(()=>{const e=class{constructor(){this.title="familytreeapp"}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Mt({type:e,selectors:[["ftapp-root"]],decls:1,vars:0,template:function(i,s){1&i&&Br(0,"router-outlet")},dependencies:[jE],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;overflow:hidden}ftapp-top-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#fff;color:#fff;z-index:1000;height:64px}ftapp-bottom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#333;color:#fff;border-top:1px solid #444;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:center;align-items:center;padding:10px;height:60px}ftapp-desktop[_ngcontent-%COMP%]{margin-top:400px;margin-bottom:400px;padding:16px;height:calc(100vh - 124px);overflow:auto}"]}),n})();function x5(n){return new x(3e3,!1)}function Ske(){return typeof window<"u"&&typeof window.document<"u"}function ak(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function No(n){switch(n.length){case 0:return new Yd;case 1:return n[0];default:return new WU(n)}}function M5(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,m)=>{let g=m,_=p;if("offset"!==m)switch(g=e.normalizePropertyName(g,o),_){case vC:_=i.get(m);break;case gs:_=s.get(m);break;default:_=e.normalizeStyleValue(m,g,_,o)}f.set(g,_)}),h||a.push(f),c=f,l=d}),o.length)throw function pke(n){return new x(3502,!1)}();return a}function lk(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ck(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ck(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ck(t,"destroy",n)))}}function ck(n,e,t){const s=uk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function uk(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Or(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function O5(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let dk=(n,e)=>!1,k5=(n,e,t)=>[],R5=null;function hk(n){const e=n.parentNode||n.host;return e===R5?null:e}(ak()||typeof Element<"u")&&(Ske()?(R5=(()=>document.documentElement)(),dk=(n,e)=>{for(;e;){if(e===n)return!0;e=hk(e)}return!1}):dk=(n,e)=>n.contains(e),k5=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let al=null,N5=!1;const P5=dk,F5=k5;let L5=(()=>{class n{validateStyleProperty(t){return function Ake(n){al||(al=function xke(){return typeof document<"u"?document.body:null}()||{},N5=!!al.style&&"WebkitAppearance"in al.style);let e=!0;return al.style&&!function Tke(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in al.style,!e&&N5&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in al.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return P5(t,r)}getParentElement(t){return hk(t)}query(t,r,i){return F5(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Yd(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),fk=(()=>{class n{}return n.NOOP=new L5,n})();const Mke=1e3,pk="ng-enter",Xv="ng-leave",Jv="ng-trigger",Zv=".ng-trigger",B5="ng-animating",gk=".ng-animating";function Bs(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mk(parseFloat(e[1]),e[2])}function mk(n,e){return"s"===e?n*Mke:n}function eb(n,e,t){return n.hasOwnProperty("duration")?n:function kke(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(x5()),{duration:0,delay:0,easing:""};i=mk(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=mk(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function WOe(){return new x(3100,!1)}()),a=!0),s<0&&(e.push(function qOe(){return new x(3101,!1)}()),a=!0),a&&e.splice(l,0,x5())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Gf(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function U5(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Po(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function j5(n,e,t){return t?e+":"+t+";":""}function z5(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=j5(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=j5(0,Fke(t),n.style[t]));n.setAttribute("style",e)}function Ki(n,e,t){n.style&&(e.forEach((r,i)=>{const s=yk(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),ak()&&z5(n))}function ll(n,e){n.style&&(e.forEach((t,r)=>{const i=yk(r);n.style[i]=""}),ak()&&z5(n))}function Wf(n){return Array.isArray(n)?1==n.length?n[0]:jU(n):n}const _k=new RegExp("{{\\s*(.+?)\\s*}}","g");function H5(n){let e=[];if("string"==typeof n){let t;for(;t=_k.exec(n);)e.push(t[1]);_k.lastIndex=0}return e}function qf(n,e,t){const r=n.toString(),i=r.replace(_k,(s,o)=>{let a=e[o];return null==a&&(t.push(function YOe(n){return new x(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function tb(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Pke=/-+([a-z0-9])/g;function yk(n){return n.replace(Pke,(...e)=>e[1].toUpperCase())}function Fke(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function QOe(n){return new x(3004,!1)}()}}function G5(n,e){return window.getComputedStyle(n)[e]}const ib="*";function jke(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function zke(n,e,t){if(":"==n[0]){const l=function Hke(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function uke(n){return new x(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function cke(n){return new x(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(W5(i,o));"<"==s[0]&&!(i==ib&&o==ib)&&e.push(W5(o,i))}(r,t,e)):t.push(n),t}const sb=new Set(["true","1"]),ob=new Set(["false","0"]);function W5(n,e){const t=sb.has(n)||ob.has(n),r=sb.has(e)||ob.has(e);return(i,s)=>{let o=n==ib||n==i,a=e==ib||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?sb.has(n):ob.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?sb.has(e):ob.has(e)),o&&a}}const Gke=new RegExp("s*:selfs*,?","g");function vk(n,e,t,r){return new Wke(n).build(e,t,r)}class Wke{constructor(e){this._driver=e}build(e,t,r){const i=new Yke(t);return this._resetContextStyleTimingState(i),kr(this,Wf(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function JOe(){return new x(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function ZOe(){return new x(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{H5(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(tb(s.values()),t.errors.push(function eke(n,e){return new x(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=kr(this,Wf(e.animation),t);return{type:1,matchers:jke(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:cl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>kr(this,r,t)),options:cl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=kr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:cl(e.options)}}visitAnimate(e,t){const r=function Xke(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return bk(eb(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=bk(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=eb(t,e);return bk(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:ki({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=ki(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===gs?r.push(a):t.errors.push(new x(3002,!1)):r.push(U5(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function nke(n,e,t,r,i){return new x(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function Nke(n,e,t){const r=e.params||{},i=H5(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function KOe(n){return new x(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function rke(){return new x(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(_=>{const b=this._makeStyleAst(_,t);let y=null!=b.offset?b.offset:function Qke(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(b.styles),D=0;return null!=y&&(s++,D=b.offset=y),l=l||D<0||D>1,a=a||D<c,c=D,o.push(D),b});l&&t.errors.push(function ike(){return new x(3012,!1)}()),a&&t.errors.push(function ske(){return new x(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function oke(){return new x(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((_,b)=>{const y=h>0?b==f?1:h*b:o[b],D=y*g;t.currentTime=p+m.delay+D,m.duration=D,this._validateStyleAst(_,t),_.offset=y,r.styles.push(_)}),r}visitReference(e,t){return{type:8,animation:kr(this,Wf(e.animation),t),options:cl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:cl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:cl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function qke(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Gke,"")),n=n.replace(/@\*/g,Zv).replace(/@\w+/g,t=>Zv+"-"+t.slice(1)).replace(/:animating/g,gk),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Or(t.collectedStyles,t.currentQuerySelector,new Map);const a=kr(this,Wf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:cl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function ake(){return new x(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:eb(e.timings,t.errors,!0);return{type:12,animation:kr(this,Wf(e.animation),t),timings:r,options:null}}}class Yke{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function cl(n){return n?(n=Gf(n)).params&&(n.params=function Kke(n){return n?Gf(n):null}(n.params)):n={},n}function bk(n,e,t){return{duration:n,delay:e,easing:t}}function wk(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ab{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const eRe=new RegExp(":enter","g"),nRe=new RegExp(":leave","g");function Ek(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new rRe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class rRe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new ab;const d=new Ck(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?Bs(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),kr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[wk(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Bs(qf(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Bs(r.duration):null,a=null!=r.delay?Bs(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),kr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=lb);const o=Bs(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>kr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Bs(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),kr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return eb(t.params?qf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Bs(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=lb);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),kr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;kr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const lb={};class Ck{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new cb(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Bs(r.duration)),null!=r.delay&&(i.delay=Bs(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=qf(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new Ck(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=lb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new iRe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(eRe,"."+this._enterClassName)).replace(nRe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function lke(n){return new x(3014,!1)}()),a}}class cb{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||gs),this._currentKeyframe.set(t,gs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function sRe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,gs)}else Po(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=qf(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??gs),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Po(a,new Map,this._backFill);c.forEach((u,d)=>{u===vC?e.add(d):u===gs&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?tb(e.values()):[],o=t.size?tb(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return wk(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class iRe extends cb{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Po(e[0]);l.set("offset",0),s.push(l);const c=Po(e[0]);c.set("offset",Y5(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Po(e[d]);const f=h.get("offset");h.set("offset",Y5((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return wk(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Y5(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Dk{}const oRe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class aRe extends Dk{normalizePropertyName(e,t){return yk(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(oRe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function XOe(n,e){return new x(3005,!1)}())}return o+s}}function Q5(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Ik={};class X5{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function lRe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Ik,p=this.buildStyles(r,a&&a.params||Ik,d),m=l&&l.params||Ik,g=this.buildStyles(i,m,d),_=new Set,b=new Map,y=new Map,D="void"===i,k={params:cRe(m,h),delay:this.ast.options?.delay},F=u?[]:Ek(e,t,this.ast.animation,s,o,p,g,k,c,d);let ee=0;if(F.forEach(Fe=>{ee=Math.max(Fe.duration+Fe.delay,ee)}),d.length)return Q5(t,this._triggerName,r,i,D,p,g,[],[],b,y,ee,d);F.forEach(Fe=>{const Te=Fe.element,At=Or(b,Te,new Set);Fe.preStyleProps.forEach(nt=>At.add(nt));const jn=Or(y,Te,new Set);Fe.postStyleProps.forEach(nt=>jn.add(nt)),Te!==t&&_.add(Te)});const fe=tb(_.values());return Q5(t,this._triggerName,r,i,D,p,g,F,fe,b,y,ee)}}function cRe(n,e){const t=Gf(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class uRe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Gf(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=qf(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class hRe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new uRe(i.style,i.options&&i.options.params||{},r))}),J5(this.states,"true","1"),J5(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new X5(e,i,this.states))}),this.fallbackTransition=function fRe(n,e,t){return new X5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function J5(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const pRe=new ab;class gRe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=vk(this._driver,t,r,i);if(r.length)throw function gke(n){return new x(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=M5(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=Ek(this._driver,t,s,pk,Xv,new Map,new Map,r,pRe,i),o.forEach(u=>{const d=Or(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function mke(){return new x(3300,!1)}()),o=[]),i.length)throw function _ke(n){return new x(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,gs))})});const c=No(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function yke(n){return new x(3301,!1)}();return t}listen(e,t,r,i){const s=uk(t,"","","");return lk(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Z5="ng-animate-queued",Sk="ng-animate-disabled",bRe=[],e7={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wRe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yr="__ng_removed";class Tk{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function IRe(n){return n??null}(r?e.value:e),r){const s=Gf(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Kf="void",Ak=new Tk(Kf);class ERe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Qr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function vke(n,e){return new x(3302,!1)}();if(null==r||0==r.length)throw function bke(n){return new x(3303,!1)}();if(!function SRe(n){return"start"==n||"done"==n}(r))throw function wke(n,e){return new x(3400,!1)}();const s=Or(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Or(this._engine.statesByElement,e,new Map);return a.has(t)||(Qr(e,Jv),Qr(e,Jv+"-"+t),a.set(t,Ak)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Eke(n){return new x(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new xk(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Qr(e,Jv),Qr(e,Jv+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new Tk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Ak),c.value!==Kf&&l.value===c.value){if(!function xRe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),_=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{ll(e,g),Ki(e,_)})}return}const h=Or(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Qr(e,Z5),o.onStart(()=>{Iu(e,Z5)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let _=g.indexOf(o);_>=0&&g.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Zv,!0);r.forEach(i=>{if(i[Yr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Kf,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&No(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||Ak,u=new Tk(Kf),d=new xk(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Yr];(!s||s===e7)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Qr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=uk(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,lk(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class CRe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new ERe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(ub(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ub(t))return;const s=t[Yr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qr(e,Sk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Iu(e,Sk))}removeNode(e,t,r,i){if(ub(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Yr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return ub(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Zv,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gk,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return No(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Yr];if(t&&t.setForRemoval){if(e[Yr]=e7,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Sk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Qr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?No(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Cke(n){return new x(3402,!1)}()}_flushAnimations(e,t){const r=new ab,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(E=>{u.add(E);const A=this.driver.query(E,".ng-animate-queued",!0);for(let N=0;N<A.length;N++)u.add(A[N])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=r7(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((E,A)=>{const N=pk+m++;p.set(A,N),E.forEach(L=>Qr(L,N))});const g=[],_=new Set,b=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){const A=this.collectedLeaveElements[E],N=A[Yr];N&&N.setForRemoval&&(g.push(A),_.add(A),N.hasAnimation?this.driver.query(A,".ng-star-inserted",!0).forEach(L=>_.add(L)):b.add(A))}const y=new Map,D=r7(h,Array.from(_));D.forEach((E,A)=>{const N=Xv+m++;y.set(A,N),E.forEach(L=>Qr(L,N))}),e.push(()=>{f.forEach((E,A)=>{const N=p.get(A);E.forEach(L=>Iu(L,N))}),D.forEach((E,A)=>{const N=y.get(A);E.forEach(L=>Iu(L,N))}),g.forEach(E=>{this.processLeaveNode(E)})});const k=[],F=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(t).forEach(N=>{const L=N.player,H=N.element;if(k.push(L),this.collectedEnterElements.length){const _e=H[Yr];if(_e&&_e.setForMove){if(_e.previousTriggersValues&&_e.previousTriggersValues.has(N.triggerName)){const bt=_e.previousTriggersValues.get(N.triggerName),sn=this.statesByElement.get(N.element);if(sn&&sn.has(N.triggerName)){const Yi=sn.get(N.triggerName);Yi.value=bt,sn.set(N.triggerName,Yi)}}return void L.destroy()}}const J=!d||!this.driver.containsElement(d,H),Z=y.get(H),vt=p.get(H),le=this._buildInstruction(N,r,vt,Z,J);if(le.errors&&le.errors.length)return void F.push(le);if(J)return L.onStart(()=>ll(H,le.fromStyles)),L.onDestroy(()=>Ki(H,le.toStyles)),void i.push(L);if(N.isFallbackTransition)return L.onStart(()=>ll(H,le.fromStyles)),L.onDestroy(()=>Ki(H,le.toStyles)),void i.push(L);const rn=[];le.timelines.forEach(_e=>{_e.stretchStartingKeyframe=!0,this.disabledNodes.has(_e.element)||rn.push(_e)}),le.timelines=rn,r.append(H,le.timelines),o.push({instruction:le,player:L,element:H}),le.queriedElements.forEach(_e=>Or(a,_e,[]).push(L)),le.preStyleProps.forEach((_e,bt)=>{if(_e.size){let sn=l.get(bt);sn||l.set(bt,sn=new Set),_e.forEach((Yi,Su)=>sn.add(Su))}}),le.postStyleProps.forEach((_e,bt)=>{let sn=c.get(bt);sn||c.set(bt,sn=new Set),_e.forEach((Yi,Su)=>sn.add(Su))})});if(F.length){const E=[];F.forEach(A=>{E.push(function Dke(n,e){return new x(3505,!1)}())}),k.forEach(A=>A.destroy()),this.reportError(E)}const ee=new Map,fe=new Map;o.forEach(E=>{const A=E.element;r.has(A)&&(fe.set(A,A),this._beforeAnimationBuild(E.player.namespaceId,E.instruction,ee))}),i.forEach(E=>{const A=E.element;this._getPreviousPlayers(A,!1,E.namespaceId,E.triggerName,null).forEach(L=>{Or(ee,A,[]).push(L),L.destroy()})});const Fe=g.filter(E=>s7(E,l,c)),Te=new Map;n7(Te,this.driver,b,c,gs).forEach(E=>{s7(E,l,c)&&Fe.push(E)});const jn=new Map;f.forEach((E,A)=>{n7(jn,this.driver,new Set(E),l,vC)}),Fe.forEach(E=>{const A=Te.get(E),N=jn.get(E);Te.set(E,new Map([...Array.from(A?.entries()??[]),...Array.from(N?.entries()??[])]))});const nt=[],I=[],W={};o.forEach(E=>{const{element:A,player:N,instruction:L}=E;if(r.has(A)){if(u.has(A))return N.onDestroy(()=>Ki(A,L.toStyles)),N.disabled=!0,N.overrideTotalTime(L.totalTime),void i.push(N);let H=W;if(fe.size>1){let Z=A;const vt=[];for(;Z=Z.parentNode;){const le=fe.get(Z);if(le){H=le;break}vt.push(Z)}vt.forEach(le=>fe.set(le,H))}const J=this._buildAnimation(N.namespaceId,L,ee,s,jn,Te);if(N.setRealPlayer(J),H===W)nt.push(N);else{const Z=this.playersByElement.get(H);Z&&Z.length&&(N.parentPlayer=No(Z)),i.push(N)}}else ll(A,L.fromStyles),N.onDestroy(()=>Ki(A,L.toStyles)),I.push(N),u.has(A)&&i.push(N)}),I.forEach(E=>{const A=s.get(E.element);if(A&&A.length){const N=No(A);E.setRealPlayer(N)}}),i.forEach(E=>{E.parentPlayer?E.syncPlayerEvents(E.parentPlayer):E.destroy()});for(let E=0;E<g.length;E++){const A=g[E],N=A[Yr];if(Iu(A,Xv),N&&N.hasAnimation)continue;let L=[];if(a.size){let J=a.get(A);J&&J.length&&L.push(...J);let Z=this.driver.query(A,gk,!0);for(let vt=0;vt<Z.length;vt++){let le=a.get(Z[vt]);le&&le.length&&L.push(...le)}}const H=L.filter(J=>!J.destroyed);H.length?TRe(this,A,H):this.processLeaveNode(A)}return g.length=0,nt.forEach(E=>{this.players.push(E),E.onDone(()=>{E.destroy();const A=this.players.indexOf(E);this.players.splice(A,1)}),E.play()}),nt}elementContainsData(e,t){let r=!1;const i=t[Yr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Kf;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Or(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ll(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[Yr];if(g&&g.removedBeforeQueried)return new Yd(p.duration,p.delay);const _=m!==l,b=function ARe(n){const e=[];return i7(n,e),e}((r.get(m)||bRe).map(ee=>ee.getRealPlayer())).filter(ee=>!!ee.element&&ee.element===m),y=s.get(m),D=o.get(m),k=M5(0,this._normalizer,0,p.keyframes,y,D),F=this._buildPlayer(p,k,b);if(p.subTimeline&&i&&d.add(m),_){const ee=new xk(e,a,m);ee.setRealPlayer(F),c.push(ee)}return F});c.forEach(p=>{Or(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function DRe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Qr(p,B5));const f=No(h);return f.onDestroy(()=>{u.forEach(p=>Iu(p,B5)),Ki(l,t.toStyles)}),d.forEach(p=>{Or(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Yd(e.duration,e.delay)}}class xk{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Yd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>lk(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Or(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ub(n){return n&&1===n.nodeType}function t7(n,e){const t=n.style.display;return n.style.display=e??"none",t}function n7(n,e,t,r,i){const s=[];t.forEach(l=>s.push(t7(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Yr]=wRe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>t7(l,s[a++])),o}function r7(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?r:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==r&&t.get(l).push(a)}),t}function Qr(n,e){n.classList?.add(e)}function Iu(n,e){n.classList?.remove(e)}function TRe(n,e,t){No(t).onDone(()=>n.processLeaveNode(e))}function i7(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof WU?i7(r.players,e):e.push(r)}}function s7(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class db{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new CRe(e,t,r),this._timelineEngine=new gRe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=[],u=vk(this._driver,s,l,c);if(l.length)throw function fke(n,e){return new x(3404,!1)}();a=function dRe(n,e,t){return new hRe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=O5(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=O5(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ORe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ki(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ki(this._element,this._initialStyles),this._endStyles&&(Ki(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ll(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ll(this._element,this._endStyles),this._endStyles=null),Ki(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Mk(n){let e=null;return n.forEach((t,r)=>{(function kRe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class o7{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:G5(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class RRe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return P5(e,t)}getParentElement(e){return hk(e)}query(e,t,r){return F5(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof o7);(function Lke(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function Rke(n){return n.length?n[0]instanceof Map?n:n.map(e=>U5(e)):[]}(t).map(f=>Po(f));d=function Vke(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,G5(n,a)))}}return e}(e,d,c);const h=function MRe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Mk(e[0]),e.length>1&&(r=Mk(e[e.length-1]))):e instanceof Map&&(t=Mk(e)),t||r?new ORe(n,t,r):null}(e,d);return new o7(e,d,l,h)}}let NRe=(()=>{class n extends UU{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Jr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?jU(t):t;return a7(this._renderer,null,r,"register",[i]),new PRe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(S(Zu),S(ge))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class PRe extends Hle{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new FRe(this._id,e,t||{},this._renderer)}}class FRe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return a7(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function a7(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const l7="@.disabled";let LRe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new c7("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new VRe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(S(Zu),S(db),S(pe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class c7{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==l7?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class VRe extends c7{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==l7?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function BRe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function URe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let $Re=(()=>{class n extends db{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(S(ge),S(fk),S(Dk),S(tc))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const u7=[{provide:UU,useClass:NRe},{provide:Dk,useFactory:function jRe(){return new aRe}},{provide:db,useClass:$Re},{provide:Zu,useFactory:function zRe(n,e,t){return new LRe(n,e,t)},deps:[Ng,db,pe]}],Ok=[{provide:fk,useFactory:()=>new RRe},{provide:Jo,useValue:"BrowserAnimations"},...u7],d7=[{provide:fk,useClass:L5},{provide:Jo,useValue:"NoopAnimations"},...u7];let HRe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?d7:Ok}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ue({type:n}),n.\u0275inj=Ve({providers:Ok,imports:[MV]}),n})();const GRe_firebase={apiKey:"AIzaSyBMJV1Vv0VH0Umvs2-rAqTg2c5ptH__rd8",authDomain:"familytreedatabase-c8bf3.firebaseapp.com",projectId:"familytreedatabase-c8bf3",storageBucket:"familytreedatabase-c8bf3.appspot.com",messagingSenderId:"83738970274",appId:"1:83738970274:web:106a6037cd0f8a9e7daffb",measurementId:"G-WC419XRBP5"};let WRe=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ue({type:e,bootstrap:[GOe]}),e.\u0275inj=Ve({imports:[Ace,MV,HOe,Fve(()=>Lve(GRe_firebase)),KEe(()=>YEe()),jTe(()=>zTe()),sce,Uce,Yue,fE,Uue,lAe,yAe,HRe]}),n})();Wre().bootstrapModule(WRe).catch(n=>console.error(n))}},Pe=>{Pe(Pe.s=5)}]);